<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MatsFuturizer (mats3 0.19.1-2022-11-13 API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MatsFuturizer (mats3 0.19.1-2022-11-13 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":9,"i12":9,"i13":9,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../io/mats3/util/MatsFuturizer.MatsFuturizerTimeoutException.html" title="class in io.mats3.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/mats3/util/MatsFuturizer.html" target="_top">Frames</a></li>
<li><a href="MatsFuturizer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.mats3.util</div>
<h2 title="Class MatsFuturizer" class="title">Class MatsFuturizer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>io.mats3.util.MatsFuturizer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">MatsFuturizer</span>
extends java.lang.Object
implements java.lang.AutoCloseable</pre>
<div class="block">An instance of this class acts as a bridge service between the synchronous world of e.g. a HTTP request, and the
 asynchronous world of Mats. In a given project, you typically create a single instance of this class upon startup,
 and employ it for all such scenarios. In short, in a HTTP service handler, you initialize a Mats flow using
 <a href="../../../io/mats3/util/MatsFuturizer.html#futurizeNonessential-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-java.lang.Object-"><code>singletonFuturizer.futurizeNonessential(...)</code></a> (or
 <code>futurize(...)</code> for full
 configurability), specifying which Mats Endpoint to invoke and the request DTO instance, and then you get a
 <code>CompletableFuture</code> in return. This future will complete once the invoked Mats Endpoint replies.
 <p />
 It is extremely important to understand that this is NOT how you compose multiple Mats Endpoints together! This is
 ONLY supposed to be used when you are in a synchronous context (e.g. in a Servlet, or a Spring @RequestMapping), and
 want to interact with the Mats fabric of services.
 <p />
 A question you should ask yourself, is how this works in a multi-node setup? For a Mats flow, it does not matter
 which node a given stage of a MatsEndpoint is performed, as it is by design totally stateless wrt. the executing
 node, as all state resides in the message. However, for a synchronous situation as in a HTTP request, it definitely
 matters that the final reply, the one that should complete the returned future, comes in on the same node that issued
 the request, as this is where the CompletableFuture instance is, and where the waiting TCP connection is connected!
 The trick here is that the final reply is specified to come in on a node-specific <i>Topic</i>, i.e. it literally has
 the node name (default being the hostname) as a part of the MatsEndpoint name, and it is a
 <code>SubscriptionTerminator</code>.
 <p />
 Another aspect to understand, is that while Mats "guarantees" that a submitted initiation will flow through the Mats
 endpoints, no matter what happens with the processing nodes <i>(unless you employ <i>NonPersistent messaging</i>,
 which futurizeNonessential(..) does!)</i>, nothing can be guaranteed wrt. the completion of the future: This is
 stateful processing. The node where the MatsFuturizer initiation is performed can crash right after the message has
 been put on the Mats fabric, and hence the CompletableFuture vanishes along with everything else on that node. The
 mats flow is however already in motion, and will be executed - but when the Reply comes in on the node-specific
 Topic, there is no longer any corresponding CompletableFuture to complete. This is also why you should not compose
 Mats endpoints using this familiar feeling that a CompletableFuture probably gives you: While a multi-stage
 MatsEndpoint is asynchronous, resilient and highly available and each stage is transactionally performed, with
 retries and all the goodness that comes with a message oriented architecture, once you rely on a CompletableFuture,
 you are in a synchronous world where a power outage or a reboot can stop the processing midway. Thus, the
 MatsFuturizer should always just be employed out the very outer edge facing the actual client - any other processing
 should be performed using MatsEndpoints, and composition of MatsEndpoints should be done using multi-stage
 MatsEndpoints.
 <p />
 Note that in the case of pure "GET-style" requests where information is only retrieved and no state in the total
 system is changed, everything is a bit more relaxed: If a processing fails, the worst thing that happens is a
 slightly annoyed user. But if this was an "add order" or "move money" instruction from the user, a mid-processing
 failure is rather bad and could require human intervention to clean up. Thus, the
 <code>futurizeNonessential(..)</code> method should only be employed for such "GET-style" requests, and any other
 potentially state changing operations must employ the generic <code>futurize(..)</code> method.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.MatsFuturizerTimeoutException.html" title="class in io.mats3.util">MatsFuturizer.MatsFuturizerTimeoutException</a></span></code>
<div class="block">This exception is raised through the <code>CompletableFuture</code> if the timeout specified when getting the
 <code>CompletableFuture</code> is reached (to get yourself a future, use one of the
 <a href="../../../io/mats3/util/MatsFuturizer.html#futurizeNonessential-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-java.lang.Object-"><code>futurizeXYZ(..)</code></a> methods).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="type parameter in MatsFuturizer.Promise">T</a>&gt;</span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;<a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="type parameter in MatsFuturizer.Reply">T</a>&gt;</span></code>
<div class="block">An instance of this class will be the return value of any <code>CompletableFuture</code>s created with the
 <a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util"><code>MatsFuturizer</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.HashMap&lt;java.lang.String,<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_correlationIdToPromiseMap">_correlationIdToPromiseMap</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.ThreadPoolExecutor</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_futureCompleterThreadPool">_futureCompleterThreadPool</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.locks.ReentrantLock</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_internalStateLock">_internalStateLock</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_matsFactory">_matsFactory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../io/mats3/MatsInitiator.html" title="interface in io.mats3">MatsInitiator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_matsInitiator">_matsInitiator</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_maxOutstandingPromises">_maxOutstandingPromises</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_nextInLineToTimeout">_nextInLineToTimeout</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../io/mats3/MatsEndpoint.html" title="interface in io.mats3">MatsEndpoint</a>&lt;java.lang.Void,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_replyHandlerEndpoint">_replyHandlerEndpoint</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_replyHandlerEndpointStarted">_replyHandlerEndpointStarted</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_runFlag">_runFlag</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_terminatorEndpointId">_terminatorEndpointId</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicInteger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_threadNumber">_threadNumber</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.locks.Condition</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_timeouterPing_InternalStateLock">_timeouterPing_InternalStateLock</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.PriorityQueue&lt;<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_timeoutSortedPromises">_timeoutSortedPromises</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#MatsFuturizer-io.mats3.MatsFactory-java.lang.String-int-int-int-">MatsFuturizer</a></span>(<a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
             java.lang.String&nbsp;endpointIdPrefix,
             int&nbsp;corePoolSize,
             int&nbsp;maxPoolSize,
             int&nbsp;maxOutstandingPromises)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_assertFuturizerRunning--">_assertFuturizerRunning</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected &lt;T&gt;&nbsp;<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_createPromise-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-int-java.util.concurrent.TimeUnit-">_createPromise</a></span>(java.lang.String&nbsp;traceId,
              java.lang.String&nbsp;from,
              java.lang.String&nbsp;to,
              java.lang.Class&lt;T&gt;&nbsp;replyClass,
              int&nbsp;timeout,
              java.util.concurrent.TimeUnit&nbsp;unit)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_deserializeReply-io.mats3.MatsEndpoint.MatsObject-java.lang.Class-">_deserializeReply</a></span>(<a href="../../../io/mats3/MatsEndpoint.MatsObject.html" title="interface in io.mats3">MatsEndpoint.MatsObject</a>&nbsp;matsObject,
                 java.lang.Class&lt;?&gt;&nbsp;toClass)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected &lt;T&gt;&nbsp;void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_enqueuePromise-io.mats3.util.MatsFuturizer.Promise-">_enqueuePromise</a></span>(<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;&nbsp;promise)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_handleRepliesForPromises-io.mats3.MatsEndpoint.ProcessContext-java.lang.String-io.mats3.MatsEndpoint.MatsObject-">_handleRepliesForPromises</a></span>(<a href="../../../io/mats3/MatsEndpoint.ProcessContext.html" title="interface in io.mats3">MatsEndpoint.ProcessContext</a>&lt;java.lang.Void&gt;&nbsp;context,
                         java.lang.String&nbsp;correlationId,
                         <a href="../../../io/mats3/MatsEndpoint.MatsObject.html" title="interface in io.mats3">MatsEndpoint.MatsObject</a>&nbsp;matsObject)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.ThreadPoolExecutor</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_newThreadPool-int-int-">_newThreadPool</a></span>(int&nbsp;corePoolSize,
              int&nbsp;maximumPoolSize)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected &lt;T&gt;&nbsp;void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_sendRequestToFulfillPromise-java.lang.String-java.lang.String-java.lang.String-java.lang.Object-io.mats3.MatsInitiator.InitiateLambda-io.mats3.util.MatsFuturizer.Promise-">_sendRequestToFulfillPromise</a></span>(java.lang.String&nbsp;from,
                            java.lang.String&nbsp;endpointId,
                            java.lang.String&nbsp;traceId,
                            java.lang.Object&nbsp;request,
                            <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;extraMessageInit,
                            <a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;&nbsp;promise)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_startTimeouterThread--">_startTimeouterThread</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_timeoutCompleteExceptionally-io.mats3.util.MatsFuturizer.Promise-java.lang.String-">_timeoutCompleteExceptionally</a></span>(<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&nbsp;promise,
                             java.lang.String&nbsp;msg)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#Z:Z_uncheckedComplete-io.mats3.MatsEndpoint.ProcessContext-java.lang.Object-io.mats3.util.MatsFuturizer.Promise-">_uncheckedComplete</a></span>(<a href="../../../io/mats3/MatsEndpoint.ProcessContext.html" title="interface in io.mats3">MatsEndpoint.ProcessContext</a>&lt;java.lang.Void&gt;&nbsp;context,
                  java.lang.Object&nbsp;replyObject,
                  <a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&nbsp;promise)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#close--">close</a></span>()</code>
<div class="block">Closes the MatsFuturizer.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static <a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#createMatsFuturizer-io.mats3.MatsFactory-">createMatsFuturizer</a></span>(<a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory)</code>
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM).</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static <a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#createMatsFuturizer-io.mats3.MatsFactory-java.lang.String-">createMatsFuturizer</a></span>(<a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
                   java.lang.String&nbsp;endpointIdPrefix)</code>
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM).</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static <a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#createMatsFuturizer-io.mats3.MatsFactory-java.lang.String-int-int-int-">createMatsFuturizer</a></span>(<a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
                   java.lang.String&nbsp;endpointIdPrefix,
                   int&nbsp;corePoolSize,
                   int&nbsp;maxPoolSize,
                   int&nbsp;maxOutstandingPromises)</code>
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM).</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#futurize-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-java.lang.Object-io.mats3.MatsInitiator.InitiateLambda-">futurize</a></span>(java.lang.String&nbsp;traceId,
        java.lang.String&nbsp;from,
        java.lang.String&nbsp;to,
        java.lang.Class&lt;T&gt;&nbsp;replyClass,
        java.lang.Object&nbsp;request,
        <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;customInit)</code>
<div class="block">Convenience-variant of the generic
 <code>futurize(..)</code> form, where
 the timeout is set to 2.5 minutes.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#futurize-java.lang.String-java.lang.String-java.lang.String-int-java.util.concurrent.TimeUnit-java.lang.Class-java.lang.Object-io.mats3.MatsInitiator.InitiateLambda-">futurize</a></span>(java.lang.String&nbsp;traceId,
        java.lang.String&nbsp;from,
        java.lang.String&nbsp;to,
        int&nbsp;timeout,
        java.util.concurrent.TimeUnit&nbsp;unit,
        java.lang.Class&lt;T&gt;&nbsp;replyClass,
        java.lang.Object&nbsp;request,
        <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;customInit)</code>
<div class="block">The generic form of initiating a request-message that returns a <code>CompletableFuture</code>, which enables you to
 tailor all properties.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#futurizeNonessential-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-java.lang.Object-">futurizeNonessential</a></span>(java.lang.String&nbsp;traceId,
                    java.lang.String&nbsp;from,
                    java.lang.String&nbsp;to,
                    java.lang.Class&lt;T&gt;&nbsp;replyClass,
                    java.lang.Object&nbsp;request)</code>
<div class="block"><b>NOTICE: This variant must <u>only</u> be used for "GET-style" Requests where none of the endpoints the call
 flow passes will add, remove or alter any state of the system, and where it doesn't matter all that much if a
 message (and hence the Mats flow) is lost!</b>
 <p />
 The goal of this method is to be able to get hold of e.g.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.ThreadPoolExecutor</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#getCompleterThreadPool--">getCompleterThreadPool</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../io/mats3/util/MatsFuturizer.html#getOutstandingPromiseCount--">getOutstandingPromiseCount</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_matsFactory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_matsFactory</h4>
<pre>protected final&nbsp;<a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a> _matsFactory</pre>
</li>
</ul>
<a name="Z:Z_matsInitiator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_matsInitiator</h4>
<pre>protected final&nbsp;<a href="../../../io/mats3/MatsInitiator.html" title="interface in io.mats3">MatsInitiator</a> _matsInitiator</pre>
</li>
</ul>
<a name="Z:Z_terminatorEndpointId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_terminatorEndpointId</h4>
<pre>protected final&nbsp;java.lang.String _terminatorEndpointId</pre>
</li>
</ul>
<a name="Z:Z_futureCompleterThreadPool">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_futureCompleterThreadPool</h4>
<pre>protected final&nbsp;java.util.concurrent.ThreadPoolExecutor _futureCompleterThreadPool</pre>
</li>
</ul>
<a name="Z:Z_maxOutstandingPromises">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_maxOutstandingPromises</h4>
<pre>protected final&nbsp;int _maxOutstandingPromises</pre>
</li>
</ul>
<a name="Z:Z_replyHandlerEndpoint">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_replyHandlerEndpoint</h4>
<pre>protected final&nbsp;<a href="../../../io/mats3/MatsEndpoint.html" title="interface in io.mats3">MatsEndpoint</a>&lt;java.lang.Void,java.lang.String&gt; _replyHandlerEndpoint</pre>
</li>
</ul>
<a name="Z:Z_threadNumber">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_threadNumber</h4>
<pre>protected final&nbsp;java.util.concurrent.atomic.AtomicInteger _threadNumber</pre>
</li>
</ul>
<a name="Z:Z_replyHandlerEndpointStarted">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_replyHandlerEndpointStarted</h4>
<pre>protected volatile&nbsp;boolean _replyHandlerEndpointStarted</pre>
</li>
</ul>
<a name="Z:Z_internalStateLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_internalStateLock</h4>
<pre>protected final&nbsp;java.util.concurrent.locks.ReentrantLock _internalStateLock</pre>
</li>
</ul>
<a name="Z:Z_timeouterPing_InternalStateLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_timeouterPing_InternalStateLock</h4>
<pre>protected final&nbsp;java.util.concurrent.locks.Condition _timeouterPing_InternalStateLock</pre>
</li>
</ul>
<a name="Z:Z_correlationIdToPromiseMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_correlationIdToPromiseMap</h4>
<pre>protected final&nbsp;java.util.HashMap&lt;java.lang.String,<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&gt; _correlationIdToPromiseMap</pre>
</li>
</ul>
<a name="Z:Z_timeoutSortedPromises">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_timeoutSortedPromises</h4>
<pre>protected final&nbsp;java.util.PriorityQueue&lt;<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&gt; _timeoutSortedPromises</pre>
</li>
</ul>
<a name="Z:Z_nextInLineToTimeout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_nextInLineToTimeout</h4>
<pre>protected&nbsp;<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt; _nextInLineToTimeout</pre>
</li>
</ul>
<a name="Z:Z_runFlag">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_runFlag</h4>
<pre>protected volatile&nbsp;boolean _runFlag</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MatsFuturizer-io.mats3.MatsFactory-java.lang.String-int-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MatsFuturizer</h4>
<pre>protected&nbsp;MatsFuturizer(<a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
                        java.lang.String&nbsp;endpointIdPrefix,
                        int&nbsp;corePoolSize,
                        int&nbsp;maxPoolSize,
                        int&nbsp;maxOutstandingPromises)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createMatsFuturizer-io.mats3.MatsFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMatsFuturizer</h4>
<pre>public static&nbsp;<a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a>&nbsp;createMatsFuturizer(<a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory)</pre>
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM). The defaults for the parameters from the fully fledged factory method are
 identical to the <a href="../../../io/mats3/util/MatsFuturizer.html#createMatsFuturizer-io.mats3.MatsFactory-java.lang.String-"><code>createMatsFuturizer(MatsFactory, String)</code></a>, but with this variant also the
 'endpointIdPrefix' is set to what is returned by <code>matsFactory.getFactoryConfig().getAppName()</code>.
 <b>Note that if you - against the above suggestion - create more than one MatsFuturizer for a MatsFactory, then
 you MUST give them different endpointIdPrefixes, thus you cannot use this method!</b></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>matsFactory</code> - the underlying <a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3"><code>MatsFactory</code></a> on which outgoing messages will be sent, and on which the receiving
            <code>SubscriptionTerminator</code> will be created.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util"><code>MatsFuturizer</code></a>, which is tied to a newly created
         <code>SubscriptionTerminator</code>.</dd>
</dl>
</li>
</ul>
<a name="createMatsFuturizer-io.mats3.MatsFactory-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMatsFuturizer</h4>
<pre>public static&nbsp;<a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a>&nbsp;createMatsFuturizer(<a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
                                                java.lang.String&nbsp;endpointIdPrefix)</pre>
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM). The number of threads in the future-completer-pool is what
 <a href="../../../io/mats3/MatsConfig.html#getConcurrency--"><code>matsFactory.getFactoryConfig().getConcurrency()</code></a> returns at creation time x
 4 for "corePoolSize", but at least 5, (i.e. "min"); and concurrency * 20, but at least 100, for "maximumPoolSize"
 (i.e. max). The pool is set up to let non-core threads expire after 5 minutes. The maximum number of outstanding
 promises is set to 50k.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>matsFactory</code> - the underlying <a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3"><code>MatsFactory</code></a> on which outgoing messages will be sent, and on which the receiving
            <code>SubscriptionTerminator</code> will be created.</dd>
<dd><code>endpointIdPrefix</code> - the first part of the endpointId, which typically should be some "class-like" construct denoting the
            service name, like "OrderService" or "InventoryService", preferably the same prefix you use for all
            your other endpoints running on this same service. <b>Note: If you create multiple MatsFuturizers for
            a MatsFactory, this parameter must be different for each instance!</b></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util"><code>MatsFuturizer</code></a>, which is tied to a newly created
         <code>SubscriptionTerminator</code>.</dd>
</dl>
</li>
</ul>
<a name="createMatsFuturizer-io.mats3.MatsFactory-java.lang.String-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMatsFuturizer</h4>
<pre>public static&nbsp;<a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a>&nbsp;createMatsFuturizer(<a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
                                                java.lang.String&nbsp;endpointIdPrefix,
                                                int&nbsp;corePoolSize,
                                                int&nbsp;maxPoolSize,
                                                int&nbsp;maxOutstandingPromises)</pre>
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM). With this factory method you can specify the number of threads in the
 future-completer-pool with the parameters "corePoolSize" and "maxPoolSize" threads, which effectively means min
 and max. The pool is set up to let non-core threads expire after 5 minutes. You must also specify the max number
 of outstanding promises, if you want no effective limit, use <code>Integer.MAX_VALUE</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>matsFactory</code> - the underlying <a href="../../../io/mats3/MatsFactory.html" title="interface in io.mats3"><code>MatsFactory</code></a> on which outgoing messages will be sent, and on which the receiving
            <code>SubscriptionTerminator</code> will be created.</dd>
<dd><code>endpointIdPrefix</code> - the first part of the endpointId, which typically should be some "class-like" construct denoting the
            service name, like "OrderService" or "InventoryService", preferably the same prefix you use for all
            your other endpoints running on this same service. <b>Note: If you create multiple MatsFuturizers for
            a MatsFactory, this parameter must be different for each instance!</b></dd>
<dd><code>corePoolSize</code> - the minimum number of threads in the future-completer-pool of threads.</dd>
<dd><code>maxPoolSize</code> - the maximum number of threads in the future-completer-pool of threads.</dd>
<dd><code>maxOutstandingPromises</code> - the maximum number of outstanding Promises before new are rejected. Should be a fairly high number,
            e.g. the default of <a href="../../../io/mats3/util/MatsFuturizer.html#createMatsFuturizer-io.mats3.MatsFactory-java.lang.String-"><code>createMatsFuturizer(MatsFactory, String)</code></a> is 50k.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../io/mats3/util/MatsFuturizer.html" title="class in io.mats3.util"><code>MatsFuturizer</code></a>, which is tied to a newly created
         <code>SubscriptionTerminator</code>.</dd>
</dl>
</li>
</ul>
<a name="futurize-java.lang.String-java.lang.String-java.lang.String-int-java.util.concurrent.TimeUnit-java.lang.Class-java.lang.Object-io.mats3.MatsInitiator.InitiateLambda-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>futurize</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;&nbsp;futurize(java.lang.String&nbsp;traceId,
                                                                                   java.lang.String&nbsp;from,
                                                                                   java.lang.String&nbsp;to,
                                                                                   int&nbsp;timeout,
                                                                                   java.util.concurrent.TimeUnit&nbsp;unit,
                                                                                   java.lang.Class&lt;T&gt;&nbsp;replyClass,
                                                                                   java.lang.Object&nbsp;request,
                                                                                   <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;customInit)</pre>
<div class="block">The generic form of initiating a request-message that returns a <code>CompletableFuture</code>, which enables you to
 tailor all properties. To set interactive-, nonPersistent- or noAudit-flags, or to tack on any
 <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#addBytes-java.lang.String-byte:A-"><code>"sideloads"</code></a> to the outgoing message, use the "customInit"
 parameter, which directly is the <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3"><code>InitiateLambda</code></a> that the MatsFuturizer initiation is
 using.
 <p/>
 For a bit more explanation, please read JavaDoc of
 <a href="../../../io/mats3/util/MatsFuturizer.html#futurizeNonessential-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-java.lang.Object-"><code>futurizeInteractiveUnreliable(..)</code></a></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the reply DTO.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>traceId</code> - TraceId of the resulting Mats call flow, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#traceId-java.lang.CharSequence-"><code>MatsInitiator.MatsInitiate.traceId(CharSequence)</code></a></dd>
<dd><code>from</code> - the "from" of the initiation, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#from-java.lang.String-"><code>MatsInitiator.MatsInitiate.from(String)</code></a></dd>
<dd><code>to</code> - to which Mats endpoint the request should go, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#to-java.lang.String-"><code>MatsInitiator.MatsInitiate.to(String)</code></a></dd>
<dd><code>timeout</code> - how long before the internal timeout-mechanism of MatsFuturizer kicks in and the future is
            <code>completed exceptionally</code> with a
            <a href="../../../io/mats3/util/MatsFuturizer.MatsFuturizerTimeoutException.html" title="class in io.mats3.util"><code>MatsFuturizer.MatsFuturizerTimeoutException</code></a>.</dd>
<dd><code>unit</code> - the unit of time of the 'timeout' parameter.</dd>
<dd><code>replyClass</code> - which expected reply DTO class that the requested endpoint replies with.</dd>
<dd><code>request</code> - the request DTO that should be sent to the endpoint, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#request-java.lang.Object-"><code>MatsInitiator.MatsInitiate.request(Object)</code></a></dd>
<dd><code>customInit</code> - the <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3"><code>MatsInitiator.InitiateLambda</code></a> that the MatsFuturizer is employing to initiate the outgoing message, which
            you can use to tailor the message, e.g. setting the <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#interactive--"><code>interactive</code></a>-flag or tacking on <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#addBytes-java.lang.String-byte:A-"><code>"sideloads"</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>CompletableFuture</code> which will be resolved with a <a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util"><code>MatsFuturizer.Reply</code></a>-instance that contains both some
         meta-data, and the <a href="../../../io/mats3/util/MatsFuturizer.Reply.html#reply"><code>reply</code></a> from the requested endpoint.</dd>
</dl>
</li>
</ul>
<a name="futurize-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-java.lang.Object-io.mats3.MatsInitiator.InitiateLambda-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>futurize</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;&nbsp;futurize(java.lang.String&nbsp;traceId,
                                                                                   java.lang.String&nbsp;from,
                                                                                   java.lang.String&nbsp;to,
                                                                                   java.lang.Class&lt;T&gt;&nbsp;replyClass,
                                                                                   java.lang.Object&nbsp;request,
                                                                                   <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;customInit)</pre>
<div class="block">Convenience-variant of the generic
 <code>futurize(..)</code> form, where
 the timeout is set to 2.5 minutes. To set interactive-, nonPersistent- or noAudit-flags, or to tack on any
 <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#addBytes-java.lang.String-byte:A-"><code>"sideloads"</code></a> to the outgoing message, use the "customInit"
 parameter, which directly is the <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3"><code>InitiateLambda</code></a> that the MatsFuturizer initiation is
 using.
 <p/>
 For a bit more explanation, please read JavaDoc of
 <a href="../../../io/mats3/util/MatsFuturizer.html#futurizeNonessential-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-java.lang.Object-"><code>futurizeInteractiveUnreliable(..)</code></a></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the reply DTO.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>traceId</code> - TraceId of the resulting Mats call flow, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#traceId-java.lang.CharSequence-"><code>MatsInitiator.MatsInitiate.traceId(CharSequence)</code></a></dd>
<dd><code>from</code> - the "from" of the initiation, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#from-java.lang.String-"><code>MatsInitiator.MatsInitiate.from(String)</code></a></dd>
<dd><code>to</code> - to which Mats endpoint the request should go, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#to-java.lang.String-"><code>MatsInitiator.MatsInitiate.to(String)</code></a> the unit of time of
            the 'timeout' parameter.</dd>
<dd><code>replyClass</code> - which expected reply DTO class that the requested endpoint replies with.</dd>
<dd><code>request</code> - the request DTO that should be sent to the endpoint, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#request-java.lang.Object-"><code>MatsInitiator.MatsInitiate.request(Object)</code></a></dd>
<dd><code>customInit</code> - the <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3"><code>MatsInitiator.InitiateLambda</code></a> that the MatsFuturizer is employing to initiate the outgoing message, which
            you can use to tailor the message, e.g. setting the <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#interactive--"><code>interactive</code></a>-flag or tacking on <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#addBytes-java.lang.String-byte:A-"><code>"sideloads"</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>CompletableFuture</code> which will be resolved with a <a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util"><code>MatsFuturizer.Reply</code></a>-instance that contains both some
         meta-data, and the <a href="../../../io/mats3/util/MatsFuturizer.Reply.html#reply"><code>reply</code></a> from the requested endpoint.</dd>
</dl>
</li>
</ul>
<a name="futurizeNonessential-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>futurizeNonessential</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;&nbsp;futurizeNonessential(java.lang.String&nbsp;traceId,
                                                                                               java.lang.String&nbsp;from,
                                                                                               java.lang.String&nbsp;to,
                                                                                               java.lang.Class&lt;T&gt;&nbsp;replyClass,
                                                                                               java.lang.Object&nbsp;request)</pre>
<div class="block"><b>NOTICE: This variant must <u>only</u> be used for "GET-style" Requests where none of the endpoints the call
 flow passes will add, remove or alter any state of the system, and where it doesn't matter all that much if a
 message (and hence the Mats flow) is lost!</b>
 <p />
 The goal of this method is to be able to get hold of e.g. account holdings, order statuses etc, for presentation
 to a user. The thinking is that if such a flow fails where a message of the call flow disappears, this won't make
 for anything else than a bit annoyed user: No important state change, like the adding, deleting or change of an
 order, will be lost. Also, speed is of the essence. Therefore, <i>non-persistent</i>. At the same time, to make
 the user super happy in the ordinary circumstances, all messages in this call flow will be prioritized, and thus
 skip any queue backlogs that have arose on any of the call flow's endpoints, e.g. due to some massive batch of
 (background) processes executing at the same time. Therefore, <i>interactive</i>. Notice that with both of these
 features combined, you get very fast messaging, as non-persistent means that the message will not have to be
 stored to permanent storage at any point, while interactive means that it will skip any backlogged queues. In
 addition, the <i>noAudit</i> flag is set, since it is a waste of storage space to archive the actual contents of
 Request and Reply messages that do not alter the system.
 <p />
 Sets the following properties on the sent Mats message:
 <ul>
 <li><b>Non-persistent</b>: Since it is not vitally important that this message is not lost, non-persistent
 messaging can be used. The minuscule chance for this message to disappear is not worth the considerable overhead
 of store-and-forward multiple times to persistent storage. Also, speed is much more interesting.</li>
 <li><b>Interactive</b>: Since the Futurizer should only be used as a "synchronous bridge" when a human is
 actively waiting for the response, the interactive flag is set. <i>(For all other users, you should rather code
 "proper Mats" with initiations, endpoints and terminators)</i>.</li>
 <li><b>No audit</b>: Since this message will not change the state of the system (i.e. the "GET-style" requests),
 using storage on auditing requests and replies is not worthwhile.</li>
 </ul>
 This method initiates an <b><a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#nonPersistent--"><code>non-persistent</code></a></b> (unreliable),
 <b><a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#interactive--"><code>interactive</code></a></b> (prioritized), <b><a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#noAudit--"><code>non-audited</code></a></b> (request and reply DTOs won't be archived) Request-message to the specified endpoint, returning
 a <code>CompletableFuture</code> that will be <code>completed</code> when the Reply from
 the requested endpoint comes back. The internal MatsFuturizer timeout will be set to <b>2.5 minutes</b>, meaning
 that if there is no reply forthcoming within that time, the <code>CompletableFuture</code> will be
 <code>completed exceptionally</code> with a
 <a href="../../../io/mats3/util/MatsFuturizer.MatsFuturizerTimeoutException.html" title="class in io.mats3.util"><code>MatsFuturizerTimeoutException</code></a>, and the Promise deleted from the futurizer.
 2.5 minutes is probably too long to wait for any normal interaction with a system, so if you use the
 <code>CompletableFuture.get(timeout, TimeUnit)</code> method of the returned
 future, you might want to put a lower timeout there - if the answer hasn't come within that time, you'll get a
 <code>TimeoutException</code>. If you instead use the non-param variant <code>get()</code>, you
 will get an <code>ExecutionException</code> when the 2.5 minutes have passed (that exception's
 <code>cause</code> will be the <a href="../../../io/mats3/util/MatsFuturizer.MatsFuturizerTimeoutException.html" title="class in io.mats3.util"><code>MatsFuturizerTimeoutException</code></a> mentioned above).</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the reply DTO.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>traceId</code> - TraceId of the resulting Mats call flow, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#traceId-java.lang.CharSequence-"><code>MatsInitiator.MatsInitiate.traceId(CharSequence)</code></a></dd>
<dd><code>from</code> - the "from" of the initiation, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#from-java.lang.String-"><code>MatsInitiator.MatsInitiate.from(String)</code></a></dd>
<dd><code>to</code> - to which Mats endpoint the request should go, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#to-java.lang.String-"><code>MatsInitiator.MatsInitiate.to(String)</code></a></dd>
<dd><code>replyClass</code> - which expected reply DTO class that the requested endpoint replies with.</dd>
<dd><code>request</code> - the request DTO that should be sent to the endpoint, see <a href="../../../io/mats3/MatsInitiator.MatsInitiate.html#request-java.lang.Object-"><code>MatsInitiator.MatsInitiate.request(Object)</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>CompletableFuture</code> which will be resolved with a <a href="../../../io/mats3/util/MatsFuturizer.Reply.html" title="class in io.mats3.util"><code>MatsFuturizer.Reply</code></a>-instance that contains both some
         meta-data, and the <a href="../../../io/mats3/util/MatsFuturizer.Reply.html#reply"><code>reply</code></a> from the requested endpoint.</dd>
</dl>
</li>
</ul>
<a name="getOutstandingPromiseCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutstandingPromiseCount</h4>
<pre>public&nbsp;int&nbsp;getOutstandingPromiseCount()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of outstanding promises, not yet completed or timed out.</dd>
</dl>
</li>
</ul>
<a name="getCompleterThreadPool--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompleterThreadPool</h4>
<pre>public&nbsp;java.util.concurrent.ThreadPoolExecutor&nbsp;getCompleterThreadPool()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the future-completer-thread-pool, for introspection. If you mess with it, you <i>will</i> be sorry..!</dd>
</dl>
</li>
</ul>
<a name="Z:Z_newThreadPool-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_newThreadPool</h4>
<pre>protected&nbsp;java.util.concurrent.ThreadPoolExecutor&nbsp;_newThreadPool(int&nbsp;corePoolSize,
                                                                 int&nbsp;maximumPoolSize)</pre>
</li>
</ul>
<a name="Z:Z_createPromise-java.lang.String-java.lang.String-java.lang.String-java.lang.Class-int-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_createPromise</h4>
<pre>protected&nbsp;&lt;T&gt;&nbsp;<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;&nbsp;_createPromise(java.lang.String&nbsp;traceId,
                                                      java.lang.String&nbsp;from,
                                                      java.lang.String&nbsp;to,
                                                      java.lang.Class&lt;T&gt;&nbsp;replyClass,
                                                      int&nbsp;timeout,
                                                      java.util.concurrent.TimeUnit&nbsp;unit)</pre>
</li>
</ul>
<a name="Z:Z_enqueuePromise-io.mats3.util.MatsFuturizer.Promise-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_enqueuePromise</h4>
<pre>protected&nbsp;&lt;T&gt;&nbsp;void&nbsp;_enqueuePromise(<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;&nbsp;promise)</pre>
</li>
</ul>
<a name="Z:Z_assertFuturizerRunning--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_assertFuturizerRunning</h4>
<pre>protected&nbsp;void&nbsp;_assertFuturizerRunning()</pre>
</li>
</ul>
<a name="Z:Z_sendRequestToFulfillPromise-java.lang.String-java.lang.String-java.lang.String-java.lang.Object-io.mats3.MatsInitiator.InitiateLambda-io.mats3.util.MatsFuturizer.Promise-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_sendRequestToFulfillPromise</h4>
<pre>protected&nbsp;&lt;T&gt;&nbsp;void&nbsp;_sendRequestToFulfillPromise(java.lang.String&nbsp;from,
                                                java.lang.String&nbsp;endpointId,
                                                java.lang.String&nbsp;traceId,
                                                java.lang.Object&nbsp;request,
                                                <a href="../../../io/mats3/MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;extraMessageInit,
                                                <a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;&nbsp;promise)</pre>
</li>
</ul>
<a name="Z:Z_handleRepliesForPromises-io.mats3.MatsEndpoint.ProcessContext-java.lang.String-io.mats3.MatsEndpoint.MatsObject-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_handleRepliesForPromises</h4>
<pre>protected&nbsp;void&nbsp;_handleRepliesForPromises(<a href="../../../io/mats3/MatsEndpoint.ProcessContext.html" title="interface in io.mats3">MatsEndpoint.ProcessContext</a>&lt;java.lang.Void&gt;&nbsp;context,
                                         java.lang.String&nbsp;correlationId,
                                         <a href="../../../io/mats3/MatsEndpoint.MatsObject.html" title="interface in io.mats3">MatsEndpoint.MatsObject</a>&nbsp;matsObject)</pre>
</li>
</ul>
<a name="Z:Z_deserializeReply-io.mats3.MatsEndpoint.MatsObject-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_deserializeReply</h4>
<pre>protected&nbsp;java.lang.Object&nbsp;_deserializeReply(<a href="../../../io/mats3/MatsEndpoint.MatsObject.html" title="interface in io.mats3">MatsEndpoint.MatsObject</a>&nbsp;matsObject,
                                             java.lang.Class&lt;?&gt;&nbsp;toClass)</pre>
</li>
</ul>
<a name="Z:Z_uncheckedComplete-io.mats3.MatsEndpoint.ProcessContext-java.lang.Object-io.mats3.util.MatsFuturizer.Promise-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_uncheckedComplete</h4>
<pre>protected&nbsp;void&nbsp;_uncheckedComplete(<a href="../../../io/mats3/MatsEndpoint.ProcessContext.html" title="interface in io.mats3">MatsEndpoint.ProcessContext</a>&lt;java.lang.Void&gt;&nbsp;context,
                                  java.lang.Object&nbsp;replyObject,
                                  <a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&nbsp;promise)</pre>
</li>
</ul>
<a name="Z:Z_startTimeouterThread--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_startTimeouterThread</h4>
<pre>protected&nbsp;void&nbsp;_startTimeouterThread()</pre>
</li>
</ul>
<a name="Z:Z_timeoutCompleteExceptionally-io.mats3.util.MatsFuturizer.Promise-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_timeoutCompleteExceptionally</h4>
<pre>protected&nbsp;void&nbsp;_timeoutCompleteExceptionally(<a href="../../../io/mats3/util/MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&nbsp;promise,
                                             java.lang.String&nbsp;msg)</pre>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes the MatsFuturizer. Notice: Spring will also notice this method if the MatsFuturizer is registered as a
 <code>@Bean</code>, and will register it as a destroy method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../io/mats3/util/MatsFuturizer.MatsFuturizerTimeoutException.html" title="class in io.mats3.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?io/mats3/util/MatsFuturizer.html" target="_top">Frames</a></li>
<li><a href="MatsFuturizer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
