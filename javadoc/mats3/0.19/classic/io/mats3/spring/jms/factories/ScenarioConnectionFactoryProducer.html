<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ScenarioConnectionFactoryProducer (mats3 0.19.9-2023-05-04 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ScenarioConnectionFactoryProducer (mats3 0.19.9-2023-05-04 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html" title="enum in io.mats3.spring.jms.factories"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.html" title="class in io.mats3.spring.jms.factories"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" target="_top">Frames</a></li>
<li><a href="ScenarioConnectionFactoryProducer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.mats3.spring.jms.factories</div>
<h2 title="Class ScenarioConnectionFactoryProducer" class="title">Class ScenarioConnectionFactoryProducer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>io.mats3.spring.jms.factories.ScenarioConnectionFactoryProducer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html" title="interface in io.mats3.spring.jms.factories">MatsProfiles</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ScenarioConnectionFactoryProducer</span>
extends java.lang.Object
implements <a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html" title="interface in io.mats3.spring.jms.factories">MatsProfiles</a></pre>
<div class="block">Provides a factory for a Spring-integrated Wrapper/Facade around a JMS ConnectionFactory, which in addition to
 supporting the production setup, also facilitates the development situation where you often want to run against
 either an in-vm MQ Broker or against a MQ Broker running on localhost, and also integrates with the
 "mats-spring-test" integration test library where when run with the <code>MatsTestProfile</code> you will most
 probably want an in-vm setup (typically mocking up the project-external Mats endpoints that the tested endpoints
 collaborate with). In the in-vm broker situations, the JMS ConnectionFactory instantiation lambda you provide for
 what will be used in the production setup will <b>not</b> be invoked, but instead an in-vm ActiveMQ Broker will be
 started, and an ActiveMQ ConnectionFactory will be produced. <i>(ActiveMQ is default, but this class by default
 employs the <a href="../../../../../io/mats3/test/broker/MatsTestBroker.html" title="interface in io.mats3.test.broker"><code>MatsTestBroker</code></a> tool class for creating these connections, and this class can be directed to
 instead create, or connect to, an Artemis broker).</i>
 <p/>
 Note: The actual decision logic and "Spring interfacing" is done in <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.html" title="class in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryWrapper</code></a>, which
 is the actual class of instances that will end up as Spring beans - this class is a producer of such instances,
 simplifying the configuration, providing sane defaults.
 <p/>
 <b>Do note that this is purely a convenience functionality, and is in no way required for the Mats system to
 work!</b>
 <p/>
 As a matter of fact, you can achieve the exact same with Spring's Profiles (or any other "switch configuration based
 on some property or state"-logic you can cook up), but this class effectively represents an opinionated
 implementation of the config switching that will be needed in most scenarios working with Mats, and will probably
 yield less configuration overall. Moreover, Mats will most probably be employed in a micro/multiple service
 architecture, and in such situations, it is nice to make some in-house library that constitute basic building blocks
 that all the services will need. With that in mind, this class also facilitates so you can easily construct an
 <code>@CompanyMatsSetup</code>-type annotation which alone will pull up both the needed ConnectionFactory (with URL
 and whatever needed already set) and MatsFactory, which handles all the mentioned scenarios, by merely placing that
 annotation on the main config class of your service.
 <p/>
 The point is this: If you are new to Message Queue based development, you will probably soon sit with the problem of
 how to create a code base that efficiently lets you run it in production, while also is easy to develop on, and being
 simple to perform integration test on your endpoints - the problem being that you need different types of
 ConnectionFactories for the different scenarios, and in some cases also needing an in-vm MQ Broker.
 <p/>
 There are typically four different scenarios that you need to juggle between, the two latter being identical wrt. the
 Mats setup (which is the reason that <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html" title="enum in io.mats3.spring.jms.factories"><code>MatsScenario</code></a> only has three scenarios defined):

 <ul>
 <li><b>Production / External Broker</b> (any production-like environments, e.g. Staging/Pre-prod): This is the
 standard/regular situation for a MQ-based application or service: Connect to the common external production or
 staging MQ Broker that all other services and their Mats endpoints connect to. <i>(Note that for the scenarios taken
 into account by this mechanism, all "external environments" (i.e. "production-like") are considered the same.
 However, you will most probably want the URLs to the external MQ Broker to be different between production and
 staging and any other such environment. Such switching must be handled by another mechanism.)</i></li>

 <li><b>Localhost development</b>, where you are developing on one project employing Mats Endpoints, but also run this
 project's required collaborating projects/services with their Mats Endpoints on your local development box (typically
 running the project you currently develop on directly in the IDE, while the other can either run in IDE or on command
 line): Connect to a MQ Broker that you've fired up on your local development box, i.e. localhost, which the other
 services running locally also connects to.</li>

 <li><b>Local-VM development</b>, where you just want to run the service alone, probably with some of the other
 collaborating Mats Endpoints from other projects/services mocked up in the same project: Connect to an in-vm MQ
 Broker. <b>An important thing to ensure here is that these mocks, which by definition resides on the same classpath,
 must <i>NOT</i> end up running in the production environment!</b> - preferably such mocks should not even be included
 in the production artifact.</li>

 <li><b>Local-VM integration testing</b>, where you have integration tests either utilizing the full app config with
 overwriting of certain beans/endpoints using "Remock" or @MockBean, and mocking out collaborating Mats Endpoints from
 other projects/services; or piece together the required beans/endpoints using e.g. @Import and mocking out other
 endpoints: Connect to an in-vm MQ Broker.</li>
 </ul>

 Please now read (all the) JavaDoc of <a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html" title="interface in io.mats3.spring.jms.factories"><code>MatsProfiles</code></a> and its enum values!
 <p/>
 For the localhost and localVM scenarios, this class by default utilizes the ActiveMQ Broker and ConnectionFactory.
 For all scenarios, but in particular for the "regular" (production-like), you can provide whatever ConnectionFactory
 you want (configured as you desire) - this class will just wrap it.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.io.mats3.spring.jms.factories.MatsProfiles">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;io.mats3.spring.jms.factories.<a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html" title="interface in io.mats3.spring.jms.factories">MatsProfiles</a></h3>
<code><a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html#PROFILE_MATS_LOCALHOST">PROFILE_MATS_LOCALHOST</a>, <a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html#PROFILE_MATS_LOCALVM">PROFILE_MATS_LOCALVM</a>, <a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html#PROFILE_MATS_MOCKS">PROFILE_MATS_MOCKS</a>, <a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html#PROFILE_MATS_REGULAR">PROFILE_MATS_REGULAR</a>, <a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html#PROFILE_MATS_TEST">PROFILE_MATS_TEST</a>, <a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html#PROFILE_PRODUCTION">PROFILE_PRODUCTION</a>, <a href="../../../../../io/mats3/spring/jms/factories/MatsProfiles.html#PROFILE_STAGING">PROFILE_STAGING</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#ScenarioConnectionFactoryProducer--">ScenarioConnectionFactoryProducer</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#build--">build</a></span>()</code>
<div class="block"><b>SOFT DEPRECATED, use <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#createConnectionFactory--"><code>createConnectionFactory()</code></a>!</b></div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#createConnectionFactory--">createConnectionFactory</a></span>()</code>
<div class="block">Creates the appropriate <code>ConnectionFactory</code>, which is a wrapper integrating with Spring - the decision
 between the configured scenarios is done after all Spring beans are defined.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#withDefaultScenario-io.mats3.spring.jms.factories.MatsScenario-">withDefaultScenario</a></span>(<a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html" title="enum in io.mats3.spring.jms.factories">MatsScenario</a>&nbsp;defaultScenario)</code>
<div class="block">Very optional: If you do not explicitly set the <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ScenarioDecider.html" title="interface in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryWrapper.ScenarioDecider</code></a> using the
 <code>#withScenarioDecider(ScenarioDecider)</code> method, you get a default
 <a href="../../../../../io/mats3/spring/jms/factories/ConfigurableScenarioDecider.html#createDefaultScenarioDecider--"><code>ConfigurableScenarioDecider.createDefaultScenarioDecider()</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#withLocalhostConnectionFactory-io.mats3.spring.jms.factories.ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider-">withLocalhostConnectionFactory</a></span>(<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider.html" title="interface in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider</a>&nbsp;localhostConnectionFactoryProvider)</code>
<div class="block">Optional: Provide a ConnectionFactoryProvider lambda for the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#LOCALHOST"><code>LOCALHOST</code></a> scenario
 (which only is meant to be used for development and possibly testing).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#withLocalVmConnectionFactory-io.mats3.spring.jms.factories.ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider-">withLocalVmConnectionFactory</a></span>(<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider.html" title="interface in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider</a>&nbsp;localVmConnectionFactoryProvider)</code>
<div class="block">Very optional: Provide a ConnectionFactoryProvider lambda for the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#LOCALVM"><code>LOCALVM</code></a> scenario
 (which only is meant to be used for development and testing).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#withRegularConnectionFactory-io.mats3.spring.jms.factories.ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider-">withRegularConnectionFactory</a></span>(<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider.html" title="interface in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider</a>&nbsp;regularConnectionFactoryProvider)</code>
<div class="block">Creates a <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryProducer</code></a>, where you need to provide the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#REGULAR"><code>REGULAR</code></a> scenario's <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider.html" title="interface in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider</code></a>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#withScenarioDecider-io.mats3.spring.jms.factories.ScenarioConnectionFactoryWrapper.ScenarioDecider-">withScenarioDecider</a></span>(<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ScenarioDecider.html" title="interface in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper.ScenarioDecider</a>&nbsp;scenarioDecider)</code>
<div class="block">Can optionally be overridden should you decide to use a different decision-scheme than the
 <a href="../../../../../io/mats3/spring/jms/factories/ConfigurableScenarioDecider.html#createDefaultScenarioDecider--"><code>default</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ScenarioConnectionFactoryProducer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ScenarioConnectionFactoryProducer</h4>
<pre>public&nbsp;ScenarioConnectionFactoryProducer()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="withRegularConnectionFactory-io.mats3.spring.jms.factories.ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withRegularConnectionFactory</h4>
<pre>public static&nbsp;<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a>&nbsp;withRegularConnectionFactory(<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider.html" title="interface in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider</a>&nbsp;regularConnectionFactoryProvider)</pre>
<div class="block">Creates a <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryProducer</code></a>, where you need to provide the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#REGULAR"><code>REGULAR</code></a> scenario's <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider.html" title="interface in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider</code></a>. This is the one that will be used in Production and
 Production-like environments, e.g. Staging, Acceptance Testing, Pre-Prod or whatever you call those environments.
 You may invoke the other "withXXX" methods to tailor further, but this is optional. After finished setup, invoke
 <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#createConnectionFactory--"><code>createConnectionFactory()</code></a> to get the <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.html" title="class in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryWrapper</code></a> that you then can feed to
 a <a href="../../../../../io/mats3/MatsFactory.html" title="interface in io.mats3"><code>MatsFactory</code></a>.
 <p/>
 Notice that deciding between Production and e.g. Staging, and other prod-like environments, and which
 corresponding ConnectionFactory URL or even type of ConnectionFactory you should employ here, is up to you: You
 might be using configuration properties, Spring's Profile concept, System Properties (java cmd line
 "-D"-properties), or system environment variables - only you know how you differentiate between these
 environments.
 <p/>
 Notice: You are required to set up this provider lambda. However, if you are just setting up your project,
 wanting to start writing tests, or otherwise only use the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#LOCALVM"><code>LocalVM scenario</code></a>, and thus
 will not utilize the "regular" scenario just yet, you could just supply a lambda here that throws e.g. an
 IllegalStateException or somesuch - which probably will remind you to fix this before going into production!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>regularConnectionFactoryProvider</code> - a provider for the ConnectionFactory to use in the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#REGULAR"><code>REGULAR</code></a> scenario.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryProducer</code></a> on which you then optionally can invoke
         <code>#withLocalhostConnectionFactory(ConnectionFactoryProvider)</code>,
         <code>#withLocalVmConnectionFactory(ConnectionFactoryProvider)</code> and
         <code>#withScenarioDecider(ScenarioDecider)</code>, before invoking <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#createConnectionFactory--"><code>createConnectionFactory()</code></a>.</dd>
</dl>
</li>
</ul>
<a name="withLocalhostConnectionFactory-io.mats3.spring.jms.factories.ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withLocalhostConnectionFactory</h4>
<pre>public&nbsp;<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a>&nbsp;withLocalhostConnectionFactory(<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider.html" title="interface in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider</a>&nbsp;localhostConnectionFactoryProvider)</pre>
<div class="block">Optional: Provide a ConnectionFactoryProvider lambda for the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#LOCALHOST"><code>LOCALHOST</code></a> scenario
 (which only is meant to be used for development and possibly testing). If this is not provided, it will be a
 somewhat specially tailored ActiveMQ ConnectionFactory with the default URL <code>"tcp://localhost:61616"</code>.
 The tailoring entails DLQ after 1 retry, and 100 ms delay between delivery and the sole redelivery attempt.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>localhostConnectionFactoryProvider</code> - a provider for the ConnectionFactory to use in the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#LOCALHOST"><code>LOCALHOST</code></a> scenario.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code>, for chaining.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://activemq.apache.org/tcp-transport-reference">ActiveMQ TCP Transport Reference</a></dd>
</dl>
</li>
</ul>
<a name="withLocalVmConnectionFactory-io.mats3.spring.jms.factories.ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withLocalVmConnectionFactory</h4>
<pre>public&nbsp;<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a>&nbsp;withLocalVmConnectionFactory(<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider.html" title="interface in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper.ConnectionFactoryProvider</a>&nbsp;localVmConnectionFactoryProvider)</pre>
<div class="block">Very optional: Provide a ConnectionFactoryProvider lambda for the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#LOCALVM"><code>LOCALVM</code></a> scenario
 (which only is meant to be used for development and testing). The implementation of the lambda is expected to
 return a ConnectionFactory to an in-vm MQ Broker. You probably want to have this ConnectionFactory wrapped in
 your own extension of <a href="../../../../../io/mats3/spring/jms/factories/ConnectionFactoryWithStartStopWrapper.html" title="class in io.mats3.spring.jms.factories"><code>ConnectionFactoryWithStartStopWrapper</code></a>, which provide a way to start and stop the
 in-vm MQ Broker. If this configuration is not provided (and not having to handle this mess is a big point of this
 class, so do not provide this unless you want a different broker entirely!), an instance of <a href="../../../../../io/mats3/test/broker/MatsTestBroker.html" title="interface in io.mats3.test.broker"><code>MatsTestBroker</code></a> will be gotten by invoking <a href="../../../../../io/mats3/test/broker/MatsTestBroker.html#create--"><code>MatsTestBroker.create()</code></a>. From the instance of
 <code>MatsTestBroker</code>, the <a href="../../../../../io/mats3/test/broker/MatsTestBroker.html#getConnectionFactory--"><code>ConnectionFactory will be gotten</code></a>.
 <p/>
 Notice that the <code>MatsTestBroker</code> has a small extra feature, where you can have it produce a
 ConnectionFactory to localhost or a specific URL instead of the in-vm MQ Broker it otherwise produces, by means
 of specifying a special system property ("-D" options) (In this case, it does not create the in-vm MQ Broker
 either). The rationale for this extra feature is if you wonder how big a difference it makes to run your tests
 against a proper MQ Broker instead of the in-vm and fully non-persistent MQ Broker you by default get. Read
 JavaDoc at <a href="../../../../../io/mats3/test/broker/MatsTestBroker.html" title="interface in io.mats3.test.broker"><code>MatsTestBroker</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>localVmConnectionFactoryProvider</code> - a provider for the ConnectionFactory to use in the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#LOCALVM"><code>LOCALVM</code></a> scenario.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code>, for chaining.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../io/mats3/test/broker/MatsTestBroker.html" title="interface in io.mats3.test.broker"><code>MatsTestBroker</code></a></dd>
</dl>
</li>
</ul>
<a name="withDefaultScenario-io.mats3.spring.jms.factories.MatsScenario-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withDefaultScenario</h4>
<pre>public&nbsp;<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a>&nbsp;withDefaultScenario(<a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html" title="enum in io.mats3.spring.jms.factories">MatsScenario</a>&nbsp;defaultScenario)</pre>
<div class="block">Very optional: If you do not explicitly set the <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ScenarioDecider.html" title="interface in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryWrapper.ScenarioDecider</code></a> using the
 <code>#withScenarioDecider(ScenarioDecider)</code> method, you get a default
 <a href="../../../../../io/mats3/spring/jms/factories/ConfigurableScenarioDecider.html#createDefaultScenarioDecider--"><code>ConfigurableScenarioDecider.createDefaultScenarioDecider()</code></a>. This default is configured to throw
 <code>IllegalStateException</code> if none of the <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html" title="enum in io.mats3.spring.jms.factories"><code>MatsScenario</code></a>s are chosen. This method can override that by
 invoking the <a href="../../../../../io/mats3/spring/jms/factories/ConfigurableScenarioDecider.html#setDefaultScenario-java.util.function.Supplier-"><code>ConfigurableScenarioDecider.setDefaultScenario(Supplier)</code></a> method for you.
 <p />
 Note: This method is only of use if you employ the default ScenarioDecider, and it thus makes no sense to use it
 while also employing <code>#withScenarioDecider(ScenarioDecider)</code>, as you should have handled the default
 scenario situation in the ScenarioDecider you then provide!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>defaultScenario</code> - which <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html" title="enum in io.mats3.spring.jms.factories"><code>MatsScenario</code></a> should be chosen if the <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ScenarioDecider.html" title="interface in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryWrapper.ScenarioDecider</code></a> does not choose one.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code>, for chaining.</dd>
</dl>
</li>
</ul>
<a name="withScenarioDecider-io.mats3.spring.jms.factories.ScenarioConnectionFactoryWrapper.ScenarioDecider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withScenarioDecider</h4>
<pre>public&nbsp;<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryProducer</a>&nbsp;withScenarioDecider(<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ScenarioDecider.html" title="interface in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper.ScenarioDecider</a>&nbsp;scenarioDecider)</pre>
<div class="block">Can optionally be overridden should you decide to use a different decision-scheme than the
 <a href="../../../../../io/mats3/spring/jms/factories/ConfigurableScenarioDecider.html#createDefaultScenarioDecider--"><code>default</code></a>. We need a decision for which
 MatsScenario is in effect for this JVM, and you can override the standard here. <i>(Do note that if you want to
 run integration tests against a specific Active MQ Broker, e.g. on your localhost, there is already a feature for
 that in <a href="../../../../../io/mats3/test/broker/MatsTestBroker.html" title="interface in io.mats3.test.broker"><code>MatsTestBroker</code></a>, as mentioned in the JavaDoc of
 <code>localVmConnectionFactory(..)</code>).</i>
 <p />
 How you otherwise decide between <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#REGULAR"><code>REGULAR</code></a>, <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#LOCALHOST"><code>LOCALHOST</code></a>
 and <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html#LOCALVM"><code>LOCALVM</code></a> is up to you. <i>(For REGULAR, you will again have to decide whether you
 are in Production or Staging or whatever, if this e.g. gives different URLs or changes which ConnectionFactory
 class to instantiate - read more at <code>#withRegularConnectionFactory(ConnectionFactoryProvider)</code>.</i>
 <p />
 Note: This method should not be used in conjunction with invoking the <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#withDefaultScenario-io.mats3.spring.jms.factories.MatsScenario-"><code>withDefaultScenario(MatsScenario)</code></a>
 method, as you should have handled the default scenario situation in the ScenarioDecider you provide!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scenarioDecider</code> - the <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.ScenarioDecider.html" title="interface in io.mats3.spring.jms.factories"><code>ScenarioConnectionFactoryWrapper.ScenarioDecider</code></a> that should decide between the three <a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html" title="enum in io.mats3.spring.jms.factories"><code>MatsScenario</code></a>s.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>this</code>, for chaining.</dd>
</dl>
</li>
</ul>
<a name="build--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>build</h4>
<pre>public&nbsp;<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper</a>&nbsp;build()</pre>
<div class="block"><b>SOFT DEPRECATED, use <a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html#createConnectionFactory--"><code>createConnectionFactory()</code></a>!</b></div>
</li>
</ul>
<a name="createConnectionFactory--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createConnectionFactory</h4>
<pre>public&nbsp;<a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.html" title="class in io.mats3.spring.jms.factories">ScenarioConnectionFactoryWrapper</a>&nbsp;createConnectionFactory()</pre>
<div class="block">Creates the appropriate <code>ConnectionFactory</code>, which is a wrapper integrating with Spring - the decision
 between the configured scenarios is done after all Spring beans are defined.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the appropriate <code>ConnectionFactory</code>, which is a wrapper integrating with Spring.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../io/mats3/spring/jms/factories/MatsScenario.html" title="enum in io.mats3.spring.jms.factories"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../io/mats3/spring/jms/factories/ScenarioConnectionFactoryWrapper.html" title="class in io.mats3.spring.jms.factories"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?io/mats3/spring/jms/factories/ScenarioConnectionFactoryProducer.html" target="_top">Frames</a></li>
<li><a href="ScenarioConnectionFactoryProducer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
