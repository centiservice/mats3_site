<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>JmsMatsJmsSessionHandler.JmsSessionHolder (mats3 0.19.1-2022-11-13 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JmsMatsJmsSessionHandler.JmsSessionHolder (mats3 0.19.1-2022-11-13 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler_Simple.JmsSessionHolder_Simple.html" title="class in io.mats3.impl.jms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/mats3/impl/jms/JmsMatsMessage.html" title="class in io.mats3.impl.jms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html" target="_top">Frames</a></li>
<li><a href="JmsMatsJmsSessionHandler.JmsSessionHolder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.mats3.impl.jms</div>
<h2 title="Interface JmsMatsJmsSessionHandler.JmsSessionHolder" class="title">Interface JmsMatsJmsSessionHandler.JmsSessionHolder</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler_Pooling.JmsSessionHolderImpl.html" title="class in io.mats3.impl.jms">JmsMatsJmsSessionHandler_Pooling.JmsSessionHolderImpl</a>, <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler_Simple.JmsSessionHolder_Simple.html" title="class in io.mats3.impl.jms">JmsMatsJmsSessionHandler_Simple.JmsSessionHolder_Simple</a></dd>
</dl>
<dl>
<dt>Enclosing interface:</dt>
<dd><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.html" title="interface in io.mats3.impl.jms">JmsMatsJmsSessionHandler</a></dd>
</dl>
<hr>
<br>
<pre>public static interface <span class="typeNameLabel">JmsMatsJmsSessionHandler.JmsSessionHolder</span></pre>
<div class="block">A "sidecar object" for the JMS Session, so that additional stuff can be bound to it.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#close--">close</a></span>()</code>
<div class="block">Employed by StageProcessors: This physically closes the JMS Session, and removes it from the pool-Connection,
 and when all Sessions for a given pool-Connection is closed, the pool-Connection is closed.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#crashed-java.lang.Throwable-">crashed</a></span>(java.lang.Throwable&nbsp;t)</code>
<div class="block">Notifies that a Session (or "downstream" consumer or producer) raised some exception - probably due to some
 connectivity issues experienced as a JMSException while interacting with the JMS API, or because the
 <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#isSessionOk--"><code>isSessionOk()</code></a> returned <code>false</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>javax.jms.MessageProducer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#getDefaultNoDestinationMessageProducer--">getDefaultNoDestinationMessageProducer</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>javax.jms.Session</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#getSession--">getSession</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#isSessionOk--">isSessionOk</a></span>()</code>
<div class="block">Shall be invoked at these points, with the action to perform if it raises <a href="../../../../io/mats3/impl/jms/JmsMatsException.JmsMatsJmsException.html" title="class in io.mats3.impl.jms"><code>JmsMatsException.JmsMatsJmsException</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#release--">release</a></span>()</code>
<div class="block">For Initiators: This returns the JmsSessionHolder to the Session Pool for the underlying Connection.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isSessionOk--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSessionOk</h4>
<pre>void&nbsp;isSessionOk()
          throws <a href="../../../../io/mats3/impl/jms/JmsMatsException.JmsMatsJmsException.html" title="class in io.mats3.impl.jms">JmsMatsException.JmsMatsJmsException</a></pre>
<div class="block">Shall be invoked at these points, with the action to perform if it raises <a href="../../../../io/mats3/impl/jms/JmsMatsException.JmsMatsJmsException.html" title="class in io.mats3.impl.jms"><code>JmsMatsException.JmsMatsJmsException</code></a>.
 <ol>
 <li>(For StageProcessors) Before going into MessageConsumer.receive() - if <a href="../../../../io/mats3/impl/jms/JmsMatsException.JmsMatsJmsException.html" title="class in io.mats3.impl.jms"><code>JmsMatsException.JmsMatsJmsException</code></a> is
 raised, <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#close--"><code>close()</code></a> or <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#crashed-java.lang.Throwable-"><code>crashed(Throwable)</code></a> shall be invoked, and then a new JmsSessionHolder
 shall be fetched. [This is to be able to signal to the StageProcessor that the underlying Connection might
 have become unstable - start afresh]</li>

 <li>(For StageProcessors and Initiators) Before committing any resources other than the JMS Session - if
 <a href="../../../../io/mats3/impl/jms/JmsMatsException.JmsMatsJmsException.html" title="class in io.mats3.impl.jms"><code>JmsMatsException.JmsMatsJmsException</code></a> is raised, rollback shall be performed, <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#close--"><code>close()</code></a> or
 <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#crashed-java.lang.Throwable-"><code>crashed(Throwable)</code></a> shall be invoked, and then a new JmsSessionHolder shall be fetched. [This is to
 tighten the gap between typically the DB commit and the JMS commit: Just before the DB is committed, an
 invocation to this method is performed. If this goes OK, then the DB is committed and then the JMS Session is
 committed.]</li>
 </ol></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../io/mats3/impl/jms/JmsMatsException.JmsMatsJmsException.html" title="class in io.mats3.impl.jms">JmsMatsException.JmsMatsJmsException</a></code></dd>
</dl>
</li>
</ul>
<a name="getSession--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSession</h4>
<pre>javax.jms.Session&nbsp;getSession()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the JMS Session. It will be the same instance every time.</dd>
</dl>
</li>
</ul>
<a name="getDefaultNoDestinationMessageProducer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultNoDestinationMessageProducer</h4>
<pre>javax.jms.MessageProducer&nbsp;getDefaultNoDestinationMessageProducer()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the default non-specific <code>MessageProducer</code> that goes along with <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#getSession--"><code>the JMS
         Session</code></a>.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">Employed by StageProcessors: This physically closes the JMS Session, and removes it from the pool-Connection,
 and when all Sessions for a given pool-Connection is closed, the pool-Connection is closed.</div>
</li>
</ul>
<a name="release--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>void&nbsp;release()</pre>
<div class="block">For Initiators: This returns the JmsSessionHolder to the Session Pool for the underlying Connection.
 <p />
 <b>Note: It is allowed to call this in a finally block after use, so it must guard against already having
 been <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#close--"><code>closed</code></a> or <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#crashed-java.lang.Throwable-"><code>crashed</code></a> when inside the
 <a href="../../../../io/mats3/impl/jms/JmsMatsTransactionManager.html" title="interface in io.mats3.impl.jms"><code>JmsMatsTransactionManager</code></a></b>, in which case it should probably effectively act as a no-op.</div>
</li>
</ul>
<a name="crashed-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>crashed</h4>
<pre>void&nbsp;crashed(java.lang.Throwable&nbsp;t)</pre>
<div class="block">Notifies that a Session (or "downstream" consumer or producer) raised some exception - probably due to some
 connectivity issues experienced as a JMSException while interacting with the JMS API, or because the
 <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#isSessionOk--"><code>isSessionOk()</code></a> returned <code>false</code>.
 <p>
 This should close and ditch the Session, then the SessionHandler should (semantically) mark the underlying
 Connection as broken, and then then get all other "leasers" to come back with their sessions (close or
 crash), so that the Connection can be closed. The leasers should then get a new session by
 <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.html#getSessionHolder-io.mats3.impl.jms.JmsMatsStageProcessor-"><code>JmsMatsJmsSessionHandler.getSessionHolder(JmsMatsStageProcessor)</code></a>, which will be based on a fresh
 Connection.
 <p>
 NOTE: If a session comes back with "crashed", but it has already been "revoked" by the SessionHandler due to
 another crash, this invocation should be equivalent to <a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html#close--"><code>close()</code></a>, i.e. "come home as agreed upon,
 whatever the state you are in".</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/mats3/impl/jms/JmsMatsJmsSessionHandler_Simple.JmsSessionHolder_Simple.html" title="class in io.mats3.impl.jms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/mats3/impl/jms/JmsMatsMessage.html" title="class in io.mats3.impl.jms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/mats3/impl/jms/JmsMatsJmsSessionHandler.JmsSessionHolder.html" target="_top">Frames</a></li>
<li><a href="JmsMatsJmsSessionHandler.JmsSessionHolder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
