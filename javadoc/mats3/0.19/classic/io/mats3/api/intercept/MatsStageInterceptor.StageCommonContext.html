<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MatsStageInterceptor.StageCommonContext (mats3 0.19.9-2023-05-04 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MatsStageInterceptor.StageCommonContext (mats3 0.19.9-2023-05-04 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":18,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.MatsStageInterceptUserLambda.html" title="interface in io.mats3.api.intercept"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCompletedContext.html" title="interface in io.mats3.api.intercept"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html" target="_top">Frames</a></li>
<li><a href="MatsStageInterceptor.StageCommonContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.mats3.api.intercept</div>
<h2 title="Interface MatsStageInterceptor.StageCommonContext" class="title">Interface MatsStageInterceptor.StageCommonContext</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageInterceptContext.html" title="interface in io.mats3.api.intercept">MatsStageInterceptor.StageInterceptContext</a></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCompletedContext.html" title="interface in io.mats3.api.intercept">MatsStageInterceptor.StageCompletedContext</a>, <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageInterceptOutgoingMessageContext.html" title="interface in io.mats3.api.intercept">MatsStageInterceptor.StageInterceptOutgoingMessageContext</a>, <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageInterceptUserLambdaContext.html" title="interface in io.mats3.api.intercept">MatsStageInterceptor.StageInterceptUserLambdaContext</a>, <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageReceivedContext.html" title="interface in io.mats3.api.intercept">MatsStageInterceptor.StageReceivedContext</a></dd>
</dl>
<dl>
<dt>Enclosing interface:</dt>
<dd><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.html" title="interface in io.mats3.api.intercept">MatsStageInterceptor</a></dd>
</dl>
<hr>
<br>
<pre>public static interface <span class="typeNameLabel">MatsStageInterceptor.StageCommonContext</span>
extends <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageInterceptContext.html" title="interface in io.mats3.api.intercept">MatsStageInterceptor.StageInterceptContext</a></pre>
<div class="block">Common context elements for stage interception, including all the incoming message/envelope data and metadata.
 <p/>
 <b>Remember: There are also lots of properties on the ProcessContext!</b></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getDataAndStateDeserializationNanos--">getDataAndStateDeserializationNanos</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getDataSerializedSize--">getDataSerializedSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.time.Instant</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getEndpointEnteredTimestamp--">getEndpointEnteredTimestamp</a></span>()</code>
<div class="block">Returns the timestamp when the initial stage of the Endpoint which this Stage belongs to, was entered.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getEnvelopeDecompressionNanos--">getEnvelopeDecompressionNanos</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getEnvelopeDeserializationNanos--">getEnvelopeDeserializationNanos</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getEnvelopeSerializedSize--">getEnvelopeSerializedSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getEnvelopeWireSize--">getEnvelopeWireSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getIncomingData--">getIncomingData</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../io/mats3/api/intercept/MatsOutgoingMessage.MessageType.html" title="enum in io.mats3.api.intercept">MatsOutgoingMessage.MessageType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getIncomingMessageType--">getIncomingMessageType</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;java.util.Optional&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getIncomingSameStackHeightExtraState-java.lang.String-java.lang.Class-">getIncomingSameStackHeightExtraState</a></span>(java.lang.String&nbsp;key,
                                    java.lang.Class&lt;T&gt;&nbsp;type)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.Optional&lt;java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getIncomingState--">getIncomingState</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getInterceptContextAttribute-java.lang.String-">getInterceptContextAttribute</a></span>(java.lang.String&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getMessageSystemDeconstructNanos--">getMessageSystemDeconstructNanos</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>default int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getMessageSystemTotalWireSize--">getMessageSystemTotalWireSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.time.Instant</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getPrecedingSameStackHeightOutgoingTimestamp--">getPrecedingSameStackHeightOutgoingTimestamp</a></span>()</code>
<div class="block">Returns the timestamp of the preceding outgoing message <i>on the same stack height</i> as this stage.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../io/mats3/MatsEndpoint.DetachedProcessContext.html" title="interface in io.mats3">MatsEndpoint.DetachedProcessContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getProcessContext--">getProcessContext</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getStateSerializedSize--">getStateSerializedSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getTotalPreprocessAndDeserializeNanos--">getTotalPreprocessAndDeserializeNanos</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#putInterceptContextAttribute-java.lang.String-java.lang.Object-">putInterceptContextAttribute</a></span>(java.lang.String&nbsp;key,
                            java.lang.Object&nbsp;value)</code>
<div class="block">Set an attribute on this particular interception, which is shared between the different stages of
 interception, and also between all interceptors - use some namespacing to avoid accidental collisions.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.mats3.api.intercept.MatsStageInterceptor.StageInterceptContext">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;io.mats3.api.intercept.<a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageInterceptContext.html" title="interface in io.mats3.api.intercept">MatsStageInterceptor.StageInterceptContext</a></h3>
<code><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageInterceptContext.html#getStage--">getStage</a>, <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageInterceptContext.html#getStartedInstant--">getStartedInstant</a>, <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageInterceptContext.html#getStartedNanoTime--">getStartedNanoTime</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="putInterceptContextAttribute-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putInterceptContextAttribute</h4>
<pre>void&nbsp;putInterceptContextAttribute(java.lang.String&nbsp;key,
                                  java.lang.Object&nbsp;value)</pre>
<div class="block">Set an attribute on this particular interception, which is shared between the different stages of
 interception, and also between all interceptors - use some namespacing to avoid accidental collisions. Use
 instead of ThreadLocals.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key name for this intercept context attribute.</dd>
<dd><code>value</code> - the value which should be held.</dd>
</dl>
</li>
</ul>
<a name="getInterceptContextAttribute-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInterceptContextAttribute</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;getInterceptContextAttribute(java.lang.String&nbsp;key)</pre>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of this attribute, to avoid explicit casting - but you should really know the type,
            otherwise request <code>Object</code>.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key name for this intercept context attribute.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the intercept context attribute that was stored by
         <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#putInterceptContextAttribute-java.lang.String-java.lang.Object-"><code>putInterceptContextAttribute(String, Object)</code></a>, <code>null</code> if there is no such value.</dd>
</dl>
</li>
</ul>
<a name="getProcessContext--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProcessContext</h4>
<pre><a href="../../../../io/mats3/MatsEndpoint.DetachedProcessContext.html" title="interface in io.mats3">MatsEndpoint.DetachedProcessContext</a>&nbsp;getProcessContext()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../io/mats3/MatsEndpoint.DetachedProcessContext.html" title="interface in io.mats3"><code>MatsEndpoint.DetachedProcessContext</code></a> for the executing stage - this is overridden in several sub
         interfaces to return the actual "live" <a href="../../../../io/mats3/MatsEndpoint.ProcessContext.html" title="interface in io.mats3"><code>MatsEndpoint.ProcessContext</code></a>.</dd>
</dl>
</li>
</ul>
<a name="getEndpointEnteredTimestamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndpointEnteredTimestamp</h4>
<pre>java.time.Instant&nbsp;getEndpointEnteredTimestamp()</pre>
<div class="block">Returns the timestamp when the initial stage of the Endpoint which this Stage belongs to, was entered. Use to
 calculate <i>total endpoint time</i>: If the result of a stage is <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCompletedContext.ProcessResult.html#REPLY"><code>MatsStageInterceptor.StageCompletedContext.ProcessResult.REPLY</code></a> or
 <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCompletedContext.ProcessResult.html#NONE"><code>MatsStageInterceptor.StageCompletedContext.ProcessResult.NONE</code></a>, then the endpoint is finished, and the current time vs. endpoint entered
 timestamp (this method) is the total time this endpoint used.
 <p/>
 <b>Note that this is susceptible to time skews between nodes: If the initial stage was run on node A, while
 this stage is run on node B, calculations on the timestamp returned from this method (from node A) vs. this
 node (B's) <code>System.currentTimeMillis()</code> is highly dependent on the time synchronization between node A
 and node B.</b></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the timestamp when the initial stage of the Endpoint which this Stage belongs to, was entered.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getPrecedingSameStackHeightOutgoingTimestamp--"><code>getPrecedingSameStackHeightOutgoingTimestamp()</code></a>, 
<a href="../../../../io/mats3/MatsEndpoint.DetachedProcessContext.html#getFromTimestamp--"><code>MatsEndpoint.DetachedProcessContext.getFromTimestamp()</code></a></dd>
</dl>
</li>
</ul>
<a name="getPrecedingSameStackHeightOutgoingTimestamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrecedingSameStackHeightOutgoingTimestamp</h4>
<pre>java.time.Instant&nbsp;getPrecedingSameStackHeightOutgoingTimestamp()</pre>
<div class="block">Returns the timestamp of the preceding outgoing message <i>on the same stack height</i> as this stage. Use to
 calculate "Time since previous Stage of same Endpoint", which includes queue times and processing times of
 requested endpoints happening in between the send and the receive, as well as any other latencies. For
 example, it is the time between when EndpointA.Stage2 performs a REQUEST to AnotherEndpointB, till the REPLY
 from that endpoint is received on EndpointA.Stage3 (There can potentially be dozens of message passing and
 processings in between those two stages (of the same endpoint), as AnotherEndpointB might itself have a dozen
 stages, each performing requests to yet other endpoints).
 <p/>
 <b>Note that this is susceptible to time skews between nodes: If the preceding stage was run on node A, while
 this stage is run on node B, calculations on the timestamp returned from this method (from node A) vs. this
 node (B's) <code>System.currentTimeMillis()</code> is highly dependent on the time synchronization between node A
 and node B.</b>
 <p/>
 Note: There is no preceding stage for a REQUEST to the Initial Stage of an Endpoint.
 <p/>
 Note: On a Terminator whose corresponding initiation did a REQUEST, the "same stack height" ends up being the
 initiator (it is stack height 0). If an initiation goes directly to a Terminator (e.g. "fire-and-forget"
 PUBLISH or SEND), again the "same stack height" is the initiator.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The timestamp of the outgoing message <i>on the same stack height</i> as this stage. If the current
         Call is a REQUEST, there is no such message, and <code>-1</code> is returned.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getEndpointEnteredTimestamp--"><code>getEndpointEnteredTimestamp()</code></a>, 
<a href="../../../../io/mats3/MatsEndpoint.DetachedProcessContext.html#getFromTimestamp--"><code>MatsEndpoint.DetachedProcessContext.getFromTimestamp()</code></a></dd>
</dl>
</li>
</ul>
<a name="getIncomingMessageType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncomingMessageType</h4>
<pre><a href="../../../../io/mats3/api/intercept/MatsOutgoingMessage.MessageType.html" title="enum in io.mats3.api.intercept">MatsOutgoingMessage.MessageType</a>&nbsp;getIncomingMessageType()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../io/mats3/api/intercept/MatsOutgoingMessage.MessageType.html" title="enum in io.mats3.api.intercept"><code>MatsOutgoingMessage.MessageType</code></a> of the incoming message.</dd>
</dl>
</li>
</ul>
<a name="getIncomingState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncomingState</h4>
<pre>java.util.Optional&lt;java.lang.Object&gt;&nbsp;getIncomingState()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the incoming state (STO), if present (which it typically is for all stages except initial - albeit it
         is also possible to send state to the initial stage).</dd>
</dl>
</li>
</ul>
<a name="getStateSerializedSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStateSerializedSize</h4>
<pre>int&nbsp;getStateSerializedSize()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of units (bytes or characters) that the state (STO) serialized to. If
         <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getIncomingState--"><code>getIncomingState()</code></a> is <code>Optional.empty()</code>, then this method returns 0.</dd>
</dl>
</li>
</ul>
<a name="getIncomingData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncomingData</h4>
<pre>java.lang.Object&nbsp;getIncomingData()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the incoming data (DTO).</dd>
</dl>
</li>
</ul>
<a name="getDataSerializedSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataSerializedSize</h4>
<pre>int&nbsp;getDataSerializedSize()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of units (bytes or characters) that the data (DTO) serialized to. (<code>Null</code> data
         might give 0 or 4, or really whatever else the serializer uses to represent <code>null</code>).</dd>
</dl>
</li>
</ul>
<a name="getIncomingSameStackHeightExtraState-java.lang.String-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncomingSameStackHeightExtraState</h4>
<pre>&lt;T&gt;&nbsp;java.util.Optional&lt;T&gt;&nbsp;getIncomingSameStackHeightExtraState(java.lang.String&nbsp;key,
                                                               java.lang.Class&lt;T&gt;&nbsp;type)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the extra-state, if any, on the incoming REPLY, NEXT or GOTO message - as set by
         <a href="../../../../io/mats3/api/intercept/MatsOutgoingMessage.MatsEditableOutgoingMessage.html#setSameStackHeightExtraState-java.lang.String-java.lang.Object-"><code>MatsOutgoingMessage.MatsEditableOutgoingMessage.setSameStackHeightExtraState(String, Object)</code></a>.</dd>
</dl>
</li>
</ul>
<a name="getTotalPreprocessAndDeserializeNanos--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalPreprocessAndDeserializeNanos</h4>
<pre>long&nbsp;getTotalPreprocessAndDeserializeNanos()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the total time taken (in nanoseconds) from the reception of a message system message, via
         deconstruct; decompression; deserialization of envelope, message and state, to right before the
         invocation of the <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.html#stageReceived-io.mats3.api.intercept.MatsStageInterceptor.StageReceivedContext-"><code>MatsStageInterceptor.stageReceived(StageReceivedContext)</code></a>; approx. the sum
         of the timings below.</dd>
</dl>
</li>
</ul>
<a name="getMessageSystemDeconstructNanos--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageSystemDeconstructNanos</h4>
<pre>long&nbsp;getMessageSystemDeconstructNanos()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>time taken (in nanoseconds) to pick the pieces out of the message system message.</dd>
</dl>
</li>
</ul>
<a name="getEnvelopeWireSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnvelopeWireSize</h4>
<pre>int&nbsp;getEnvelopeWireSize()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>size (in bytes) of the envelope "on the wire", which often is compressed, which is picked out of the
         message system message in <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getMessageSystemDeconstructNanos--"><code>getMessageSystemDeconstructNanos()</code></a>. If compression was not
         applied, returns the same value as <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getEnvelopeSerializedSize--"><code>getEnvelopeSerializedSize()</code></a>. Note that the returned size
         is only the (compressed) Mats envelope, and does not include the size of the messaging system's
         message/envelope and any meta-data that Mats adds to this. This means that the message size on the
         wire will be larger.</dd>
</dl>
</li>
</ul>
<a name="getEnvelopeDecompressionNanos--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnvelopeDecompressionNanos</h4>
<pre>long&nbsp;getEnvelopeDecompressionNanos()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>time taken (in nanoseconds) to decompress the "on the wire" representation of the envelope. - will be
         <code>0</code> if no compression was applied, while it will return &gt; 0 if compression was applied.</dd>
</dl>
</li>
</ul>
<a name="getEnvelopeSerializedSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnvelopeSerializedSize</h4>
<pre>int&nbsp;getEnvelopeSerializedSize()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>size (in bytes) of the serialized envelope - after decompression. Do read the JavaDoc of
         <a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html#getEnvelopeWireSize--"><code>getEnvelopeWireSize()</code></a> too, as the same applies here: This size only refers to the Mats
         envelope, not the messaging system's final message size.</dd>
</dl>
</li>
</ul>
<a name="getEnvelopeDeserializationNanos--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnvelopeDeserializationNanos</h4>
<pre>long&nbsp;getEnvelopeDeserializationNanos()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>time taken (in nanoseconds) to deserialize the envelope.</dd>
</dl>
</li>
</ul>
<a name="getDataAndStateDeserializationNanos--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataAndStateDeserializationNanos</h4>
<pre>long&nbsp;getDataAndStateDeserializationNanos()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>time taken (in nanoseconds) to deserialize the data (DTO) and state (STO) from the envelope, before
         invoking the user lambda with them.</dd>
</dl>
</li>
</ul>
<a name="getMessageSystemTotalWireSize--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMessageSystemTotalWireSize</h4>
<pre>default&nbsp;int&nbsp;getMessageSystemTotalWireSize()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of bytes sent on the wire (best approximation), as far as Mats knows. Any overhead from
         the message system is unknown. Includes the envelope (which includes the TraceProperties), as well as
         the sideloads (bytes and strings). Implementation might add some more size for metadata. Notice that
         the strings are just "length()'ed", so any "exotic" characters are still just counted as 1 byte.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.MatsStageInterceptUserLambda.html" title="interface in io.mats3.api.intercept"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/mats3/api/intercept/MatsStageInterceptor.StageCompletedContext.html" title="interface in io.mats3.api.intercept"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/mats3/api/intercept/MatsStageInterceptor.StageCommonContext.html" target="_top">Frames</a></li>
<li><a href="MatsStageInterceptor.StageCommonContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
