<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MatsEndpoint (mats-api 0.19.9-2023-05-04 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.mats3, interface: MatsEndpoint">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.mats3</a></div>
<h1 title="Interface MatsEndpoint" class="title">Interface MatsEndpoint&lt;R,<wbr>S&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="MatsConfig.StartStoppable.html" title="interface in io.mats3">MatsConfig.StartStoppable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">MatsEndpoint&lt;R,<wbr>S&gt;</span><span class="extends-implements">
extends <a href="MatsConfig.StartStoppable.html" title="interface in io.mats3">MatsConfig.StartStoppable</a></span></div>
<div class="block">Represents a Mats Endpoint - you create instances from the <a href="MatsFactory.html" title="interface in io.mats3"><code>MatsFactory</code></a> (or use the Spring integration).
 <p/>
 <i>Implementation Note: It shall be possible to use instances of <code>MatsEndpoint</code> as keys in a
 <code>HashMap</code>, i.e. their equals and hashCode should remain stable throughout the life of the MatsFactory -
 and similar instances but with different MatsFactory are <i>not</i> equals. Depending on the implementation, instance
 equality may be sufficient.</i></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsEndpoint.DetachedProcessContext.html" class="type-name-link" title="interface in io.mats3">MatsEndpoint.DetachedProcessContext</a></code></div>
<div class="col-last even-row-color">
<div class="block">The part of <a href="MatsEndpoint.ProcessContext.html" title="interface in io.mats3"><code>MatsEndpoint.ProcessContext</code></a> that exposes the "getter" side of the context, which enables it to be exposed
 outside of the process lambda.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatsEndpoint.EndpointConfig.html" class="type-name-link" title="interface in io.mats3">MatsEndpoint.EndpointConfig</a>&lt;<a href="MatsEndpoint.EndpointConfig.html" title="type parameter in MatsEndpoint.EndpointConfig">R</a>,<wbr><a href="MatsEndpoint.EndpointConfig.html" title="type parameter in MatsEndpoint.EndpointConfig">S</a>&gt;</code></div>
<div class="col-last odd-row-color">
<div class="block">Provides for both configuring the endpoint (before it is started), and introspecting the configuration.</div>
</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsEndpoint.MatsObject.html" class="type-name-link" title="interface in io.mats3">MatsEndpoint.MatsObject</a></code></div>
<div class="col-last even-row-color">
<div class="block">For the incoming message type, this represents the equivalent of Java's <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object</code></a> - a "generic" incoming
 message whose type is not yet determined.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatsEndpoint.MatsRefuseMessageException.html" class="type-name-link" title="class in io.mats3">MatsEndpoint.MatsRefuseMessageException</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Can be thrown by the <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3"><code>MatsEndpoint.ProcessLambda</code></a> of the <a href="MatsStage.html" title="interface in io.mats3"><code>MatsStage</code></a>s to denote that it would prefer this message
 to be instantly put on a <i>Dead Letter Queue</i> (the stage processing, including any database actions, will
 still be rolled back as with any other exception thrown out of a ProcessLambda).</div>
</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsEndpoint.ProcessContext.html" class="type-name-link" title="interface in io.mats3">MatsEndpoint.ProcessContext</a>&lt;<a href="MatsEndpoint.ProcessContext.html" title="type parameter in MatsEndpoint.ProcessContext">R</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">A way for the process stage to communicate with the library, providing methods to invoke a request, send a reply
 (for multi-stage endpoints, this provides a way to do a "early return"), initiate a new message etc.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatsEndpoint.ProcessContextWrapper.html" class="type-name-link" title="class in io.mats3">MatsEndpoint.ProcessContextWrapper</a>&lt;<a href="MatsEndpoint.ProcessContextWrapper.html" title="type parameter in MatsEndpoint.ProcessContextWrapper">R</a>&gt;</code></div>
<div class="col-last odd-row-color">
<div class="block">A base Wrapper for <a href="MatsEndpoint.ProcessContext.html" title="interface in io.mats3"><code>MatsEndpoint.ProcessContext</code></a>, which simply implements ProcessContext, takes a ProcessContext
 instance and forwards all calls to that.</div>
</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsEndpoint.ProcessLambda.html" class="type-name-link" title="interface in io.mats3">MatsEndpoint.ProcessLambda</a>&lt;<a href="MatsEndpoint.ProcessLambda.html" title="type parameter in MatsEndpoint.ProcessLambda">R</a>,<wbr><a href="MatsEndpoint.ProcessLambda.html" title="type parameter in MatsEndpoint.ProcessLambda">S</a>,<wbr><a href="MatsEndpoint.ProcessLambda.html" title="type parameter in MatsEndpoint.ProcessLambda">I</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">The lambda that shall be provided by the developer for the process stage(s) for the endpoint - provides the
 context, state and incoming message DTO.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatsEndpoint.ProcessReturnLambda.html" class="type-name-link" title="interface in io.mats3">MatsEndpoint.ProcessReturnLambda</a>&lt;<a href="MatsEndpoint.ProcessReturnLambda.html" title="type parameter in MatsEndpoint.ProcessReturnLambda">R</a>,<wbr><a href="MatsEndpoint.ProcessReturnLambda.html" title="type parameter in MatsEndpoint.ProcessReturnLambda">S</a>,<wbr><a href="MatsEndpoint.ProcessReturnLambda.html" title="type parameter in MatsEndpoint.ProcessReturnLambda">I</a>&gt;</code></div>
<div class="col-last odd-row-color">
<div class="block">Specialization of <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3"><code>ProcessLambda</code></a> that makes it possible to do a "return
 replyDto" at the end of the stage, which is just a convenient way to invoke
 <a href="MatsEndpoint.ProcessContext.html#reply(R)"><code>MatsEndpoint.ProcessContext.reply(Object)</code></a>.</div>
</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsEndpoint.ProcessSingleLambda.html" class="type-name-link" title="interface in io.mats3">MatsEndpoint.ProcessSingleLambda</a>&lt;<a href="MatsEndpoint.ProcessSingleLambda.html" title="type parameter in MatsEndpoint.ProcessSingleLambda">R</a>,<wbr><a href="MatsEndpoint.ProcessSingleLambda.html" title="type parameter in MatsEndpoint.ProcessSingleLambda">I</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">Specialization of <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3"><code>ProcessLambda</code></a> which does not have a state, and have the same
 return-semantics as <a href="MatsEndpoint.ProcessReturnLambda.html" title="interface in io.mats3"><code>ProcessReturnLambda</code></a> - used for single-stage
 endpoints as these does not have multiple stages to transfer state between.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatsEndpoint.ProcessTerminatorLambda.html" class="type-name-link" title="interface in io.mats3">MatsEndpoint.ProcessTerminatorLambda</a>&lt;<a href="MatsEndpoint.ProcessTerminatorLambda.html" title="type parameter in MatsEndpoint.ProcessTerminatorLambda">S</a>,<wbr><a href="MatsEndpoint.ProcessTerminatorLambda.html" title="type parameter in MatsEndpoint.ProcessTerminatorLambda">I</a>&gt;</code></div>
<div class="col-last odd-row-color">
<div class="block">Specialization of <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3"><code>ProcessLambda</code></a> which does not have reply specified - used for
 terminator endpoints.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#finishSetup()" class="member-name-link">finishSetup</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Should be invoked when all stages has been added.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsEndpoint.EndpointConfig.html" title="interface in io.mats3">MatsEndpoint.EndpointConfig</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getEndpointConfig()" class="member-name-link">getEndpointConfig</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsFactory.html" title="interface in io.mats3">MatsFactory</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getParentFactory()" class="member-name-link">getParentFactory</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>?&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getStages()" class="member-name-link">getStages</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;I&gt;&nbsp;<a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#lastStage(java.lang.Class,io.mats3.MatsEndpoint.ProcessReturnLambda)" class="member-name-link">lastStage</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="MatsEndpoint.ProcessReturnLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessReturnLambda</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&nbsp;processor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds the last stage to a multi-stage endpoint, which also <a href="#finishSetup()"><code>finishes setup</code></a> of the endpoint.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;I&gt;&nbsp;<a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#lastStage(java.lang.Class,java.util.function.Consumer,io.mats3.MatsEndpoint.ProcessReturnLambda)" class="member-name-link">lastStage</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;? super <a href="MatsStage.StageConfig.html" title="interface in io.mats3">MatsStage.StageConfig</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&gt;&nbsp;stageConfigLambda,
 <a href="MatsEndpoint.ProcessReturnLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessReturnLambda</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&nbsp;processor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Variation of <a href="#lastStage(java.lang.Class,io.mats3.MatsEndpoint.ProcessReturnLambda)"><code>lastStage(Class, ProcessReturnLambda)</code></a> that can be configured "on the fly".</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#remove(int)" class="member-name-link">remove</a><wbr>(int&nbsp;gracefulShutdownMillis)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block"><b>Should most probably only be used for testing!</b></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;I&gt;&nbsp;<a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#stage(java.lang.Class,io.mats3.MatsEndpoint.ProcessLambda)" class="member-name-link">stage</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessLambda</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&nbsp;processor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a new stage to a multi-stage endpoint.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;I&gt;&nbsp;<a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#stage(java.lang.Class,java.util.function.Consumer,io.mats3.MatsEndpoint.ProcessLambda)" class="member-name-link">stage</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;? super <a href="MatsStage.StageConfig.html" title="interface in io.mats3">MatsStage.StageConfig</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&gt;&nbsp;stageConfigLambda,
 <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessLambda</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&nbsp;processor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Variation of <a href="#stage(java.lang.Class,io.mats3.MatsEndpoint.ProcessLambda)"><code>stage(Class, ProcessLambda)</code></a> that can be configured "on the fly".</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#start()" class="member-name-link">start</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Starts the endpoint (unless <a href="#finishSetup()"><code>finishSetup()</code></a> has NOT been invoked), invoking <a href="MatsStage.html#start()"><code>MatsStage.start()</code></a> on
 any not-yet started stages of the endpoint (which should be all of them at application startup).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#stop(int)" class="member-name-link">stop</a><wbr>(int&nbsp;gracefulShutdownMillis)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Stops the endpoint, invoking <a href="MatsStage.html#stop(int)"><code>MatsStage.stop(int)</code></a> on all <a href="MatsStage.html" title="interface in io.mats3"><code>MatsStage</code></a>s.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#waitForReceiving(int)" class="member-name-link">waitForReceiving</a><wbr>(int&nbsp;timeoutMillis)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Waits till all stages of the endpoint has entered their receive-loops, i.e.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getEndpointConfig()">
<h3>getEndpointConfig</h3>
<div class="member-signature"><span class="return-type"><a href="MatsEndpoint.EndpointConfig.html" title="interface in io.mats3">MatsEndpoint.EndpointConfig</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>&gt;</span>&nbsp;<span class="element-name">getEndpointConfig</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the config for this endpoint. If endpoint is not yet started, you may invoke mutators on it.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getParentFactory()">
<h3>getParentFactory</h3>
<div class="member-signature"><span class="return-type"><a href="MatsFactory.html" title="interface in io.mats3">MatsFactory</a></span>&nbsp;<span class="element-name">getParentFactory</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the parent <a href="MatsFactory.html" title="interface in io.mats3"><code>MatsFactory</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stage(java.lang.Class,io.mats3.MatsEndpoint.ProcessLambda)">
<h3>stage</h3>
<div class="member-signature"><span class="type-parameters">&lt;I&gt;</span>&nbsp;<span class="return-type"><a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;</span>&nbsp;<span class="element-name">stage</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessLambda</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&nbsp;processor)</span></div>
<div class="block">Adds a new stage to a multi-stage endpoint. If this is the last stage of a multi-stage endpoint, you must invoke
 <a href="#finishSetup()"><code>finishSetup()</code></a> afterwards - or you could instead use the <a href="#lastStage(java.lang.Class,io.mats3.MatsEndpoint.ProcessReturnLambda)"><code>lastStage(Class, ProcessReturnLambda)</code></a>
 variant which does this automatically.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>I</code> - the type of the incoming DTO. The very first stage's incoming DTO is the endpoint's incoming DTO. If
            the special type <a href="MatsEndpoint.MatsObject.html" title="interface in io.mats3"><code>MatsEndpoint.MatsObject</code></a>, this stage can take any type.</dd>
<dt>Parameters:</dt>
<dd><code>processor</code> - the lambda that will be invoked when messages arrive in the corresponding queue.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="MatsEndpoint.MatsObject.html" title="interface in io.mats3"><code>MatsEndpoint.MatsObject</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stage(java.lang.Class,java.util.function.Consumer,io.mats3.MatsEndpoint.ProcessLambda)">
<h3>stage</h3>
<div class="member-signature"><span class="type-parameters">&lt;I&gt;</span>&nbsp;<span class="return-type"><a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;</span>&nbsp;<span class="element-name">stage</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;? super <a href="MatsStage.StageConfig.html" title="interface in io.mats3">MatsStage.StageConfig</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&gt;&nbsp;stageConfigLambda,
 <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessLambda</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&nbsp;processor)</span></div>
<div class="block">Variation of <a href="#stage(java.lang.Class,io.mats3.MatsEndpoint.ProcessLambda)"><code>stage(Class, ProcessLambda)</code></a> that can be configured "on the fly".</div>
</section>
</li>
<li>
<section class="detail" id="lastStage(java.lang.Class,io.mats3.MatsEndpoint.ProcessReturnLambda)">
<h3>lastStage</h3>
<div class="member-signature"><span class="type-parameters">&lt;I&gt;</span>&nbsp;<span class="return-type"><a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;</span>&nbsp;<span class="element-name">lastStage</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="MatsEndpoint.ProcessReturnLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessReturnLambda</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&nbsp;processor)</span></div>
<div class="block">Adds the last stage to a multi-stage endpoint, which also <a href="#finishSetup()"><code>finishes setup</code></a> of the endpoint.
 Note that the last-stage concept is just a convenience that lets the developer reply from the endpoint with a
 <code>return replyDTO</code> statement - you may just as well add a standard stage, and invoke the
 <a href="MatsEndpoint.ProcessContext.html#reply(R)"><code>MatsEndpoint.ProcessContext.reply(Object)</code></a> method. Note: If using a normal stage as the last stage, you must remember
 to invoke <a href="#finishSetup()"><code>finishSetup()</code></a> afterwards, as that is then not done automatically.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>I</code> - the type of the incoming DTO. The very first stage's incoming DTO is the endpoint's incoming DTO. If
            the special type <a href="MatsEndpoint.MatsObject.html" title="interface in io.mats3"><code>MatsEndpoint.MatsObject</code></a>, this stage can take any type.</dd>
<dt>Parameters:</dt>
<dd><code>processor</code> - the lambda that will be invoked when messages arrive in the corresponding queue.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lastStage(java.lang.Class,java.util.function.Consumer,io.mats3.MatsEndpoint.ProcessReturnLambda)">
<h3>lastStage</h3>
<div class="member-signature"><span class="type-parameters">&lt;I&gt;</span>&nbsp;<span class="return-type"><a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;</span>&nbsp;<span class="element-name">lastStage</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;? super <a href="MatsStage.StageConfig.html" title="interface in io.mats3">MatsStage.StageConfig</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&gt;&nbsp;stageConfigLambda,
 <a href="MatsEndpoint.ProcessReturnLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessReturnLambda</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>I&gt;&nbsp;processor)</span></div>
<div class="block">Variation of <a href="#lastStage(java.lang.Class,io.mats3.MatsEndpoint.ProcessReturnLambda)"><code>lastStage(Class, ProcessReturnLambda)</code></a> that can be configured "on the fly".</div>
</section>
</li>
<li>
<section class="detail" id="getStages()">
<h3>getStages</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="MatsStage.html" title="interface in io.mats3">MatsStage</a>&lt;<a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">R</a>,<wbr><a href="MatsEndpoint.html" title="type parameter in MatsEndpoint">S</a>,<wbr>?&gt;&gt;</span>&nbsp;<span class="element-name">getStages</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a List of <a href="MatsStage.html" title="interface in io.mats3"><code>MatsStage</code></a>s, representing all the stages of the endpoint. The order is the same as the
         order in which the stages will be invoked. For single-staged endpoints and terminators, this list is of
         size 1.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finishSetup()">
<h3>finishSetup</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">finishSetup</span>()</div>
<div class="block">Should be invoked when all stages has been added. Will automatically be invoked by invocation of
 <a href="#lastStage(java.lang.Class,io.mats3.MatsEndpoint.ProcessReturnLambda)"><code>lastStage(Class, ProcessReturnLambda)</code></a>, which again implies that it will be invoked when creating
 <a href="MatsFactory.html#single(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessSingleLambda)"><code>single-stage endpoints</code></a> and
 <a href="MatsFactory.html#terminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>terminators</code></a> and
 <a href="MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>subscription
 terminators</code></a>.
 <p/>
 This sets the state of the endpoint to "finished setup", and will invoke <a href="#start()"><code>start()</code></a> on the endpoint,
 <b>unless</b> <a href="MatsFactory.html#holdEndpointsUntilFactoryIsStarted()"><code>MatsFactory.holdEndpointsUntilFactoryIsStarted()</code></a> has been invoked prior to creating the
 endpoint.
 <p/>
 You may implement "delayed start" of an endpoint by <b>not</b> invoking finishedSetup() after setting it up.
 Taking into account the first chapter of this JavaDoc, note that you must then <b>only</b> use the
 <a href="MatsFactory.html#staged(java.lang.String,java.lang.Class,java.lang.Class)"><code>staged</code></a> type of Endpoint setup, as the others implicitly invokes
 finishSetup(), and also <b>not</b> invoke <a href="#lastStage(java.lang.Class,io.mats3.MatsEndpoint.ProcessReturnLambda)"><code>lastStage</code></a> on it as this
 also implicitly invokes finishSetup(). When setting an Endpoint up without calling finishSetup(), even when
 <a href="MatsFactory.html#start()"><code>MatsFactory.start()</code></a> is invoked, such a not-finished endpoint will then not be started. You may then later
 invoke finishSetup(), e.g. when any needed caches are finished populated, and the endpoint will then be finished
 and started.
 <p/>
 Another way to implement "delayed start" is to obviously just not create the endpoint until later: MatsFactory
 has no <i>"that's it, now all endpoints must have been created"</i>-lifecycle stage, and can fire up new
 endpoints until the JVM is dead.</div>
</section>
</li>
<li>
<section class="detail" id="start()">
<h3>start</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">start</span>()</div>
<div class="block">Starts the endpoint (unless <a href="#finishSetup()"><code>finishSetup()</code></a> has NOT been invoked), invoking <a href="MatsStage.html#start()"><code>MatsStage.start()</code></a> on
 any not-yet started stages of the endpoint (which should be all of them at application startup).</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MatsConfig.StartStoppable.html#start()">start</a></code>&nbsp;in interface&nbsp;<code><a href="MatsConfig.StartStoppable.html" title="interface in io.mats3">MatsConfig.StartStoppable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="waitForReceiving(int)">
<h3>waitForReceiving</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">waitForReceiving</span><wbr><span class="parameters">(int&nbsp;timeoutMillis)</span></div>
<div class="block">Waits till all stages of the endpoint has entered their receive-loops, i.e. invokes
 <a href="MatsStage.html#waitForReceiving(int)"><code>MatsStage.waitForReceiving(int)</code></a> on all <a href="MatsStage.html" title="interface in io.mats3"><code>MatsStage</code></a>s of the endpoint.
 <p/>
 Note: This method makes most sense for
 <a href="MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminators</code></a>: These are based on MQ Topics, whose semantics are that if you do not listen right when
 someone says something, you will not hear it. This means that a SubscriptionTerminator will never receive a
 message that was sent <i>before</i> it had started the receive-loop. Thus, if you in a service-"boot" phase send
 a message whose result will come in to a SubscriptionTerminator, you will not receive this result if the
 receive-loop has not started. This is relevant for certain cache setups where you listen for event updates, and
 when "booting" the cache, you need to be certain that you have started receiving updates before asking for the
 "initial load" of the cache. It is also relevant for tools like the <code>MatsFuturizer</code>, which uses a
 node-specific Topic for the final reply message from the requested service; If the SubscriptionTerminator has not
 yet made it to the receive-loop, any replies will simply be lost and the future never completed.
 <p/>
 Note: Currently, this only holds for the initial start. If the entity has started the receive-loop at some point,
 it will always immediately return - even though it is currently stopped.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MatsConfig.StartStoppable.html#waitForReceiving(int)">waitForReceiving</a></code>&nbsp;in interface&nbsp;<code><a href="MatsConfig.StartStoppable.html" title="interface in io.mats3">MatsConfig.StartStoppable</a></code></dd>
<dt>Parameters:</dt>
<dd><code>timeoutMillis</code> - number of milliseconds before giving up the wait, returning <code>false</code>. 0 is indefinite
            wait, negative values are not allowed.</dd>
<dt>Returns:</dt>
<dd>whether it was started (i.e. <code>true</code> if successfully started listening for messages).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stop(int)">
<h3>stop</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">stop</span><wbr><span class="parameters">(int&nbsp;gracefulShutdownMillis)</span></div>
<div class="block">Stops the endpoint, invoking <a href="MatsStage.html#stop(int)"><code>MatsStage.stop(int)</code></a> on all <a href="MatsStage.html" title="interface in io.mats3"><code>MatsStage</code></a>s.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MatsConfig.StartStoppable.html#stop(int)">stop</a></code>&nbsp;in interface&nbsp;<code><a href="MatsConfig.StartStoppable.html" title="interface in io.mats3">MatsConfig.StartStoppable</a></code></dd>
<dt>Parameters:</dt>
<dd><code>gracefulShutdownMillis</code> - number of milliseconds to let the stage processors wait after having asked for them to shut down,
            and interrupting them if they have not shut down yet.</dd>
<dt>Returns:</dt>
<dd>whether it was successfully stopped (i.e. <code>true</code> if successfully stopped all listening
         threads).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="remove(int)">
<h3>remove</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">remove</span><wbr><span class="parameters">(int&nbsp;gracefulShutdownMillis)</span></div>
<div class="block"><b>Should most probably only be used for testing!</b>
 <p/>
 First invokes <a href="#stop(int)"><code>stop(gracefulShutdownMillis)</code></a>, and if successful <b>removes</b> the endpoint from
 its MatsFactory. This enables a new endpoint to be registered with the same endpointId as the one removed (which
 otherwise is not accepted). This might be of interest in testing scenarios, where you want to <i>change</i> the
 implementation of an endpoint from one test to another. There is currently no known situation where this makes
 sense to do "in production": Once the system is set up with the correct endpoints, it should most probably stay
 that way!</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>whether the <a href="#stop(int)"><code>stop(int gracefulShutdownMillis)</code></a> was successful, and thus whether the endpoint was
         removed from its MatsFactory.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
