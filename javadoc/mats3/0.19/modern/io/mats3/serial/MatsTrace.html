<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MatsTrace (mats3 0.19.9-2023-05-04 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.mats3.serial, interface: MatsTrace">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.mats3.serial</a></div>
<h1 title="Interface MatsTrace" class="title">Interface MatsTrace&lt;Z&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>Z</code> - The type which STOs and DTOs are serialized into. When employing JSON for the "outer" serialization of
            MatsTrace, it does not make that much sense to use a binary (Z=byte[]) "inner" representation of the DTOs
            and STOs, because JSON is terrible at serializing byte arrays.</dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="impl/MatsTraceFieldImpl.html" title="class in io.mats3.serial.impl">MatsTraceFieldImpl</a></code>, <code><a href="json/MatsTraceStringImpl.html" title="class in io.mats3.serial.json">MatsTraceStringImpl</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">MatsTrace&lt;Z&gt;</span></div>
<div class="block">Together with the <a href="MatsSerializer.html" title="interface in io.mats3.serial"><code>MatsSerializer</code></a>, this interface describes one way to implement a wire-protocol for how Mats
 communicates. It is up to the implementation of the <code>MatsFactory</code> to implement a protocol of how the Mats
 API is transferred over the wire. This is one such implementation that can be used, which is employed by the default
 JMS implementation of Mats.
 <p>
 The MatsTrace is designed to contain all previous <a href="MatsTrace.Call.html" title="interface in io.mats3.serial"><code>MatsTrace.Call</code></a>s in a processing, thus helping the debugging for any
 particular stage immensely: All earlier calls with data and stack frames for this processing is kept in the trace,
 thus enabling immediate understanding of what lead up to the particular situation.
 <p>
 However, for any particular invocation (invoke, request or reply), only the current (last) <a href="MatsTrace.Call.html" title="interface in io.mats3.serial"><code>MatsTrace.Call</code></a> - along with
 the stack frames for the same and lower stack depths than the current call - is needed to execute the stage. This
 makes it possible to use a condensed variant of MatsTrace that only includes the single current <a href="MatsTrace.Call.html" title="interface in io.mats3.serial"><code>MatsTrace.Call</code></a>, along
 with the relevant stack frames. This is defined by the <a href="MatsTrace.KeepMatsTrace.html" title="enum class in io.mats3.serial"><code>MatsTrace.KeepMatsTrace</code></a> enum.
 <p>
 One envisions that for development and the production stabilization phase of the system, the long form is used, while
 when the system have performed flawless for a while, one can change it to use the condensed form, thereby shaving
 some cycles for the serialization and deserialization, but more importantly potentially quite a bit of bandwidth and
 message processing compared to transfer of the full trace.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsTrace.Call.html" class="type-name-link" title="interface in io.mats3.serial">MatsTrace.Call</a>&lt;<a href="MatsTrace.Call.html" title="type parameter in MatsTrace.Call">Z</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">Represents an entry in the <a href="MatsTrace.html" title="interface in io.mats3.serial"><code>MatsTrace</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatsTrace.KeepMatsTrace.html" class="type-name-link" title="enum class in io.mats3.serial">MatsTrace.KeepMatsTrace</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Specifies how the MatsTrace will handle historic values that are present just for debugging.</div>
</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsTrace.StackState.html" class="type-name-link" title="interface in io.mats3.serial">MatsTrace.StackState</a>&lt;<a href="MatsTrace.StackState.html" title="type parameter in MatsTrace.StackState">Z</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">The State instances (of type Z), along with the height of the stack the state relates to.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#NULLED" class="member-name-link">NULLED</a></code></div>
<div class="col-last even-row-color">
<div class="block">String employed as return value for "debug only" fields which may as well be null - by setting them to null, we
 conserve time and space in the serialization (For JSON, even the field itself is not serialized if the value is
 null).</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addGotoCall(java.lang.String,java.lang.String,Z,Z)" class="member-name-link">addGotoCall</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;initialState)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addNextCall(java.lang.String,java.lang.String,Z,Z)" class="member-name-link">addNextCall</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;state)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a <a href="MatsTrace.Call.CallType.html#NEXT"><code>NEXT</code></a> Call, which is a "skip call" to the next stage in a multistage service, as
 opposed to the normal request out to a service expecting a reply.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addReplyCall(java.lang.String,Z)" class="member-name-link">addReplyCall</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a <a href="MatsTrace.Call.CallType.html#REPLY"><code>REPLY</code></a> Call, which happens when a requested service is finished with its
 processing and have some Reply to return.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addRequestCall(java.lang.String,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,Z,Z,Z)" class="member-name-link">addRequestCall</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial">MatsTrace.Call.MessagingModel</a>&nbsp;toMessagingModel,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;replyTo,
 <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial">MatsTrace.Call.MessagingModel</a>&nbsp;replyToMessagingModel,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;replyState,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;initialState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a <a href="MatsTrace.Call.CallType.html#REQUEST"><code>REQUEST</code></a> Call, which is an invocation of a service where one expects a Reply
 from this service to go to a specified endpoint, typically the next stage in a multi-stage endpoint: Envision a
 normal invocation of some method that returns a value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addSendCall(java.lang.String,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,Z,Z)" class="member-name-link">addSendCall</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial">MatsTrace.Call.MessagingModel</a>&nbsp;toMessagingModel,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;initialState)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a <a href="MatsTrace.Call.CallType.html#SEND"><code>SEND</code></a> Call, meaning a "request" which do not expect a Reply: Envision an
 invocation of a void-method.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="MatsTrace.Call.html" title="interface in io.mats3.serial">MatsTrace.Call</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getCallFlow()" class="member-name-link">getCallFlow</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getCallNumber()" class="member-name-link">getCallNumber</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.Call.html" title="interface in io.mats3.serial">MatsTrace.Call</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getCurrentCall()" class="member-name-link">getCurrentCall</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getCurrentSpanId()" class="member-name-link">getCurrentSpanId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="MatsTrace.StackState.html" title="interface in io.mats3.serial">MatsTrace.StackState</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getCurrentState()" class="member-name-link">getCurrentState</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the <a href="MatsTrace.StackState.html" title="interface in io.mats3.serial"><code>MatsTrace.StackState</code></a> for the <a href="#getCurrentCall()"><code>getCurrentCall()</code></a>, if present.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getDebugInfo()" class="member-name-link">getDebugInfo</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getFlowId()" class="member-name-link">getFlowId</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getInitializedTimestamp()" class="member-name-link">getInitializedTimestamp</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getInitializingAppName()" class="member-name-link">getInitializingAppName</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getInitializingAppVersion()" class="member-name-link">getInitializingAppVersion</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getInitializingHost()" class="member-name-link">getInitializingHost</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getInitiatorId()" class="member-name-link">getInitiatorId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.KeepMatsTrace.html" title="enum class in io.mats3.serial">MatsTrace.KeepMatsTrace</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getKeepTrace()" class="member-name-link">getKeepTrace</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getParentMatsMessageId()" class="member-name-link">getParentMatsMessageId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">If this is a <a href="#withChildFlow(java.lang.String,int)"><code>child flow</code></a> of an existing flow, this should return the
 MatsMessageId of the message whose processing spawned this new flow.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getSameHeightEndpointEnteredTimestamp()" class="member-name-link">getSameHeightEndpointEnteredTimestamp</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getSameHeightOutgoingTimestamp()" class="member-name-link">getSameHeightOutgoingTimestamp</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="MatsTrace.StackState.html" title="interface in io.mats3.serial">MatsTrace.StackState</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getStateFlow()" class="member-name-link">getStateFlow</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="MatsTrace.StackState.html" title="interface in io.mats3.serial">MatsTrace.StackState</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getStateStack()" class="member-name-link">getStateStack</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTimeToLive()" class="member-name-link">getTimeToLive</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTotalCallNumber()" class="member-name-link">getTotalCallNumber</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">"Stack overflow protection" mechanism.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTraceId()" class="member-name-link">getTraceId</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTraceProperty(java.lang.String)" class="member-name-link">getTraceProperty</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;propertyName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves a property value set by <a href="#setTraceProperty(java.lang.String,Z)"><code>setTraceProperty(String, Object)</code></a>, refer to
 <code>ProcessContext.getTraceProperty(String, Class)</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTracePropertyKeys()" class="member-name-link">getTracePropertyKeys</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isInteractive()" class="member-name-link">isInteractive</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isNoAudit()" class="member-name-link">isNoAudit</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isNonPersistent()" class="member-name-link">isNonPersistent</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setOutgoingTimestamp(long)" class="member-name-link">setOutgoingTimestamp</a><wbr>(long&nbsp;timestamp)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Shall be invoked after adding the outgoing call, immediately before serializing the outgoing MatsTrace.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setStageEnteredTimestamp(long)" class="member-name-link">setStageEnteredTimestamp</a><wbr>(long&nbsp;timestamp)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Invoke this as early as possible on the reception of a message.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setTraceProperty(java.lang.String,Z)" class="member-name-link">setTraceProperty</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;propertyName,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;propertyValue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets a trace property, refer to <code>ProcessContext.setTraceProperty(String, Object)</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#withChildFlow(java.lang.String,int)" class="member-name-link">withChildFlow</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;parentMatsMessageId,
 int&nbsp;totalCallNumber)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">If this newly created MatsTrace is a child-flow (initiated within a Stage) of an existing flow, then this method
 should be invoked to set the parent MatsMessageId, and the "total call number" which is a "Call Overflow
 protection" mechanism.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#withDebugInfo(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">withDebugInfo</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initializingAppName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initializingAppVersion,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initializingHost,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initiatorId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;debugInfo)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Can only be set once..</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="NULLED">
<h3>NULLED</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">NULLED</span></div>
<div class="block">String employed as return value for "debug only" fields which may as well be null - by setting them to null, we
 conserve time and space in the serialization (For JSON, even the field itself is not serialized if the value is
 null). If they are null, the corresponding getter returns this value.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#io.mats3.serial.MatsTrace.NULLED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="withDebugInfo(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)">
<h3>withDebugInfo</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</span>&nbsp;<span class="element-name">withDebugInfo</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initializingAppName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initializingAppVersion,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initializingHost,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initiatorId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;debugInfo)</span></div>
<div class="block">Can only be set once..</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>initiatorId</code> - the id set using <code>matsInitiate.from(initiatorId)</code> - it is not the name of the initiator.</dd>
<dt>Returns:</dt>
<dd><code>this</code>, for chaining. Note that this is opposed to the add[Request|Send|Next|Reply]Call(..)
         methods, which return a new, independent instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withChildFlow(java.lang.String,int)">
<h3>withChildFlow</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</span>&nbsp;<span class="element-name">withChildFlow</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;parentMatsMessageId,
 int&nbsp;totalCallNumber)</span></div>
<div class="block">If this newly created MatsTrace is a child-flow (initiated within a Stage) of an existing flow, then this method
 should be invoked to set the parent MatsMessageId, and the "total call number" which is a "Call Overflow
 protection" mechanism.
 <p/>
 <b>Parent Mats Message Id:</b> The MatsMessageId of the message whose processing spawned this new flow.
 <p/>
 <b>Total Call Number:</b> Initializes the <a href="#getTotalCallNumber()"><code>getTotalCallNumber()</code></a>. If this message is initiated within an
 existing call flow, set to the current call's <a href="#getTotalCallNumber()"><code>getTotalCallNumber()</code></a> + 1. This number will increase for
 every subsequent call this flow is going through, just as with <a href="#getCallNumber()"><code>getCallNumber()</code></a> - the difference being
 that it should <i>continue</i> increasing if a new message is initiated within a flow. Thereby it is possible to
 stop an out-of-control initiate-send/request recursion, by checking that the <a href="#getTotalCallNumber()"><code>getTotalCallNumber()</code></a>
 doesn't ever go above a fixed number, e.g. 100.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>parentMatsMessageId</code> - the MatsMessageId of the message whose processing spawned this new flow.</dd>
<dd><code>totalCallNumber</code> - the <a href="#getTotalCallNumber()"><code>getTotalCallNumber()</code></a> to initialize this MatsTrace with.</dd>
<dt>Returns:</dt>
<dd><code>this</code>, for chaining. Note that this is opposed to the add[Request|Send|Next|Reply]Call(..)
         methods, which return a new, independent instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTraceId()">
<h3>getTraceId</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getTraceId</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the TraceId that this <a href="MatsTrace.html" title="interface in io.mats3.serial"><code>MatsTrace</code></a> was initiated with - this is set once, at initiation time, and
         follows the processing till it terminates. (All log lines will have the traceId set on the MDC.)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFlowId()">
<h3>getFlowId</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getFlowId</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the "FlowId", which is a system-specified, guaranteed-globally-unique TraceId - and shall be the prefix
         of each <a href="MatsTrace.Call.html#getMatsMessageId()"><code>MatsTrace.Call.getMatsMessageId()</code></a>, separated by a "_".</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInitializedTimestamp()">
<h3>getInitializedTimestamp</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getInitializedTimestamp</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getKeepTrace()">
<h3>getKeepTrace</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.KeepMatsTrace.html" title="enum class in io.mats3.serial">MatsTrace.KeepMatsTrace</a></span>&nbsp;<span class="element-name">getKeepTrace</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>to which extent the Call history (with State) should be kept. The default is
         <a href="MatsTrace.KeepMatsTrace.html#COMPACT"><code>MatsTrace.KeepMatsTrace.COMPACT</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isNonPersistent()">
<h3>isNonPersistent</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isNonPersistent</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>whether the message should be JMS-style "non-persistent", default is <code>false</code> (i.e. persistent,
         reliable).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isInteractive()">
<h3>isInteractive</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isInteractive</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>whether the message should be prioritized in that a human is actively waiting for the reply, default is
         <code>false</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTimeToLive()">
<h3>getTimeToLive</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getTimeToLive</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of milliseconds the message should live before being time out. 0 means "forever", and is the
         default.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isNoAudit()">
<h3>isNoAudit</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isNoAudit</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a hint to the underlying implementation, or to any monitoring/auditing tooling on the Message Broker,
         that it does not make much value in auditing this message flow, typically because it is just a "getter"
         of information to show to some user, or a health-check validating that some service is up and answers in
         a timely fashion.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInitializingAppName()">
<h3>getInitializingAppName</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getInitializingAppName</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getInitializingAppVersion()">
<h3>getInitializingAppVersion</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getInitializingAppVersion</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getInitializingHost()">
<h3>getInitializingHost</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getInitializingHost</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getInitiatorId()">
<h3>getInitiatorId</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getInitiatorId</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a fictive "endpointId" of the initiator, see <code>MatsInitiator.MatsInitiate.from(String)</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDebugInfo()">
<h3>getDebugInfo</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getDebugInfo</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getCallNumber()">
<h3>getCallNumber</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getCallNumber</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of calls that this MatsTrace have been through, i.e. how many times
         <a href="#addRequestCall(java.lang.String,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,Z,Z,Z)"><code>MatsTrace.add[Request|Next|Reply..](..)</code></a> has been invoked on this MatsTrace. This means that right after
         a new MatsTrace has been created, before a call has been added, 0 is returned. With KeepMatsTrace at
         <a href="MatsTrace.KeepMatsTrace.html#FULL"><code>FULL</code></a> or <a href="MatsTrace.KeepMatsTrace.html#COMPACT"><code>COMPACT</code></a>, the returned number will be the
         same as <a href="#getCallFlow()"><code>getCallFlow()</code></a>.size(), but with <a href="MatsTrace.KeepMatsTrace.html#MINIMAL"><code>MINIMAL</code></a>, that number of
         always 1, but this number will still return the number of calls that has been added through the flow.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#getTotalCallNumber()"><code>getTotalCallNumber()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTotalCallNumber()">
<h3>getTotalCallNumber</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getTotalCallNumber</span>()</div>
<div class="block">"Stack overflow protection" mechanism.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the total call number, which is the same as <a href="#getCallNumber()"><code>getCallNumber()</code></a> <i>unless</i> this flow was
         initiated within a stage, in which case the totalCallNumber starts at the current call number at that
         stage (as set with <a href="#withChildFlow(java.lang.String,int)"><code>withChildFlow(String, int)</code></a>). This ensures that if we end up with e.g. a mats
         flow initiating a new mats flow to itself, thus creating a loop, this number will continuously increase,
         and we can thus break out at some obviously-too-large value.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getParentMatsMessageId()">
<h3>getParentMatsMessageId</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getParentMatsMessageId</span>()</div>
<div class="block">If this is a <a href="#withChildFlow(java.lang.String,int)"><code>child flow</code></a> of an existing flow, this should return the
 MatsMessageId of the message whose processing spawned this new flow.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the MatsMessageId of the message whose processing spawned this new flow.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setTraceProperty(java.lang.String,Z)">
<h3 id="setTraceProperty(java.lang.String,java.lang.Object)">setTraceProperty</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setTraceProperty</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;propertyName,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;propertyValue)</span></div>
<div class="block">Sets a trace property, refer to <code>ProcessContext.setTraceProperty(String, Object)</code>. Notice that on the
 MatsTrace-side, the value must be of type <code>Z</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>propertyName</code> - the name of the property.</dd>
<dd><code>propertyValue</code> - the value of the property.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#getTracePropertyKeys()"><code>getTracePropertyKeys()</code></a></li>
<li><a href="#getTraceProperty(java.lang.String)"><code>getTraceProperty(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTraceProperty(java.lang.String)">
<h3>getTraceProperty</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a></span>&nbsp;<span class="element-name">getTraceProperty</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;propertyName)</span></div>
<div class="block">Retrieves a property value set by <a href="#setTraceProperty(java.lang.String,Z)"><code>setTraceProperty(String, Object)</code></a>, refer to
 <code>ProcessContext.getTraceProperty(String, Class)</code>. Notice that on the MatsTrace-side, the value is of
 type <code>Z</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>propertyName</code> - the name of the property to retrieve.</dd>
<dt>Returns:</dt>
<dd>the value of the property.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setTraceProperty(java.lang.String,Z)"><code>setTraceProperty(String, Object)</code></a></li>
<li><a href="#getTracePropertyKeys()"><code>getTracePropertyKeys()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTracePropertyKeys()">
<h3>getTracePropertyKeys</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getTracePropertyKeys</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the set of keys containing <a href="#getTraceProperty(java.lang.String)"><code>trace properties</code></a>.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#getTraceProperty(java.lang.String)"><code>getTraceProperty(String)</code></a></li>
<li><a href="#setTraceProperty(java.lang.String,Z)"><code>setTraceProperty(String, Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addRequestCall(java.lang.String,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,Z,Z,Z)">
<h3 id="addRequestCall(java.lang.String,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,java.lang.Object,java.lang.Object,java.lang.Object)">addRequestCall</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</span>&nbsp;<span class="element-name">addRequestCall</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial">MatsTrace.Call.MessagingModel</a>&nbsp;toMessagingModel,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;replyTo,
 <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial">MatsTrace.Call.MessagingModel</a>&nbsp;replyToMessagingModel,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;replyState,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;initialState)</span></div>
<div class="block">Adds a <a href="MatsTrace.Call.CallType.html#REQUEST"><code>REQUEST</code></a> Call, which is an invocation of a service where one expects a Reply
 from this service to go to a specified endpoint, typically the next stage in a multi-stage endpoint: Envision a
 normal invocation of some method that returns a value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>from</code> - which stageId this request is for. This is solely meant for monitoring and debugging - the protocol
            does not need the from specifier, as this is not where any replies go to.</dd>
<dd><code>to</code> - which endpoint that should get the request.</dd>
<dd><code>toMessagingModel</code> - the <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial"><code>MatsTrace.Call.MessagingModel</code></a> of 'to'.</dd>
<dd><code>replyTo</code> - which endpoint that should get the reply from the requested endpoint.</dd>
<dd><code>replyToMessagingModel</code> - the <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial"><code>MatsTrace.Call.MessagingModel</code></a> of 'replyTo'.</dd>
<dd><code>data</code> - the request data, most often a JSON representing the Request Data Transfer Object that the requested
            service expects to get.</dd>
<dd><code>replyState</code> - the state data for the stageId that gets the reply to this request, that is, the state for the stageId
            that is at the first element of the replyStack. Most often a JSON representing the State Transfer
            Object for the multi-stage endpoint.</dd>
<dd><code>initialState</code> - an optional feature, whereby the state can be set for the initial stage of the requested endpoint.
            Same stuff as replyState.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addSendCall(java.lang.String,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,Z,Z)">
<h3 id="addSendCall(java.lang.String,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,java.lang.Object,java.lang.Object)">addSendCall</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</span>&nbsp;<span class="element-name">addSendCall</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial">MatsTrace.Call.MessagingModel</a>&nbsp;toMessagingModel,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;initialState)</span></div>
<div class="block">Adds a <a href="MatsTrace.Call.CallType.html#SEND"><code>SEND</code></a> Call, meaning a "request" which do not expect a Reply: Envision an
 invocation of a void-method. Or an invocation of some method that returns the value, but where you invoke it as a
 void-method (i.e. not storing the result, e.g. the method <code>map.remove("test")</code> returns the removed
 value, but is often invoked without storing this.).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>from</code> - which stageId this request is for. This is solely meant for monitoring and debugging - the protocol
            does not need the from specifier, as this is not where any replies go to.</dd>
<dd><code>to</code> - which endpoint that should get the message.</dd>
<dd><code>toMessagingModel</code> - the <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial"><code>MatsTrace.Call.MessagingModel</code></a> of 'to'.</dd>
<dd><code>data</code> - the request data, most often a JSON representing the Request Data Transfer Object that the receiving
            service expects to get.</dd>
<dd><code>initialState</code> - an optional feature, whereby the state can be set for the initial stage of the requested endpoint.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addNextCall(java.lang.String,java.lang.String,Z,Z)">
<h3 id="addNextCall(java.lang.String,java.lang.String,java.lang.Object,java.lang.Object)">addNextCall</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</span>&nbsp;<span class="element-name">addNextCall</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;state)</span></div>
<div class="block">Adds a <a href="MatsTrace.Call.CallType.html#NEXT"><code>NEXT</code></a> Call, which is a "skip call" to the next stage in a multistage service, as
 opposed to the normal request out to a service expecting a reply. The functionality is functionally identical to
 <a href="#addSendCall(java.lang.String,java.lang.String,io.mats3.serial.MatsTrace.Call.MessagingModel,Z,Z)"><code>addSendCall(String, String, MessagingModel, Object, Object)</code></a> addSendCall(...)}, but has its own
 <a href="MatsTrace.Call.CallType.html" title="enum class in io.mats3.serial"><code>CallType</code></a> enum value <a href="MatsTrace.Call.CallType.html#NEXT"><code>NEXT</code></a>.
 <p/>
 Note: Cannot specify <a href="MatsTrace.Call.MessagingModel.html" title="enum class in io.mats3.serial"><code>MatsTrace.Call.MessagingModel</code></a> here, as one cannot fathom where that would make sense: It must be
 <a href="MatsTrace.Call.MessagingModel.html#QUEUE"><code>QUEUE</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>from</code> - which stageId this request is for. This is solely meant for monitoring and debugging - the protocol
            does not need the from specifier, as this is not where any replies go to.</dd>
<dd><code>to</code> - which endpoint that should get the message - the next stage in a multi-stage service.</dd>
<dd><code>data</code> - the request data, most often a JSON representing the Request Data Transfer Object that the next stage
            expects to get.</dd>
<dd><code>state</code> - the state data for the next stage.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addReplyCall(java.lang.String,Z)">
<h3 id="addReplyCall(java.lang.String,java.lang.Object)">addReplyCall</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</span>&nbsp;<span class="element-name">addReplyCall</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data)</span></div>
<div class="block">Adds a <a href="MatsTrace.Call.CallType.html#REPLY"><code>REPLY</code></a> Call, which happens when a requested service is finished with its
 processing and have some Reply to return. This method pops the stack (takes the last element) from the (previous)
 current call, sets this as the "to" parameter, and uses the rest of the list as the stack for the next Call.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>from</code> - which stageId this request is for. This is solely meant for monitoring and debugging - the protocol
            does not need the from specifier, as this is not where any replies go to.</dd>
<dd><code>data</code> - the request data, most often a JSON representing the Request Data Transfer Object that the requesting
            service expects to get.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addGotoCall(java.lang.String,java.lang.String,Z,Z)">
<h3 id="addGotoCall(java.lang.String,java.lang.String,java.lang.Object,java.lang.Object)">addGotoCall</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.html" title="interface in io.mats3.serial">MatsTrace</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</span>&nbsp;<span class="element-name">addGotoCall</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;data,
 <a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&nbsp;initialState)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - the request data, most often a JSON representing the Request Data Transfer Object that the passed-to
            endpoint expects to get.</dd>
<dd><code>initialState</code> - an optional feature, whereby the state can be set for the initial stage of the requested endpoint.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setOutgoingTimestamp(long)">
<h3>setOutgoingTimestamp</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setOutgoingTimestamp</span><wbr><span class="parameters">(long&nbsp;timestamp)</span></div>
<div class="block">Shall be invoked after adding the outgoing call, immediately before serializing the outgoing MatsTrace.
 <ul>
 <li>Sets the outgoing Call's <a href="MatsTrace.Call.html#getCalledTimestamp()"><code>MatsTrace.Call.getCalledTimestamp()</code></a> to be more closely aligned to the exact sending
 time. (For example, the message may have been constructed, then a massive SQL query was performed, and then a new
 message is constructed, and then the messages are actually turned into JMS messages and committed on the wire.
 This means that the first message will have a much earlier timestamp than the second.) Using this method, all
 outgoing messages can have the Called Timestamp set <i>right</i> before it is serialized and JMS-constructed and
 committed.</li>
 <li>If the <a href="#getCurrentCall()"><code>getCurrentCall()</code></a> is a REQUEST, SEND, GOTO or PUBLISH (anything else than REPLY), it also sets
 the same-height-called-timestamp, recorded on the stackframe below it, or on the MatsTrace itself if there is no
 stackframe below (initial SEND). This is to be able to calculate the "time between stages" for the e.g. time
 between stage1 and stage2 of a multi-stage endpoint, noting that this might entail multiple levels of Request and
 Replies (thus it must reside on the stack).</li>
 </ul></div>
</section>
</li>
<li>
<section class="detail" id="getSameHeightOutgoingTimestamp()">
<h3>getSameHeightOutgoingTimestamp</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getSameHeightOutgoingTimestamp</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the timestamp set by <a href="#setOutgoingTimestamp(long)"><code>setOutgoingTimestamp(long)</code></a> for the preceding call on the same stack height.
         Used to calculate the "time between stages" for the different stages on an endpoint. It does not make
         sense to get this for the initial stage of an Endpoint if the incoming is a REQUEST, and the return value
         will then be <code>-1</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setStageEnteredTimestamp(long)">
<h3>setStageEnteredTimestamp</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setStageEnteredTimestamp</span><wbr><span class="parameters">(long&nbsp;timestamp)</span></div>
<div class="block">Invoke this as early as possible on the reception of a message. Used to calculate the "total endpoint time",
 through all stages (including intermediate request/replies): Time from entry on the Initial Stage, to when the
 endpoint Replies, or stops (no outgoing message).</div>
</section>
</li>
<li>
<section class="detail" id="getSameHeightEndpointEnteredTimestamp()">
<h3>getSameHeightEndpointEnteredTimestamp</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getSameHeightEndpointEnteredTimestamp</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the value of <a href="#setStageEnteredTimestamp(long)"><code>setStageEnteredTimestamp(long)</code></a> for the stages of the same endpoint. Used to
         calculate the "total endpoint time", through all stages, when the endpoint Replies, or stops (no outgoing
         message).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentSpanId()">
<h3>getCurrentSpanId</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getCurrentSpanId</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this MatsTrace's SpanId. If it is still on the initiator side, before having had a call added to it, or
         on the terminator side, when the stack again is empty, the SpanId is derived from the <a href="#getFlowId()"><code>FlowId</code></a>. Otherwise, it is the topmost element of an internal stack, in the same way as
         <a href="#getCurrentCall()"><code>getCurrentCall()</code></a>.<a href="MatsTrace.Call.html#getReplyStack()"><code>MatsTrace.Call.getReplyStack()</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentCall()">
<h3>getCurrentCall</h3>
<div class="member-signature"><span class="return-type"><a href="MatsTrace.Call.html" title="interface in io.mats3.serial">MatsTrace.Call</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;</span>&nbsp;<span class="element-name">getCurrentCall</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="MatsTrace.Call.html" title="interface in io.mats3.serial"><code>Call</code></a> which should be processed by the stage receiving this <a href="MatsTrace.html" title="interface in io.mats3.serial"><code>MatsTrace</code></a> (which
         should be the stageId specified in getCurrentCall().<a href="MatsTrace.Call.html#getTo()"><code>getTo()</code></a>). Returns
         <code>null</code> if not call has yet been added to the trace.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentState()">
<h3>getCurrentState</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="MatsTrace.StackState.html" title="interface in io.mats3.serial">MatsTrace.StackState</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;&gt;</span>&nbsp;<span class="element-name">getCurrentState</span>()</div>
<div class="block">Returns the <a href="MatsTrace.StackState.html" title="interface in io.mats3.serial"><code>MatsTrace.StackState</code></a> for the <a href="#getCurrentCall()"><code>getCurrentCall()</code></a>, if present.
 <p/>
 Searches in the <a href="#getStateFlow()"><code>'State Flow'</code></a> from the back (most recent) for the first element that is at
 the current stack height, as defined by <a href="#getCurrentCall()"><code>getCurrentCall()</code></a>.<a href="MatsTrace.Call.html#getReplyStackHeight()"><code>MatsTrace.Call.getReplyStackHeight()</code></a>. If a more
 shallow stackDepth than the specified is encountered, or the list is exhausted without the Stack Height being
 found, the search is terminated with null. This happens for the initial stage for an endpoint, unless the
 'initialState' was set on the SEND or REQUEST.
 <p/>
 The point of the 'State Flow' is the same as for the Call list: Monitoring and debugging, by keeping a history of
 all calls in the processing, along with the states that was present at each call point.
 <p/>
 If "condensing" is on (<a href="MatsTrace.KeepMatsTrace.html#COMPACT"><code>COMPACT</code></a> or <a href="MatsTrace.KeepMatsTrace.html#MINIMAL"><code>MINIMAL</code></a>), the
 stack-state-list is - by the condensing algorithm - turned in to a pure stack (as available via
 <a href="#getStateStack()"><code>getStateStack()</code></a>), with the StackState for the earliest stack element at position 0, while the latest
 (current) at end of list. The above-specified search algorithm still works, as it now will either find the
 element with the correct stack depth at the end of the list, or it is not there.
 <p/>
 NOTE: The StateStack (mostly) includes a frame for the <i>current</i> call, as opposed to the
 <a href="MatsTrace.Call.html#getReplyStack()"><code>MatsTrace.Call.getReplyStack()</code></a> (reply stack), which only includes frames below us. Note that as a matter of
 avoiding space use, on a REQUEST call, the StackState is not added for the actual REQUEST message's state stack,
 unless the "initial incoming state" is supplied (which is uncommon - a service invocation typically starts with
 an empty state). However, on REPLY messages, it will always be present, and hence the state stack is typically
 one level higher (includes current frame) than the reply stack (only includes frames below).
 <p/>
 NOTE: As further info on how the state stack relates to the reply stack height: When a REPLY comes to a
 terminator, there are 0 more frames below. However, the terminator needs its state, which is at state stack
 height 0.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="MatsTrace.StackState.html" title="interface in io.mats3.serial"><code>MatsTrace.StackState</code></a> for the <a href="#getCurrentCall()"><code>getCurrentCall()</code></a> if it exists, <code>null</code> otherwise, as is
         typical when entering initial stage of an endpoint.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStateStack()">
<h3>getStateStack</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="MatsTrace.StackState.html" title="interface in io.mats3.serial">MatsTrace.StackState</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;&gt;</span>&nbsp;<span class="element-name">getStateStack</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the stack of the states for the current stack: getCurrentCall().getStack().</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#getCurrentState()"><code>for more information on how the "State Flow" works.</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCallFlow()">
<h3>getCallFlow</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="MatsTrace.Call.html" title="interface in io.mats3.serial">MatsTrace.Call</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;&gt;</span>&nbsp;<span class="element-name">getCallFlow</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the flow of calls, from the first REQUEST (or SEND), to the <a href="#getCurrentCall()"><code>current call</code></a> -
         unless <a href="#getKeepTrace()"><code>KeepTrace</code></a> is MINIMAL, in which case only the current call is present in
         the list.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStateFlow()">
<h3>getStateFlow</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="MatsTrace.StackState.html" title="interface in io.mats3.serial">MatsTrace.StackState</a>&lt;<a href="MatsTrace.html" title="type parameter in MatsTrace">Z</a>&gt;&gt;</span>&nbsp;<span class="element-name">getStateFlow</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the entire list of states as they have changed throughout the call flow. If <a href="MatsTrace.KeepMatsTrace.html" title="enum class in io.mats3.serial"><code>MatsTrace.KeepMatsTrace</code></a> is
         COMPACT or MINIMAL, then it will be a pure stack (as returned with <a href="#getStateStack()"><code>getStateStack()</code></a>, with the
         last element being the most recent stack frame. NOTICE: The index position in this list has little to do
         with which stack level the state refers to. This must be gotten from <a href="MatsTrace.StackState.html#getHeight()"><code>MatsTrace.StackState.getHeight()</code></a>.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#getCurrentState()"><code>for more information on how the "State Flow" works.</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
