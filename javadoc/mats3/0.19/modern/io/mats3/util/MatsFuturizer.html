<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MatsFuturizer (mats3 0.19.1-2022-11-13 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.mats3.util, class: MatsFuturizer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.mats3.util</a></div>
<h1 title="Class MatsFuturizer" class="title">Class MatsFuturizer</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.mats3.util.MatsFuturizer</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">MatsFuturizer</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span></div>
<div class="block">An instance of this class acts as a bridge service between the synchronous world of e.g. a HTTP request, and the
 asynchronous world of Mats. In a given project, you typically create a single instance of this class upon startup,
 and employ it for all such scenarios. In short, in a HTTP service handler, you initialize a Mats flow using
 <a href="#futurizeNonessential(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.lang.Object)"><code>singletonFuturizer.futurizeNonessential(...)</code></a> (or
 <a href="#futurize(java.lang.String,java.lang.String,java.lang.String,int,java.util.concurrent.TimeUnit,java.lang.Class,java.lang.Object,io.mats3.MatsInitiator.InitiateLambda)"><code>futurize(...)</code></a> for full
 configurability), specifying which Mats Endpoint to invoke and the request DTO instance, and then you get a
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> in return. This future will complete once the invoked Mats Endpoint replies.
 <p/>
 It is extremely important to understand that this is NOT how you compose multiple Mats Endpoints together! This is
 ONLY supposed to be used when you are in a synchronous context (e.g. in a Servlet, or a Spring @RequestMapping), and
 want to interact with the Mats fabric of services.
 <p/>
 A question you should ask yourself, is how this works in a multi-node setup? For a Mats flow, it does not matter
 which node a given stage of a MatsEndpoint is performed, as it is by design totally stateless wrt. the executing
 node, as all state resides in the message. However, for a synchronous situation as in a HTTP request, it definitely
 matters that the final reply, the one that should complete the returned future, comes in on the same node that issued
 the request, as this is where the CompletableFuture instance is, and where the waiting TCP connection is connected!
 The trick here is that the final reply is specified to come in on a node-specific <i>Topic</i>, i.e. it literally has
 the node name (default being the hostname) as a part of the MatsEndpoint name, and it is a
 <a href="../MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a>.
 <p/>
 Another aspect to understand, is that while Mats "guarantees" that a submitted initiation will flow through the Mats
 endpoints, no matter what happens with the processing nodes <i>(unless you employ <i>NonPersistent messaging</i>,
 which futurizeNonessential(..) does!)</i>, nothing can be guaranteed wrt. the completion of the future: This is
 stateful processing. The node where the MatsFuturizer initiation is performed can crash right after the message has
 been put on the Mats fabric, and hence the CompletableFuture vanishes along with everything else on that node. The
 mats flow is however already in motion, and will be executed - but when the Reply comes in on the node-specific
 Topic, there is no longer any corresponding CompletableFuture to complete. This is also why you should not compose
 Mats endpoints using this familiar feeling that a CompletableFuture probably gives you: While a multi-stage
 MatsEndpoint is asynchronous, resilient and highly available and each stage is transactionally performed, with
 retries and all the goodness that comes with a message oriented architecture, once you rely on a CompletableFuture,
 you are in a synchronous world where a power outage or a reboot can stop the processing midway. Thus, the
 MatsFuturizer should always just be employed out the very outer edge facing the actual client - any other processing
 should be performed using MatsEndpoints, and composition of MatsEndpoints should be done using multi-stage
 MatsEndpoints.
 <p/>
 Note that in the case of pure "GET-style" requests where information is only retrieved and no state in the total
 system is changed, everything is a bit more relaxed: If a processing fails, the worst thing that happens is a
 slightly annoyed user. But if this was an "add order" or "move money" instruction from the user, a mid-processing
 failure is rather bad and could require human intervention to clean up. Thus, the
 <code>futurizeNonessential(..)</code> method should only be employed for such "GET-style" requests, and any other
 potentially state changing operations must employ the generic <code>futurize(..)</code> method.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsFuturizer.MatsFuturizerTimeoutException.html" class="type-name-link" title="class in io.mats3.util">MatsFuturizer.MatsFuturizerTimeoutException</a></code></div>
<div class="col-last even-row-color">
<div class="block">This exception is raised through the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> if the timeout specified when getting the
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> is reached (to get yourself a future, use one of the
 <a href="#futurizeNonessential(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.lang.Object)"><code>futurizeXYZ(..)</code></a> methods).</div>
</div>
<div class="col-first odd-row-color"><code>protected static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatsFuturizer.Promise.html" class="type-name-link" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;<a href="MatsFuturizer.Promise.html" title="type parameter in MatsFuturizer.Promise">T</a>&gt;</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsFuturizer.Reply.html" class="type-name-link" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;<a href="MatsFuturizer.Reply.html" title="type parameter in MatsFuturizer.Reply">T</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">An instance of this class will be the return value of any <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a>s created with the
 <a href="MatsFuturizer.html" title="class in io.mats3.util"><code>MatsFuturizer</code></a>.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#_correlationIdToPromiseMap" class="member-name-link">_correlationIdToPromiseMap</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html" title="class or interface in java.util.concurrent" class="external-link">ThreadPoolExecutor</a></code></div>
<div class="col-second odd-row-color"><code><a href="#_futureCompleterThreadPool" class="member-name-link">_futureCompleterThreadPool</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></code></div>
<div class="col-second even-row-color"><code><a href="#_internalStateLock" class="member-name-link">_internalStateLock</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a></code></div>
<div class="col-second odd-row-color"><code><a href="#_matsFactory" class="member-name-link">_matsFactory</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="../MatsInitiator.html" title="interface in io.mats3">MatsInitiator</a></code></div>
<div class="col-second even-row-color"><code><a href="#_matsInitiator" class="member-name-link">_matsInitiator</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final int</code></div>
<div class="col-second odd-row-color"><code><a href="#_maxOutstandingPromises" class="member-name-link">_maxOutstandingPromises</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected <a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#_nextInLineToTimeout" class="member-name-link">_nextInLineToTimeout</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="../MatsEndpoint.html" title="interface in io.mats3">MatsEndpoint</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#_replyHandlerEndpoint" class="member-name-link">_replyHandlerEndpoint</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><code><a href="#_replyHandlerEndpointStarted" class="member-name-link">_replyHandlerEndpointStarted</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#_runFlag" class="member-name-link">_runFlag</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#_terminatorEndpointId" class="member-name-link">_terminatorEndpointId</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></code></div>
<div class="col-second odd-row-color"><code><a href="#_threadNumber" class="member-name-link">_threadNumber</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html" title="class or interface in java.util.concurrent.locks" class="external-link">Condition</a></code></div>
<div class="col-second even-row-color"><code><a href="#_timeouterPing_InternalStateLock" class="member-name-link">_timeouterPing_InternalStateLock</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html" title="class or interface in java.util" class="external-link">PriorityQueue</a>&lt;<a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#_timeoutSortedPromises" class="member-name-link">_timeoutSortedPromises</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(io.mats3.MatsFactory,java.lang.String,int,int,int)" class="member-name-link">MatsFuturizer</a><wbr>(<a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointIdPrefix,
 int&nbsp;corePoolSize,
 int&nbsp;maxPoolSize,
 int&nbsp;maxOutstandingPromises)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_assertFuturizerRunning()" class="member-name-link">_assertFuturizerRunning</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected &lt;T&gt;&nbsp;<a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_createPromise(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,int,java.util.concurrent.TimeUnit)" class="member-name-link">_createPromise</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;replyClass,
 int&nbsp;timeout,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_deserializeReply(io.mats3.MatsEndpoint.MatsObject,java.lang.Class)" class="member-name-link">_deserializeReply</a><wbr>(<a href="../MatsEndpoint.MatsObject.html" title="interface in io.mats3">MatsEndpoint.MatsObject</a>&nbsp;matsObject,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;toClass)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected &lt;T&gt;&nbsp;void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_enqueuePromise(io.mats3.util.MatsFuturizer.Promise)" class="member-name-link">_enqueuePromise</a><wbr>(<a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;&nbsp;promise)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_handleRepliesForPromises(io.mats3.MatsEndpoint.ProcessContext,java.lang.String,io.mats3.MatsEndpoint.MatsObject)" class="member-name-link">_handleRepliesForPromises</a><wbr>(<a href="../MatsEndpoint.ProcessContext.html" title="interface in io.mats3">MatsEndpoint.ProcessContext</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;correlationId,
 <a href="../MatsEndpoint.MatsObject.html" title="interface in io.mats3">MatsEndpoint.MatsObject</a>&nbsp;matsObject)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html" title="class or interface in java.util.concurrent" class="external-link">ThreadPoolExecutor</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_newThreadPool(int,int)" class="member-name-link">_newThreadPool</a><wbr>(int&nbsp;corePoolSize,
 int&nbsp;maximumPoolSize)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected &lt;T&gt;&nbsp;void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_sendRequestToFulfillPromise(java.lang.String,java.lang.String,java.lang.String,java.lang.Object,io.mats3.MatsInitiator.InitiateLambda,io.mats3.util.MatsFuturizer.Promise)" class="member-name-link">_sendRequestToFulfillPromise</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;request,
 <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;extraMessageInit,
 <a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;&nbsp;promise)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_startTimeouterThread()" class="member-name-link">_startTimeouterThread</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_timeoutCompleteExceptionally(io.mats3.util.MatsFuturizer.Promise,java.lang.String)" class="member-name-link">_timeoutCompleteExceptionally</a><wbr>(<a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&nbsp;promise,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;msg)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_uncheckedComplete(io.mats3.MatsEndpoint.ProcessContext,java.lang.Object,io.mats3.util.MatsFuturizer.Promise)" class="member-name-link">_uncheckedComplete</a><wbr>(<a href="../MatsEndpoint.ProcessContext.html" title="interface in io.mats3">MatsEndpoint.ProcessContext</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;replyObject,
 <a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&nbsp;promise)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Closes the MatsFuturizer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createMatsFuturizer(io.mats3.MatsFactory)" class="member-name-link">createMatsFuturizer</a><wbr>(<a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createMatsFuturizer(io.mats3.MatsFactory,java.lang.String)" class="member-name-link">createMatsFuturizer</a><wbr>(<a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointIdPrefix)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createMatsFuturizer(io.mats3.MatsFactory,java.lang.String,int,int,int)" class="member-name-link">createMatsFuturizer</a><wbr>(<a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointIdPrefix,
 int&nbsp;corePoolSize,
 int&nbsp;maxPoolSize,
 int&nbsp;maxOutstandingPromises)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#futurize(java.lang.String,java.lang.String,java.lang.String,int,java.util.concurrent.TimeUnit,java.lang.Class,java.lang.Object,io.mats3.MatsInitiator.InitiateLambda)" class="member-name-link">futurize</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 int&nbsp;timeout,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;replyClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;request,
 <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;customInit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The generic form of initiating a request-message that returns a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a>, which enables you to
 tailor all properties.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#futurize(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.lang.Object,io.mats3.MatsInitiator.InitiateLambda)" class="member-name-link">futurize</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;replyClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;request,
 <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;customInit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Convenience-variant of the generic
 <a href="#futurize(java.lang.String,java.lang.String,java.lang.String,int,java.util.concurrent.TimeUnit,java.lang.Class,java.lang.Object,io.mats3.MatsInitiator.InitiateLambda)"><code>futurize(..)</code></a> form, where
 the timeout is set to 2.5 minutes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#futurizeNonessential(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.lang.Object)" class="member-name-link">futurizeNonessential</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;replyClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block"><b>NOTICE: This variant must <u>only</u> be used for "GET-style" Requests where none of the endpoints the call
 flow passes will add, remove or alter any state of the system, and where it doesn't matter all that much if a
 message (and hence the Mats flow) is lost!</b></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html" title="class or interface in java.util.concurrent" class="external-link">ThreadPoolExecutor</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCompleterThreadPool()" class="member-name-link">getCompleterThreadPool</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOutstandingPromiseCount()" class="member-name-link">getOutstandingPromiseCount</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="_matsFactory">
<h3>_matsFactory</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a></span>&nbsp;<span class="element-name">_matsFactory</span></div>
</section>
</li>
<li>
<section class="detail" id="_matsInitiator">
<h3>_matsInitiator</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../MatsInitiator.html" title="interface in io.mats3">MatsInitiator</a></span>&nbsp;<span class="element-name">_matsInitiator</span></div>
</section>
</li>
<li>
<section class="detail" id="_terminatorEndpointId">
<h3>_terminatorEndpointId</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">_terminatorEndpointId</span></div>
</section>
</li>
<li>
<section class="detail" id="_futureCompleterThreadPool">
<h3>_futureCompleterThreadPool</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html" title="class or interface in java.util.concurrent" class="external-link">ThreadPoolExecutor</a></span>&nbsp;<span class="element-name">_futureCompleterThreadPool</span></div>
</section>
</li>
<li>
<section class="detail" id="_maxOutstandingPromises">
<h3>_maxOutstandingPromises</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_maxOutstandingPromises</span></div>
</section>
</li>
<li>
<section class="detail" id="_replyHandlerEndpoint">
<h3>_replyHandlerEndpoint</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../MatsEndpoint.html" title="interface in io.mats3">MatsEndpoint</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">_replyHandlerEndpoint</span></div>
</section>
</li>
<li>
<section class="detail" id="_threadNumber">
<h3>_threadNumber</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></span>&nbsp;<span class="element-name">_threadNumber</span></div>
</section>
</li>
<li>
<section class="detail" id="_replyHandlerEndpointStarted">
<h3>_replyHandlerEndpointStarted</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">_replyHandlerEndpointStarted</span></div>
</section>
</li>
<li>
<section class="detail" id="_internalStateLock">
<h3>_internalStateLock</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></span>&nbsp;<span class="element-name">_internalStateLock</span></div>
</section>
</li>
<li>
<section class="detail" id="_timeouterPing_InternalStateLock">
<h3>_timeouterPing_InternalStateLock</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html" title="class or interface in java.util.concurrent.locks" class="external-link">Condition</a></span>&nbsp;<span class="element-name">_timeouterPing_InternalStateLock</span></div>
</section>
</li>
<li>
<section class="detail" id="_correlationIdToPromiseMap">
<h3>_correlationIdToPromiseMap</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&gt;</span>&nbsp;<span class="element-name">_correlationIdToPromiseMap</span></div>
</section>
</li>
<li>
<section class="detail" id="_timeoutSortedPromises">
<h3>_timeoutSortedPromises</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PriorityQueue.html" title="class or interface in java.util" class="external-link">PriorityQueue</a>&lt;<a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&gt;</span>&nbsp;<span class="element-name">_timeoutSortedPromises</span></div>
</section>
</li>
<li>
<section class="detail" id="_nextInLineToTimeout">
<h3>_nextInLineToTimeout</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;</span>&nbsp;<span class="element-name">_nextInLineToTimeout</span></div>
</section>
</li>
<li>
<section class="detail" id="_runFlag">
<h3>_runFlag</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">_runFlag</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(io.mats3.MatsFactory,java.lang.String,int,int,int)">
<h3>MatsFuturizer</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">MatsFuturizer</span><wbr><span class="parameters">(<a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointIdPrefix,
 int&nbsp;corePoolSize,
 int&nbsp;maxPoolSize,
 int&nbsp;maxOutstandingPromises)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="createMatsFuturizer(io.mats3.MatsFactory)">
<h3>createMatsFuturizer</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a></span>&nbsp;<span class="element-name">createMatsFuturizer</span><wbr><span class="parameters">(<a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory)</span></div>
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM). The defaults for the parameters from the fully fledged factory method are
 identical to the <a href="#createMatsFuturizer(io.mats3.MatsFactory,java.lang.String)"><code>createMatsFuturizer(MatsFactory, String)</code></a>, but with this variant also the
 'endpointIdPrefix' is set to what is returned by <code>matsFactory.getFactoryConfig().getAppName()</code>.
 <b>Note that if you - against the above suggestion - create more than one MatsFuturizer for a MatsFactory, then
 you MUST give them different endpointIdPrefixes, thus you cannot use this method!</b></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>matsFactory</code> - the underlying <a href="../MatsFactory.html" title="interface in io.mats3"><code>MatsFactory</code></a> on which outgoing messages will be sent, and on which the receiving
            <a href="../MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a> will be created.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsFuturizer.html" title="class in io.mats3.util"><code>MatsFuturizer</code></a>, which is tied to a newly created
         <a href="../MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createMatsFuturizer(io.mats3.MatsFactory,java.lang.String)">
<h3>createMatsFuturizer</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a></span>&nbsp;<span class="element-name">createMatsFuturizer</span><wbr><span class="parameters">(<a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointIdPrefix)</span></div>
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM). The number of threads in the future-completer-pool is what
 <a href="../MatsConfig.html#getConcurrency()"><code>matsFactory.getFactoryConfig().getConcurrency()</code></a> returns at creation time x
 4 for "corePoolSize", but at least 5, (i.e. "min"); and concurrency * 20, but at least 100, for "maximumPoolSize"
 (i.e. max). The pool is set up to let non-core threads expire after 5 minutes. The maximum number of outstanding
 promises is set to 50k.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>matsFactory</code> - the underlying <a href="../MatsFactory.html" title="interface in io.mats3"><code>MatsFactory</code></a> on which outgoing messages will be sent, and on which the receiving
            <a href="../MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a> will be created.</dd>
<dd><code>endpointIdPrefix</code> - the first part of the endpointId, which typically should be some "class-like" construct denoting the
            service name, like "OrderService" or "InventoryService", preferably the same prefix you use for all
            your other endpoints running on this same service. <b>Note: If you create multiple MatsFuturizers for
            a MatsFactory, this parameter must be different for each instance!</b></dd>
<dt>Returns:</dt>
<dd>the <a href="MatsFuturizer.html" title="class in io.mats3.util"><code>MatsFuturizer</code></a>, which is tied to a newly created
         <a href="../MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createMatsFuturizer(io.mats3.MatsFactory,java.lang.String,int,int,int)">
<h3>createMatsFuturizer</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="MatsFuturizer.html" title="class in io.mats3.util">MatsFuturizer</a></span>&nbsp;<span class="element-name">createMatsFuturizer</span><wbr><span class="parameters">(<a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointIdPrefix,
 int&nbsp;corePoolSize,
 int&nbsp;maxPoolSize,
 int&nbsp;maxOutstandingPromises)</span></div>
<div class="block">Creates a MatsFuturizer, <b>and you should only need one per MatsFactory</b> (which again mostly means one per
 application or micro-service or JVM). With this factory method you can specify the number of threads in the
 future-completer-pool with the parameters "corePoolSize" and "maxPoolSize" threads, which effectively means min
 and max. The pool is set up to let non-core threads expire after 5 minutes. You must also specify the max number
 of outstanding promises, if you want no effective limit, use <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#MAX_VALUE" title="class or interface in java.lang" class="external-link"><code>Integer.MAX_VALUE</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>matsFactory</code> - the underlying <a href="../MatsFactory.html" title="interface in io.mats3"><code>MatsFactory</code></a> on which outgoing messages will be sent, and on which the receiving
            <a href="../MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a> will be created.</dd>
<dd><code>endpointIdPrefix</code> - the first part of the endpointId, which typically should be some "class-like" construct denoting the
            service name, like "OrderService" or "InventoryService", preferably the same prefix you use for all
            your other endpoints running on this same service. <b>Note: If you create multiple MatsFuturizers for
            a MatsFactory, this parameter must be different for each instance!</b></dd>
<dd><code>corePoolSize</code> - the minimum number of threads in the future-completer-pool of threads.</dd>
<dd><code>maxPoolSize</code> - the maximum number of threads in the future-completer-pool of threads.</dd>
<dd><code>maxOutstandingPromises</code> - the maximum number of outstanding Promises before new are rejected. Should be a fairly high number,
            e.g. the default of <a href="#createMatsFuturizer(io.mats3.MatsFactory,java.lang.String)"><code>createMatsFuturizer(MatsFactory, String)</code></a> is 50k.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsFuturizer.html" title="class in io.mats3.util"><code>MatsFuturizer</code></a>, which is tied to a newly created
         <a href="../MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="futurize(java.lang.String,java.lang.String,java.lang.String,int,java.util.concurrent.TimeUnit,java.lang.Class,java.lang.Object,io.mats3.MatsInitiator.InitiateLambda)">
<h3>futurize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>
<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;</span>&nbsp;<span class="element-name">futurize</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 int&nbsp;timeout,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;replyClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;request,
 <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;customInit)</span></div>
<div class="block">The generic form of initiating a request-message that returns a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a>, which enables you to
 tailor all properties. To set interactive-, nonPersistent- or noAudit-flags, or to tack on any
 <a href="../MatsInitiator.MatsInitiate.html#addBytes(java.lang.String,byte%5B%5D)"><code>"sideloads"</code></a> to the outgoing message, use the "customInit"
 parameter, which directly is the <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3"><code>InitiateLambda</code></a> that the MatsFuturizer initiation is
 using.
 <p/>
 For a bit more explanation, please read JavaDoc of
 <a href="#futurizeNonessential(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.lang.Object)"><code>futurizeInteractiveUnreliable(..)</code></a></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the reply DTO.</dd>
<dt>Parameters:</dt>
<dd><code>traceId</code> - TraceId of the resulting Mats call flow, see <a href="../MatsInitiator.MatsInitiate.html#traceId(java.lang.CharSequence)"><code>MatsInitiator.MatsInitiate.traceId(CharSequence)</code></a></dd>
<dd><code>from</code> - the "from" of the initiation, see <a href="../MatsInitiator.MatsInitiate.html#from(java.lang.String)"><code>MatsInitiator.MatsInitiate.from(String)</code></a></dd>
<dd><code>to</code> - to which Mats endpoint the request should go, see <a href="../MatsInitiator.MatsInitiate.html#to(java.lang.String)"><code>MatsInitiator.MatsInitiate.to(String)</code></a></dd>
<dd><code>timeout</code> - how long before the internal timeout-mechanism of MatsFuturizer kicks in and the future is
            <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#completeExceptionally(java.lang.Throwable)" title="class or interface in java.util.concurrent" class="external-link"><code>completed exceptionally</code></a> with a
            <a href="MatsFuturizer.MatsFuturizerTimeoutException.html" title="class in io.mats3.util"><code>MatsFuturizer.MatsFuturizerTimeoutException</code></a>.</dd>
<dd><code>unit</code> - the unit of time of the 'timeout' parameter.</dd>
<dd><code>replyClass</code> - which expected reply DTO class that the requested endpoint replies with.</dd>
<dd><code>request</code> - the request DTO that should be sent to the endpoint, see <a href="../MatsInitiator.MatsInitiate.html#request(java.lang.Object)"><code>MatsInitiator.MatsInitiate.request(Object)</code></a></dd>
<dd><code>customInit</code> - the <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3"><code>MatsInitiator.InitiateLambda</code></a> that the MatsFuturizer is employing to initiate the outgoing message, which
            you can use to tailor the message, e.g. setting the <a href="../MatsInitiator.MatsInitiate.html#interactive()"><code>interactive</code></a>-flag or tacking on <a href="../MatsInitiator.MatsInitiate.html#addBytes(java.lang.String,byte%5B%5D)"><code>"sideloads"</code></a>.</dd>
<dt>Returns:</dt>
<dd>a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> which will be resolved with a <a href="MatsFuturizer.Reply.html" title="class in io.mats3.util"><code>MatsFuturizer.Reply</code></a>-instance that contains both some
         meta-data, and the <a href="MatsFuturizer.Reply.html#reply"><code>reply</code></a> from the requested endpoint.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="futurize(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.lang.Object,io.mats3.MatsInitiator.InitiateLambda)">
<h3>futurize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>
<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;</span>&nbsp;<span class="element-name">futurize</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;replyClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;request,
 <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;customInit)</span></div>
<div class="block">Convenience-variant of the generic
 <a href="#futurize(java.lang.String,java.lang.String,java.lang.String,int,java.util.concurrent.TimeUnit,java.lang.Class,java.lang.Object,io.mats3.MatsInitiator.InitiateLambda)"><code>futurize(..)</code></a> form, where
 the timeout is set to 2.5 minutes. To set interactive-, nonPersistent- or noAudit-flags, or to tack on any
 <a href="../MatsInitiator.MatsInitiate.html#addBytes(java.lang.String,byte%5B%5D)"><code>"sideloads"</code></a> to the outgoing message, use the "customInit"
 parameter, which directly is the <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3"><code>InitiateLambda</code></a> that the MatsFuturizer initiation is
 using.
 <p/>
 For a bit more explanation, please read JavaDoc of
 <a href="#futurizeNonessential(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.lang.Object)"><code>futurizeInteractiveUnreliable(..)</code></a></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the reply DTO.</dd>
<dt>Parameters:</dt>
<dd><code>traceId</code> - TraceId of the resulting Mats call flow, see <a href="../MatsInitiator.MatsInitiate.html#traceId(java.lang.CharSequence)"><code>MatsInitiator.MatsInitiate.traceId(CharSequence)</code></a></dd>
<dd><code>from</code> - the "from" of the initiation, see <a href="../MatsInitiator.MatsInitiate.html#from(java.lang.String)"><code>MatsInitiator.MatsInitiate.from(String)</code></a></dd>
<dd><code>to</code> - to which Mats endpoint the request should go, see <a href="../MatsInitiator.MatsInitiate.html#to(java.lang.String)"><code>MatsInitiator.MatsInitiate.to(String)</code></a> the unit of time of
            the 'timeout' parameter.</dd>
<dd><code>replyClass</code> - which expected reply DTO class that the requested endpoint replies with.</dd>
<dd><code>request</code> - the request DTO that should be sent to the endpoint, see <a href="../MatsInitiator.MatsInitiate.html#request(java.lang.Object)"><code>MatsInitiator.MatsInitiate.request(Object)</code></a></dd>
<dd><code>customInit</code> - the <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3"><code>MatsInitiator.InitiateLambda</code></a> that the MatsFuturizer is employing to initiate the outgoing message, which
            you can use to tailor the message, e.g. setting the <a href="../MatsInitiator.MatsInitiate.html#interactive()"><code>interactive</code></a>-flag or tacking on <a href="../MatsInitiator.MatsInitiate.html#addBytes(java.lang.String,byte%5B%5D)"><code>"sideloads"</code></a>.</dd>
<dt>Returns:</dt>
<dd>a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> which will be resolved with a <a href="MatsFuturizer.Reply.html" title="class in io.mats3.util"><code>MatsFuturizer.Reply</code></a>-instance that contains both some
         meta-data, and the <a href="MatsFuturizer.Reply.html#reply"><code>reply</code></a> from the requested endpoint.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="futurizeNonessential(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.lang.Object)">
<h3>futurizeNonessential</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>
<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="MatsFuturizer.Reply.html" title="class in io.mats3.util">MatsFuturizer.Reply</a>&lt;T&gt;&gt;</span>&nbsp;<span class="element-name">futurizeNonessential</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;replyClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;request)</span></div>
<div class="block"><b>NOTICE: This variant must <u>only</u> be used for "GET-style" Requests where none of the endpoints the call
 flow passes will add, remove or alter any state of the system, and where it doesn't matter all that much if a
 message (and hence the Mats flow) is lost!</b>
 <p/>
 The goal of this method is to be able to get hold of e.g. account holdings, order statuses etc, for presentation
 to a user. The thinking is that if such a flow fails where a message of the call flow disappears, this won't make
 for anything else than a bit annoyed user: No important state change, like the adding, deleting or change of an
 order, will be lost. Also, speed is of the essence. Therefore, <i>non-persistent</i>. At the same time, to make
 the user super happy in the ordinary circumstances, all messages in this call flow will be prioritized, and thus
 skip any queue backlogs that have arose on any of the call flow's endpoints, e.g. due to some massive batch of
 (background) processes executing at the same time. Therefore, <i>interactive</i>. Notice that with both of these
 features combined, you get very fast messaging, as non-persistent means that the message will not have to be
 stored to permanent storage at any point, while interactive means that it will skip any backlogged queues. In
 addition, the <i>noAudit</i> flag is set, since it is a waste of storage space to archive the actual contents of
 Request and Reply messages that do not alter the system.
 <p/>
 Sets the following properties on the sent Mats message:
 <ul>
 <li><b>Non-persistent</b>: Since it is not vitally important that this message is not lost, non-persistent
 messaging can be used. The minuscule chance for this message to disappear is not worth the considerable overhead
 of store-and-forward multiple times to persistent storage. Also, speed is much more interesting.</li>
 <li><b>Interactive</b>: Since the Futurizer should only be used as a "synchronous bridge" when a human is
 actively waiting for the response, the interactive flag is set. <i>(For all other users, you should rather code
 "proper Mats" with initiations, endpoints and terminators)</i>.</li>
 <li><b>No audit</b>: Since this message will not change the state of the system (i.e. the "GET-style" requests),
 using storage on auditing requests and replies is not worthwhile.</li>
 </ul>
 This method initiates an <b><a href="../MatsInitiator.MatsInitiate.html#nonPersistent()"><code>non-persistent</code></a></b> (unreliable),
 <b><a href="../MatsInitiator.MatsInitiate.html#interactive()"><code>interactive</code></a></b> (prioritized), <b><a href="../MatsInitiator.MatsInitiate.html#noAudit()"><code>non-audited</code></a></b> (request and reply DTOs won't be archived) Request-message to the specified endpoint, returning
 a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> that will be <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#complete(T)" title="class or interface in java.util.concurrent" class="external-link"><code>completed</code></a> when the Reply from
 the requested endpoint comes back. The internal MatsFuturizer timeout will be set to <b>2.5 minutes</b>, meaning
 that if there is no reply forthcoming within that time, the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> will be
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#completeExceptionally(java.lang.Throwable)" title="class or interface in java.util.concurrent" class="external-link"><code>completed exceptionally</code></a> with a
 <a href="MatsFuturizer.MatsFuturizerTimeoutException.html" title="class in io.mats3.util"><code>MatsFuturizerTimeoutException</code></a>, and the Promise deleted from the futurizer.
 2.5 minutes is probably too long to wait for any normal interaction with a system, so if you use the
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#get(long,java.util.concurrent.TimeUnit)" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture.get(timeout, TimeUnit)</code></a> method of the returned
 future, you might want to put a lower timeout there - if the answer hasn't come within that time, you'll get a
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeoutException.html" title="class or interface in java.util.concurrent" class="external-link"><code>TimeoutException</code></a>. If you instead use the non-param variant <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#get()" title="class or interface in java.util.concurrent" class="external-link"><code>get()</code></a>, you
 will get an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutionException.html" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutionException</code></a> when the 2.5 minutes have passed (that exception's
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#getCause()" title="class or interface in java.lang" class="external-link"><code>cause</code></a> will be the <a href="MatsFuturizer.MatsFuturizerTimeoutException.html" title="class in io.mats3.util"><code>MatsFuturizerTimeoutException</code></a> mentioned above).</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the reply DTO.</dd>
<dt>Parameters:</dt>
<dd><code>traceId</code> - TraceId of the resulting Mats call flow, see <a href="../MatsInitiator.MatsInitiate.html#traceId(java.lang.CharSequence)"><code>MatsInitiator.MatsInitiate.traceId(CharSequence)</code></a></dd>
<dd><code>from</code> - the "from" of the initiation, see <a href="../MatsInitiator.MatsInitiate.html#from(java.lang.String)"><code>MatsInitiator.MatsInitiate.from(String)</code></a></dd>
<dd><code>to</code> - to which Mats endpoint the request should go, see <a href="../MatsInitiator.MatsInitiate.html#to(java.lang.String)"><code>MatsInitiator.MatsInitiate.to(String)</code></a></dd>
<dd><code>replyClass</code> - which expected reply DTO class that the requested endpoint replies with.</dd>
<dd><code>request</code> - the request DTO that should be sent to the endpoint, see <a href="../MatsInitiator.MatsInitiate.html#request(java.lang.Object)"><code>MatsInitiator.MatsInitiate.request(Object)</code></a></dd>
<dt>Returns:</dt>
<dd>a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> which will be resolved with a <a href="MatsFuturizer.Reply.html" title="class in io.mats3.util"><code>MatsFuturizer.Reply</code></a>-instance that contains both some
         meta-data, and the <a href="MatsFuturizer.Reply.html#reply"><code>reply</code></a> from the requested endpoint.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOutstandingPromiseCount()">
<h3>getOutstandingPromiseCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getOutstandingPromiseCount</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of outstanding promises, not yet completed or timed out.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCompleterThreadPool()">
<h3>getCompleterThreadPool</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html" title="class or interface in java.util.concurrent" class="external-link">ThreadPoolExecutor</a></span>&nbsp;<span class="element-name">getCompleterThreadPool</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the future-completer-thread-pool, for introspection. If you mess with it, you <i>will</i> be sorry..!</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_newThreadPool(int,int)">
<h3>_newThreadPool</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html" title="class or interface in java.util.concurrent" class="external-link">ThreadPoolExecutor</a></span>&nbsp;<span class="element-name">_newThreadPool</span><wbr><span class="parameters">(int&nbsp;corePoolSize,
 int&nbsp;maximumPoolSize)</span></div>
</section>
</li>
<li>
<section class="detail" id="_createPromise(java.lang.String,java.lang.String,java.lang.String,java.lang.Class,int,java.util.concurrent.TimeUnit)">
<h3>_createPromise</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;</span>&nbsp;<span class="element-name">_createPromise</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;to,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;replyClass,
 int&nbsp;timeout,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</span></div>
</section>
</li>
<li>
<section class="detail" id="_enqueuePromise(io.mats3.util.MatsFuturizer.Promise)">
<h3>_enqueuePromise</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">_enqueuePromise</span><wbr><span class="parameters">(<a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;&nbsp;promise)</span></div>
</section>
</li>
<li>
<section class="detail" id="_assertFuturizerRunning()">
<h3>_assertFuturizerRunning</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">_assertFuturizerRunning</span>()</div>
</section>
</li>
<li>
<section class="detail" id="_sendRequestToFulfillPromise(java.lang.String,java.lang.String,java.lang.String,java.lang.Object,io.mats3.MatsInitiator.InitiateLambda,io.mats3.util.MatsFuturizer.Promise)">
<h3>_sendRequestToFulfillPromise</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">_sendRequestToFulfillPromise</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;from,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;traceId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;request,
 <a href="../MatsInitiator.InitiateLambda.html" title="interface in io.mats3">MatsInitiator.InitiateLambda</a>&nbsp;extraMessageInit,
 <a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;T&gt;&nbsp;promise)</span></div>
</section>
</li>
<li>
<section class="detail" id="_handleRepliesForPromises(io.mats3.MatsEndpoint.ProcessContext,java.lang.String,io.mats3.MatsEndpoint.MatsObject)">
<h3>_handleRepliesForPromises</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">_handleRepliesForPromises</span><wbr><span class="parameters">(<a href="../MatsEndpoint.ProcessContext.html" title="interface in io.mats3">MatsEndpoint.ProcessContext</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;correlationId,
 <a href="../MatsEndpoint.MatsObject.html" title="interface in io.mats3">MatsEndpoint.MatsObject</a>&nbsp;matsObject)</span></div>
</section>
</li>
<li>
<section class="detail" id="_deserializeReply(io.mats3.MatsEndpoint.MatsObject,java.lang.Class)">
<h3>_deserializeReply</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">_deserializeReply</span><wbr><span class="parameters">(<a href="../MatsEndpoint.MatsObject.html" title="interface in io.mats3">MatsEndpoint.MatsObject</a>&nbsp;matsObject,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;toClass)</span></div>
</section>
</li>
<li>
<section class="detail" id="_uncheckedComplete(io.mats3.MatsEndpoint.ProcessContext,java.lang.Object,io.mats3.util.MatsFuturizer.Promise)">
<h3>_uncheckedComplete</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">_uncheckedComplete</span><wbr><span class="parameters">(<a href="../MatsEndpoint.ProcessContext.html" title="interface in io.mats3">MatsEndpoint.ProcessContext</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;replyObject,
 <a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&nbsp;promise)</span></div>
</section>
</li>
<li>
<section class="detail" id="_startTimeouterThread()">
<h3>_startTimeouterThread</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">_startTimeouterThread</span>()</div>
</section>
</li>
<li>
<section class="detail" id="_timeoutCompleteExceptionally(io.mats3.util.MatsFuturizer.Promise,java.lang.String)">
<h3>_timeoutCompleteExceptionally</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">_timeoutCompleteExceptionally</span><wbr><span class="parameters">(<a href="MatsFuturizer.Promise.html" title="class in io.mats3.util">MatsFuturizer.Promise</a>&lt;?&gt;&nbsp;promise,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;msg)</span></div>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Closes the MatsFuturizer. Notice: Spring will also notice this method if the MatsFuturizer is registered as a
 <code>@Bean</code>, and will register it as a destroy method.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
