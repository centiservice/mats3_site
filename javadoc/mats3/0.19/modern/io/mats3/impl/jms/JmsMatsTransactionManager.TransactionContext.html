<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>JmsMatsTransactionManager.TransactionContext (mats3 0.19.1-2022-11-13 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.mats3.impl.jms, interface: JmsMatsTransactionManager, interface: TransactionContext">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.mats3.impl.jms</a></div>
<h1 title="Interface JmsMatsTransactionManager.TransactionContext" class="title">Interface JmsMatsTransactionManager.TransactionContext</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="JmsMatsTransactionManager_Jms.TransactionalContext_Jms.html" title="class in io.mats3.impl.jms">JmsMatsTransactionManager_Jms.TransactionalContext_Jms</a></code>, <code><a href="JmsMatsTransactionManager_JmsAndJdbc.TransactionalContext_JmsAndJdbc.html" title="class in io.mats3.impl.jms">JmsMatsTransactionManager_JmsAndJdbc.TransactionalContext_JmsAndJdbc</a></code></dd>
</dl>
<dl class="notes">
<dt>Enclosing interface:</dt>
<dd><a href="JmsMatsTransactionManager.html" title="interface in io.mats3.impl.jms">JmsMatsTransactionManager</a></dd>
</dl>
<dl class="notes">
<dt>Functional Interface:</dt>
<dd>This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.</dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/FunctionalInterface.html" title="class or interface in java.lang" class="external-link">@FunctionalInterface</a>
</span><span class="modifiers">public static interface </span><span class="element-name type-name-label">JmsMatsTransactionManager.TransactionContext</span></div>
<div class="block">Implementors shall do the transactional processing and handle any Throwable that comes out of the
 <a href="JmsMatsTransactionManager.ProcessingLambda.html" title="interface in io.mats3.impl.jms"><code>JmsMatsTransactionManager.ProcessingLambda</code></a> by rolling back.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#doTransaction(io.mats3.impl.jms.JmsMatsInternalExecutionContext,io.mats3.impl.jms.JmsMatsTransactionManager.ProcessingLambda)" class="member-name-link">doTransaction</a><wbr>(<a href="JmsMatsInternalExecutionContext.html" title="class in io.mats3.impl.jms">JmsMatsInternalExecutionContext</a>&nbsp;jmsSessionMessageContext,
 <a href="JmsMatsTransactionManager.ProcessingLambda.html" title="interface in io.mats3.impl.jms">JmsMatsTransactionManager.ProcessingLambda</a>&nbsp;lambda)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Shall open relevant transactions (that are not already opened by means of JMS's "always in transaction" for
 transactional Connections), perform the provided lambda, and then commit the transactions (including the JMS
 <code>Session</code>).</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="doTransaction(io.mats3.impl.jms.JmsMatsInternalExecutionContext,io.mats3.impl.jms.JmsMatsTransactionManager.ProcessingLambda)">
<h3>doTransaction</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">doTransaction</span><wbr><span class="parameters">(<a href="JmsMatsInternalExecutionContext.html" title="class in io.mats3.impl.jms">JmsMatsInternalExecutionContext</a>&nbsp;jmsSessionMessageContext,
 <a href="JmsMatsTransactionManager.ProcessingLambda.html" title="interface in io.mats3.impl.jms">JmsMatsTransactionManager.ProcessingLambda</a>&nbsp;lambda)</span>
            throws <span class="exceptions"><a href="JmsMatsException.JmsMatsJmsException.html" title="class in io.mats3.impl.jms">JmsMatsException.JmsMatsJmsException</a>,
<a href="../../MatsEndpoint.MatsRefuseMessageException.html" title="class in io.mats3">MatsEndpoint.MatsRefuseMessageException</a></span></div>
<div class="block">Shall open relevant transactions (that are not already opened by means of JMS's "always in transaction" for
 transactional Connections), perform the provided lambda, and then commit the transactions (including the JMS
 <code>Session</code>).
 <p>
 If <i>any</i> Exception occurs when executing the provided lambda, then the transactions should be rolled
 back - but if it is the declared special <a href="../../MatsEndpoint.MatsRefuseMessageException.html" title="class in io.mats3"><code>MatsEndpoint.MatsRefuseMessageException</code></a>, then the implementation should
 also try to ensure that the underlying JMS Message is not redelivered (no more retries), but instead put on
 the DLQ right away. <i>(Beware of "sneaky throws": The JVM bytecode doesn't care whether a method declares an
 exception or not: It is possible to throw a checked exception form a method that doesn't declare it in
 several different ways. Groovy is nasty here (as effectively all Exceptions are unchecked in the Groovy
 world), and also google "sneakyThrows" for a way to do it using "pure java" that was invented with
 Generics.)</i></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>jmsSessionMessageContext</code> - holds, amongst possibly other stuff, the <a href="JmsMatsJmsSessionHandler.JmsSessionHolder.html" title="interface in io.mats3.impl.jms"><code>JmsMatsJmsSessionHandler.JmsSessionHolder</code></a> instance which contains the JMS
            Session upon which this transaction should run. Gotten from
            <a href="JmsMatsJmsSessionHandler.html#getSessionHolder(io.mats3.impl.jms.JmsMatsStageProcessor)"><code>JmsMatsJmsSessionHandler.getSessionHolder(JmsMatsStageProcessor)</code></a> or
            <a href="JmsMatsJmsSessionHandler.html#getSessionHolder(io.mats3.impl.jms.JmsMatsInitiator)"><code>JmsMatsJmsSessionHandler.getSessionHolder(JmsMatsInitiator)</code></a>.</dd>
<dd><code>lambda</code> - the stuff that shall be done within transaction, i.e. the <a href="../../MatsStage.html" title="interface in io.mats3"><code>MatsStage</code></a> or the
            <a href="../../MatsInitiator.html" title="interface in io.mats3"><code>MatsInitiator</code></a>.</dd>
<dt>Throws:</dt>
<dd><code><a href="JmsMatsException.JmsMatsJmsException.html" title="class in io.mats3.impl.jms">JmsMatsException.JmsMatsJmsException</a></code></dd>
<dd><code><a href="../../MatsEndpoint.MatsRefuseMessageException.html" title="class in io.mats3">MatsEndpoint.MatsRefuseMessageException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
