<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MatsInterceptable.MatsLoggingInterceptor (mats3 0.19.9-2023-05-04 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.mats3.api.intercept, interface: MatsInterceptable, interface: MatsLoggingInterceptor">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.mats3.api.intercept</a></div>
<h1 title="Interface MatsInterceptable.MatsLoggingInterceptor" class="title">Interface MatsInterceptable.MatsLoggingInterceptor</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../../intercept/logging/MatsMetricsLoggingInterceptor.html" title="class in io.mats3.intercept.logging">MatsMetricsLoggingInterceptor</a></code></dd>
</dl>
<dl class="notes">
<dt>Enclosing interface:</dt>
<dd><a href="MatsInterceptable.html" title="interface in io.mats3.api.intercept">MatsInterceptable</a></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public static interface </span><span class="element-name type-name-label">MatsInterceptable.MatsLoggingInterceptor</span></div>
<div class="block">Marker interface to denote a logging interceptor. The MatsFactory will only allow one such singleton interceptor,
 and remove any previously installed if subsequently installing another.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY" class="member-name-link">SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY</a></code></div>
<div class="col-last even-row-color">
<div class="block"><a href="#SUPPRESS_LOGGING_TRACE_PROPERTY_KEY"><code>Suppression of loglines</code></a> will only be done if the affected
 endpoints allows it.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#SUPPRESS_LOGGING_TRACE_PROPERTY_KEY" class="member-name-link">SUPPRESS_LOGGING_TRACE_PROPERTY_KEY</a></code></div>
<div class="col-last odd-row-color">
<div class="block">If this key is present on the <a href="../../MatsInitiator.MatsInitiate.html#setTraceProperty(java.lang.String,java.lang.Object)"><code>TraceProperties</code></a> of a Mats
 Flow, with the value <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html#TRUE" title="class or interface in java.lang" class="external-link"><code>Boolean.TRUE</code></a>, no ordinary log lines should be emitted while initiating or stage
 processing the Mats Flow, <i>assuming</i> that the implicated endpoints
 <a href="#SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY"><code>allows</code></a> logging suppression.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="SUPPRESS_LOGGING_TRACE_PROPERTY_KEY">
<h3>SUPPRESS_LOGGING_TRACE_PROPERTY_KEY</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SUPPRESS_LOGGING_TRACE_PROPERTY_KEY</span></div>
<div class="block">If this key is present on the <a href="../../MatsInitiator.MatsInitiate.html#setTraceProperty(java.lang.String,java.lang.Object)"><code>TraceProperties</code></a> of a Mats
 Flow, with the value <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html#TRUE" title="class or interface in java.lang" class="external-link"><code>Boolean.TRUE</code></a>, no ordinary log lines should be emitted while initiating or stage
 processing the Mats Flow, <i>assuming</i> that the implicated endpoints
 <a href="#SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY"><code>allows</code></a> logging suppression. This is only to be used
 for frequent system messages that otherwise would swamp the log, and should never be used for ordinary
 processing.
 <p/>
 Note wrt. suppression of initiation logging: An outgoing message starts a Mats Flow. It is the message that
 holds the TraceProperty saying that logging should be suppressed. Three things: 1. Contrasted to endpoints,
 initiations do not have an <a href="#SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY"><code>"allow"</code></a> concept, as it
 makes no sense security wise since the initiator could just change the allowance. 2. If multiple messages are
 initiated, then they all must agree of suppression for the initiation log lines to be suppressed. 3. If you
 initiate, but do not send any messages after all (inside the initiation you find that there is nothing to
 do), then it is impossible to suppress logging. Thus, you should instead perform whatever checking to decide
 whether to send a message before going into initiation.
 <p/>
 Note: The <code>MatsMetricsLoggingInterceptor</code> has logic whereby every X minutes, the number of
 suppressed logs are output (if any), grouped into matsFactory/initApp/initiatorId/stageId, so that it is
 possible to assert liveliness of the system, and also get an idea of how heavy usage it leads to.
 <p/>
 Note: Suppression of logging effectively removes these initiations and processing from any aggregate metrics
 based on the log system, e.g. doing "number of message per second" in Kibana will lose out on these messages
 since they aren't logged (except for the aggregate every X minutes mentioned above). Metrics in form of
 <code>MatsMicrometerInterceptor</code> are not affected.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY"><code>SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY</code></a></li>
<li><a href="../../../../constant-values.html#io.mats3.api.intercept.MatsInterceptable.MatsLoggingInterceptor.SUPPRESS_LOGGING_TRACE_PROPERTY_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY">
<h3>SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY</span></div>
<div class="block"><a href="#SUPPRESS_LOGGING_TRACE_PROPERTY_KEY"><code>Suppression of loglines</code></a> will only be done if the affected
 endpoints allows it. Allowance is done by setting an <a href="../../MatsEndpoint.EndpointConfig.html#setAttribute(java.lang.String,java.lang.Object)"><code>EndpointConfig attribute</code></a> for the allowing Endpoint with this as key, with the value <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html#TRUE" title="class or interface in java.lang" class="external-link"><code>Boolean.TRUE</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#SUPPRESS_LOGGING_TRACE_PROPERTY_KEY"><code>SUPPRESS_LOGGING_TRACE_PROPERTY_KEY</code></a></li>
<li><a href="../../../../constant-values.html#io.mats3.api.intercept.MatsInterceptable.MatsLoggingInterceptor.SUPPRESS_LOGGING_ENDPOINT_ALLOWS_ATTRIBUTE_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
