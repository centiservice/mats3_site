<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory (mats3 0.19.1-2022-11-13 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.mats3.test, interface: MatsTestBrokerInterface, class: MatsTestBrokerInterface_JmsMatsFactory">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.mats3.test</a></div>
<h1 title="Class MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory" class="title">Class MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.mats3.test.MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="MatsTestBrokerInterface.html" title="interface in io.mats3.test">MatsTestBrokerInterface</a></code></dd>
</dl>
<dl class="notes">
<dt>Enclosing interface:</dt>
<dd><a href="MatsTestBrokerInterface.html" title="interface in io.mats3.test">MatsTestBrokerInterface</a></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public static class </span><span class="element-name type-name-label">MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="MatsTestBrokerInterface.html" title="interface in io.mats3.test">MatsTestBrokerInterface</a></span></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-io.mats3.test.MatsTestBrokerInterface">Nested classes/interfaces inherited from interface&nbsp;io.mats3.test.<a href="MatsTestBrokerInterface.html" title="interface in io.mats3.test">MatsTestBrokerInterface</a></h2>
<code><a href="MatsTestBrokerInterface.MatsMessageRepresentation.html" title="interface in io.mats3.test">MatsTestBrokerInterface.MatsMessageRepresentation</a>, <a href="MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory.html" title="class in io.mats3.test">MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory</a></code></div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory.html" title="class in io.mats3.test">MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_latePopulate(javax.jms.ConnectionFactory,io.mats3.MatsFactory)" class="member-name-link">_latePopulate</a><wbr>(javax.jms.ConnectionFactory&nbsp;connectionFactory,
 <a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block"><i>This method is most probably not for you!</i>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkCorrectSetup()" class="member-name-link">checkCorrectSetup</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MatsTestBrokerInterface.MatsMessageRepresentation.html" title="interface in io.mats3.test">MatsTestBrokerInterface.MatsMessageRepresentation</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDlqMessage(java.lang.String)" class="member-name-link">getDlqMessage</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointOrStageId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Waits a couple of seconds for a message to appear on the Dead Letter Queue for the provided endpoint- or
 stageId (Queue name "DLQ."+matsendpointPrefix+endpointOrStageId) - and also checks the standard common
 ActiveMQ DLQ (Queue name "ActiveMQ.DLQ") in case the broker is not configured with specific DLQs per Queue,
 which is relevant if you fire up an unmodified ActiveMQ distribution on the command line, check the
 <code>MatsTestBroker</code> class JavaDoc for how to use an external MQ instead of the in-VM which otherwise is
 fired up.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="_latePopulate(javax.jms.ConnectionFactory,io.mats3.MatsFactory)">
<h3>_latePopulate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory.html" title="class in io.mats3.test">MatsTestBrokerInterface.MatsTestBrokerInterface_JmsMatsFactory</a></span>&nbsp;<span class="element-name">_latePopulate</span><wbr><span class="parameters">(javax.jms.ConnectionFactory&nbsp;connectionFactory,
 <a href="../MatsFactory.html" title="interface in io.mats3">MatsFactory</a>&nbsp;matsFactory)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="MatsTestBrokerInterface.html#_latePopulate(javax.jms.ConnectionFactory,io.mats3.MatsFactory)">MatsTestBrokerInterface</a></code></span></div>
<div class="block"><i>This method is most probably not for you!</i>. It is employed by <code>SpringJmsMatsFactoryWrapper</code>, by
 reflection invocation when it is both on classpath and as an instance in the Spring context, to perform "late
 setting" of the properties which the tool needs to perform its job. (Reason for reflection: This class resides in
 the 'mats-test' project - which is for testing, while the <code>SpringJmsMatsFactoryWrapper</code> is in the
 'mats-spring-jms' project - which is for "production").
 <p/>
 The matsFactory parameter currently needs to be a JmsMatsFactory. We need all of the following from it
 <ul>
 <li><code>matsFactory.getFactoryConfig().getMatsDestinationPrefix()</code> (standard MatsFactory)</li>
 <li><code>matsFactory.getFactoryConfig().getMatsTraceKey()</code> (standard MatsFactory)</li>
 <li>The Mats Interceptor API (from <a href="../api/intercept/MatsInterceptable.html" title="interface in io.mats3.api.intercept"><code>MatsInterceptable</code></a>, which JmsMatsFactory is)</li>
 <li>The <a href="../serial/MatsSerializer.html" title="interface in io.mats3.serial"><code>MatsSerializer</code></a> to provide access to contents from messages (from JmsMatsFactory)</li>
 </ul>
 <p/>
 <b>Note: The MatsFactory provided may be a <a href="../MatsFactory.MatsFactoryWrapper.html" title="class in io.mats3"><code>MatsFactory.MatsFactoryWrapper</code></a>, but it must resolve to a
 <a href="../impl/jms/JmsMatsFactory.html" title="class in io.mats3.impl.jms"><code>JmsMatsFactory</code></a> via the <a href="../MatsFactory.html#unwrapFully()"><code>MatsFactory.unwrapFully()</code></a>!</b> Otherwise, it'll throw an
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link"><code>IllegalArgumentException</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MatsTestBrokerInterface.html#_latePopulate(javax.jms.ConnectionFactory,io.mats3.MatsFactory)">_latePopulate</a></code>&nbsp;in interface&nbsp;<code><a href="MatsTestBrokerInterface.html" title="interface in io.mats3.test">MatsTestBrokerInterface</a></code></dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkCorrectSetup()">
<h3>checkCorrectSetup</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkCorrectSetup</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getDlqMessage(java.lang.String)">
<h3>getDlqMessage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MatsTestBrokerInterface.MatsMessageRepresentation.html" title="interface in io.mats3.test">MatsTestBrokerInterface.MatsMessageRepresentation</a></span>&nbsp;<span class="element-name">getDlqMessage</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointOrStageId)</span></div>
<div class="block">Waits a couple of seconds for a message to appear on the Dead Letter Queue for the provided endpoint- or
 stageId (Queue name "DLQ."+matsendpointPrefix+endpointOrStageId) - and also checks the standard common
 ActiveMQ DLQ (Queue name "ActiveMQ.DLQ") in case the broker is not configured with specific DLQs per Queue,
 which is relevant if you fire up an unmodified ActiveMQ distribution on the command line, check the
 <code>MatsTestBroker</code> class JavaDoc for how to use an external MQ instead of the in-VM which otherwise is
 fired up. (NOTE: It is HIGHLY suggested to use the "specific DLQ" pattern in any production setting, as this
 is much easier to reason about when ugly things starts hitting fans).</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MatsTestBrokerInterface.html#getDlqMessage(java.lang.String)">getDlqMessage</a></code>&nbsp;in interface&nbsp;<code><a href="MatsTestBrokerInterface.html" title="interface in io.mats3.test">MatsTestBrokerInterface</a></code></dd>
<dt>Parameters:</dt>
<dd><code>endpointOrStageId</code> - the endpoint which is expected to generate a DLQ message.</dd>
<dt>Returns:</dt>
<dd>the <a href="../serial/MatsTrace.html" title="interface in io.mats3.serial"><code>MatsTrace</code></a> of the DLQ'ed message.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
