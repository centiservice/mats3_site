<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MatsTestBroker (mats3 0.19.9-2023-05-04 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.mats3.test.broker, interface: MatsTestBroker">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.mats3.test.broker</a></div>
<h1 title="Interface MatsTestBroker" class="title">Interface MatsTestBroker</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="MatsTestBroker.MatsTestBroker_ActiveMq.html" title="class in io.mats3.test.broker">MatsTestBroker.MatsTestBroker_ActiveMq</a></code>, <code><a href="MatsTestBroker.MatsTestBroker_Artemis.html" title="class in io.mats3.test.broker">MatsTestBroker.MatsTestBroker_Artemis</a></code>, <code><a href="MatsTestBroker.MatsTestBroker_InVmActiveMq.html" title="class in io.mats3.test.broker">MatsTestBroker.MatsTestBroker_InVmActiveMq</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">MatsTestBroker</span></div>
<div class="block">A special utility class utilized in tests and Mats test infrastructure providing a ConnectionFactory for the test
 (Jms)MatsFactory - and if relevant also fires up an embedded ("in-VM") ActiveMQ (default) or Artemis message broker.
 <p/>
 If the system property "<a href="#SYSPROP_MATS_TEST_BROKER"><code>mats.test.broker</code></a>" is set, it directs which type of broker
 should be connected to, and possibly instantiate embedded.
 <p/>
 If the system property "<a href="#SYSPROP_MATS_TEST_BROKERURL"><code>mats.test.brokerurl</code></a>" is set, it both defines whether the
 embedded message broker will be created and which URL the created ConnectionFactory should use.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsTestBroker.ActiveMq.html" class="type-name-link" title="enum class in io.mats3.test.broker">MatsTestBroker.ActiveMq</a></code></div>
<div class="col-last even-row-color">
<div class="block">Feature flags for the method <a href="#newActiveMqBroker(io.mats3.test.broker.MatsTestBroker.ActiveMq...)"><code>newActiveMqBroker(ActiveMq...)</code></a> - which you probably shouldn't do unless you
 are experimenting with the "mats-examples".</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatsTestBroker.MatsTestBroker_ActiveMq.html" class="type-name-link" title="class in io.mats3.test.broker">MatsTestBroker.MatsTestBroker_ActiveMq</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Either creates an in-vm ActiveMQ, or an ActiveMQ ConnectionFactory to an external URL, based on system
 properties.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatsTestBroker.MatsTestBroker_Artemis.html" class="type-name-link" title="class in io.mats3.test.broker">MatsTestBroker.MatsTestBroker_Artemis</a></code></div>
<div class="col-last even-row-color">
<div class="block">Creates a connection to an Artemis broker.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatsTestBroker.MatsTestBroker_InVmActiveMq.html" class="type-name-link" title="class in io.mats3.test.broker">MatsTestBroker.MatsTestBroker_InVmActiveMq</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Creates an in-vm ActiveMQ no matter what the properties says.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#SYSPROP_MATS_TEST_BROKER" class="member-name-link">SYSPROP_MATS_TEST_BROKER</a></code></div>
<div class="col-last even-row-color">
<div class="block">Which Broker client to use (which JMS <code>ConnectionFactory</code> implementation): activemq (default), artemis or
 rabbitmq - or if a class-name like String, assumes that it is an implementation of the present interface
 (<code>MatsTestBroker</code>) and instantiates that.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#SYSPROP_MATS_TEST_BROKER_VALUE_ACTIVEMQ" class="member-name-link">SYSPROP_MATS_TEST_BROKER_VALUE_ACTIVEMQ</a></code></div>
<div class="col-last odd-row-color">
<div class="block">DEFAULT: Use ActiveMQ as broker.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#SYSPROP_MATS_TEST_BROKER_VALUE_ARTEMIS" class="member-name-link">SYSPROP_MATS_TEST_BROKER_VALUE_ARTEMIS</a></code></div>
<div class="col-last even-row-color">
<div class="block">Use Artemis (Apache ActiveMQ Artemis) as broker - this was formerly JBoss HornetQ.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#SYSPROP_MATS_TEST_BROKER_VALUE_RABBITMQ" class="member-name-link">SYSPROP_MATS_TEST_BROKER_VALUE_RABBITMQ</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Use RabbitMQ as broker.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#SYSPROP_MATS_TEST_BROKERURL" class="member-name-link">SYSPROP_MATS_TEST_BROKERURL</a></code></div>
<div class="col-last even-row-color">
<div class="block">System property ("-D" jvm argument) that if set to something else than
 <a href="#SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM"><code>SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM</code></a>, will
 
 <b>Not</b> start an embedded ("in-VM") ActiveMQ instance.
 Make the ConnectionFactory use the property's value as brokerURL - with the special case that if the value is
 "<a href="#SYSPROP_MATS_TEST_BROKERURL_VALUE_LOCALHOST"><code>LOCALHOST</code></a>", it means default localhost connection string
 for <a href="#SYSPROP_MATS_TEST_BROKER"><code>active broker</code></a>, e.g.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM" class="member-name-link">SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM</a></code></div>
<div class="col-last odd-row-color">
<div class="block">DEFAULT: If the value of <a href="#SYSPROP_MATS_TEST_BROKERURL"><code>SYSPROP_MATS_TEST_BROKERURL</code></a> is this value OR not set (i.e.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#SYSPROP_MATS_TEST_BROKERURL_VALUE_LOCALHOST" class="member-name-link">SYSPROP_MATS_TEST_BROKERURL_VALUE_LOCALHOST</a></code></div>
<div class="col-last even-row-color">
<div class="block">If the value of <a href="#SYSPROP_MATS_TEST_BROKERURL"><code>SYSPROP_MATS_TEST_BROKERURL</code></a> is this value, it means default localhost connection string
 for <a href="#SYSPROP_MATS_TEST_BROKER"><code>active broker</code></a>, e.g.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Stops the created in-vm broker, if it was created (read <a href="#SYSPROP_MATS_TEST_BROKERURL"><code>SYSPROP_MATS_TEST_BROKERURL</code></a>).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="MatsTestBroker.html" title="interface in io.mats3.test.broker">MatsTestBroker</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#create()" class="member-name-link">create</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="MatsTestBroker.html" title="interface in io.mats3.test.broker">MatsTestBroker</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#createUniqueInVmActiveMq()" class="member-name-link">createUniqueInVmActiveMq</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">This is a special factory method, which creates a unique (randomly named) in-vm ActiveMQ instance, no matter what
 the system properties says.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>javax.jms.ConnectionFactory</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getConnectionFactory()" class="member-name-link">getConnectionFactory</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static org.apache.activemq.broker.BrokerService</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#newActiveMqBroker(io.mats3.test.broker.MatsTestBroker.ActiveMq...)" class="member-name-link">newActiveMqBroker</a><wbr>(<a href="MatsTestBroker.ActiveMq.html" title="enum class in io.mats3.test.broker">MatsTestBroker.ActiveMq</a>...&nbsp;features)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block"><b>Note: This is most probably not what you want to use in a testing scenario - for this you want to use the
 method <a href="MatsTestBroker.html" title="interface in io.mats3.test.broker"><code>MatsTestBroker</code></a> class directly, using its <a href="#create()"><code>create()</code></a> method.</b></div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="SYSPROP_MATS_TEST_BROKER">
<h3>SYSPROP_MATS_TEST_BROKER</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SYSPROP_MATS_TEST_BROKER</span></div>
<div class="block">Which Broker client to use (which JMS <code>ConnectionFactory</code> implementation): activemq (default), artemis or
 rabbitmq - or if a class-name like String, assumes that it is an implementation of the present interface
 (<code>MatsTestBroker</code>) and instantiates that.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#io.mats3.test.broker.MatsTestBroker.SYSPROP_MATS_TEST_BROKER">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SYSPROP_MATS_TEST_BROKER_VALUE_ACTIVEMQ">
<h3>SYSPROP_MATS_TEST_BROKER_VALUE_ACTIVEMQ</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SYSPROP_MATS_TEST_BROKER_VALUE_ACTIVEMQ</span></div>
<div class="block">DEFAULT: Use ActiveMQ as broker.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#io.mats3.test.broker.MatsTestBroker.SYSPROP_MATS_TEST_BROKER_VALUE_ACTIVEMQ">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SYSPROP_MATS_TEST_BROKER_VALUE_ARTEMIS">
<h3>SYSPROP_MATS_TEST_BROKER_VALUE_ARTEMIS</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SYSPROP_MATS_TEST_BROKER_VALUE_ARTEMIS</span></div>
<div class="block">Use Artemis (Apache ActiveMQ Artemis) as broker - this was formerly JBoss HornetQ.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#io.mats3.test.broker.MatsTestBroker.SYSPROP_MATS_TEST_BROKER_VALUE_ARTEMIS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SYSPROP_MATS_TEST_BROKER_VALUE_RABBITMQ">
<h3>SYSPROP_MATS_TEST_BROKER_VALUE_RABBITMQ</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SYSPROP_MATS_TEST_BROKER_VALUE_RABBITMQ</span></div>
<div class="block">Use RabbitMQ as broker. This cannot be used in embedded mode, since RabbitMQ is written in Erlang.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#io.mats3.test.broker.MatsTestBroker.SYSPROP_MATS_TEST_BROKER_VALUE_RABBITMQ">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SYSPROP_MATS_TEST_BROKERURL">
<h3>SYSPROP_MATS_TEST_BROKERURL</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SYSPROP_MATS_TEST_BROKERURL</span></div>
<div class="block">System property ("-D" jvm argument) that if set to something else than
 <a href="#SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM"><code>SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM</code></a>, will
 <ol>
 <li><b>Not</b> start an embedded ("in-VM") ActiveMQ instance.</li>
 <li>Make the ConnectionFactory use the property's value as brokerURL - with the special case that if the value is
 "<a href="#SYSPROP_MATS_TEST_BROKERURL_VALUE_LOCALHOST"><code>LOCALHOST</code></a>", it means default localhost connection string
 for <a href="#SYSPROP_MATS_TEST_BROKER"><code>active broker</code></a>, e.g. for ActiveMQ: <code>"tcp://localhost:61616"</code></li>
 </ol>
 <p>
 Value is <code>"mats.test.brokerurl"</code></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#io.mats3.test.broker.MatsTestBroker.SYSPROP_MATS_TEST_BROKERURL">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM">
<h3>SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM</span></div>
<div class="block">DEFAULT: If the value of <a href="#SYSPROP_MATS_TEST_BROKERURL"><code>SYSPROP_MATS_TEST_BROKERURL</code></a> is this value OR not set (i.e. this is the
 default), the ConnectionFactory will use an in-VM connection method for the <a href="#SYSPROP_MATS_TEST_BROKER"><code>active broker</code></a>, e.g. for ActiveMQ: <code>"vm://{brokername}"</code>. (Note that RabbitMQ does not support in-VM,
 since it's written in Erlang).
 <p>
 Value is <code>"in-vm"</code></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#io.mats3.test.broker.MatsTestBroker.SYSPROP_MATS_TEST_BROKERURL_VALUE_IN_VM">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SYSPROP_MATS_TEST_BROKERURL_VALUE_LOCALHOST">
<h3>SYSPROP_MATS_TEST_BROKERURL_VALUE_LOCALHOST</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SYSPROP_MATS_TEST_BROKERURL_VALUE_LOCALHOST</span></div>
<div class="block">If the value of <a href="#SYSPROP_MATS_TEST_BROKERURL"><code>SYSPROP_MATS_TEST_BROKERURL</code></a> is this value, it means default localhost connection string
 for <a href="#SYSPROP_MATS_TEST_BROKER"><code>active broker</code></a>, e.g. for ActiveMQ: <code>"tcp://localhost:61616"</code>.
 <p>
 Value is <code>"localhost"</code></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../constant-values.html#io.mats3.test.broker.MatsTestBroker.SYSPROP_MATS_TEST_BROKERURL_VALUE_LOCALHOST">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="create()">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="MatsTestBroker.html" title="interface in io.mats3.test.broker">MatsTestBroker</a></span>&nbsp;<span class="element-name">create</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a MatsTestBroker implementation respecting the system properties set (defaults are probably good!).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createUniqueInVmActiveMq()">
<h3>createUniqueInVmActiveMq</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="MatsTestBroker.html" title="interface in io.mats3.test.broker">MatsTestBroker</a></span>&nbsp;<span class="element-name">createUniqueInVmActiveMq</span>()</div>
<div class="block">This is a special factory method, which creates a unique (randomly named) in-vm ActiveMQ instance, no matter what
 the system properties says. This is only relevant in very specific test scenarios where you specifically want
 more than a single broker, due to wanting multiple distinct MatsFactories utilizing these distinct brokers, i.e.
 multiple separate "Mats fabrics". It is used by the Mats test suites to check that the SpringConfig handles
 multiple MatsFactories each employing a different broker with separate JMS ConnectionFactories (which is relevant
 if you have multiple brokers in your environment to e.g. subdivide the traffic, but some services are relevant
 for more than one of those subdivisions, and thus those services want "one leg in each broker").</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an in-vm ActiveMQ backed MatsTestBroker, no matter what the system properties says.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getConnectionFactory()">
<h3>getConnectionFactory</h3>
<div class="member-signature"><span class="return-type">javax.jms.ConnectionFactory</span>&nbsp;<span class="element-name">getConnectionFactory</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the ConnectionFactory connecting to the broker.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Stops the created in-vm broker, if it was created (read <a href="#SYSPROP_MATS_TEST_BROKERURL"><code>SYSPROP_MATS_TEST_BROKERURL</code></a>). Called "close()"
 to hook into the default Spring lifecycle if it is instantiated as a Spring Bean.</div>
</section>
</li>
<li>
<section class="detail" id="newActiveMqBroker(io.mats3.test.broker.MatsTestBroker.ActiveMq...)">
<h3>newActiveMqBroker</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">org.apache.activemq.broker.BrokerService</span>&nbsp;<span class="element-name">newActiveMqBroker</span><wbr><span class="parameters">(<a href="MatsTestBroker.ActiveMq.html" title="enum class in io.mats3.test.broker">MatsTestBroker.ActiveMq</a>...&nbsp;features)</span></div>
<div class="block"><b>Note: This is most probably not what you want to use in a testing scenario - for this you want to use the
 method <a href="MatsTestBroker.html" title="interface in io.mats3.test.broker"><code>MatsTestBroker</code></a> class directly, using its <a href="#create()"><code>create()</code></a> method.</b>
 <p/>
 This method is publicly available for examples and experiments, and provide a way to create an ActiveMQ broker
 with some Mats optimizations, with a single method call.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a new ActiveMQ Broker instance.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
