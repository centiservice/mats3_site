<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MatsInitiator.MatsInitiate (mats3 0.19.9-2023-05-04 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.mats3, interface: MatsInitiator, interface: MatsInitiate">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.mats3</a></div>
<h1 title="Interface MatsInitiator.MatsInitiate" class="title">Interface MatsInitiator.MatsInitiate</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="MatsInitiator.MatsInitiateWrapper.html" title="class in io.mats3">MatsInitiator.MatsInitiateWrapper</a></code></dd>
</dl>
<dl class="notes">
<dt>Enclosing interface:</dt>
<dd><a href="MatsInitiator.html" title="interface in io.mats3">MatsInitiator</a></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public static interface </span><span class="element-name type-name-label">MatsInitiator.MatsInitiate</span></div>
<div class="block">An implementation of this interface is given to you when you want to initiate a new Mats Flow. It is the argument
 given to the <a href="MatsInitiator.InitiateLambda.html#initiate(io.mats3.MatsInitiator.MatsInitiate)"><code>InitiateLambda.initiate(..)</code></a> lambda you implement.
 <p/>
 To initiate a message "from the outside", i.e. from synchronous application code, you must get a
 <a href="MatsInitiator.html" title="interface in io.mats3"><code>MatsInitiator</code></a>, e.g. by invoking <a href="MatsFactory.html#getDefaultInitiator()"><code>MatsFactory.getDefaultInitiator()</code></a>, and then invoke
 <a href="MatsInitiator.html#initiate(io.mats3.MatsInitiator.InitiateLambda)"><code>matsInitiator.initiate(..)</code></a> on that.
 <p/>
 To initiate a new message "from the inside", i.e. while already inside a <a href="MatsStage.html" title="interface in io.mats3"><code>processing stage</code></a> of an
 endpoint, you use the initiate method on the stage lambda's ProcessContext:
 <a href="MatsEndpoint.ProcessContext.html#initiate(io.mats3.MatsInitiator.InitiateLambda)"><code>processContext.initiate(..)</code></a>. (Notice that initiating a <i>new</i>
 Mats Flow from within a processing stage is a much less common operation than performing a
 <a href="MatsEndpoint.ProcessContext.html#request(java.lang.String,java.lang.Object)"><code>request</code></a>, <a href="MatsEndpoint.ProcessContext.html#reply(R)"><code>reply</code></a>, and other
 calls on the existing Mats Flow. Initiating a new message from within a processing stage is effectively a fork of
 the Mats Flow you are in.)</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addBytes(java.lang.String,byte%5B%5D)" class="member-name-link">addBytes</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key,
 byte[]&nbsp;payload)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a binary payload to the outgoing request message, e.g.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addString(java.lang.String,java.lang.String)" class="member-name-link">addString</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;payload)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a String payload to the outgoing request message, e.g.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#from(java.lang.String)" class="member-name-link">from</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initiatorId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets the originating/initiating "synthetic endpoint Id" - only used for statistics/tracing/debugging.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getAttribute(java.lang.Class,java.lang.String...)" class="member-name-link">getAttribute</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Provides a way to get hold of (optional) attributes/objects from the Mats implementation, either specific to
 the Mats implementation in use, or configured into this instance of the Mats implementation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#interactive()" class="member-name-link">interactive</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block"><b>Prioritize this Mats flow!</b> Hint to the underlying implementation that a human is actually waiting for
 the result of a request, and that the flow therefore should be prioritized.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#keepTrace(io.mats3.MatsInitiator.KeepTrace)" class="member-name-link">keepTrace</a><wbr>(<a href="MatsInitiator.KeepTrace.html" title="enum class in io.mats3">MatsInitiator.KeepTrace</a>&nbsp;keepTrace)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Hint to the underlying implementation to which level of call and state history the underlying protocol should
 retain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#logMeasurement(java.lang.String,java.lang.String,java.lang.String,double,java.lang.String...)" class="member-name-link">logMeasurement</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;metricId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;metricDescription,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;baseUnit,
 double&nbsp;measure,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;labelKeyValue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a measurement of a described variable, in a base unit, for this Initiation - <b>be sure to understand
 that the three String parameters are <i>constants</i> for each measurement.</b> To exemplify, you may measure
 five different things in an Initiation, i.e.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#logTimingMeasurement(java.lang.String,java.lang.String,long,java.lang.String...)" class="member-name-link">logTimingMeasurement</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;metricId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;metricDescription,
 long&nbsp;nanos,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;labelKeyValue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Same as <a href="#logMeasurement(java.lang.String,java.lang.String,java.lang.String,double,java.lang.String...)"><code>addMeasurement(..)</code></a>, but
 specifically for timings - <b>Read that JavaDoc!</b></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#noAudit()" class="member-name-link">noAudit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Marks this Mats flow as not relevant for auditing.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#nonPersistent()" class="member-name-link">nonPersistent</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block"><b>Enable unreliable, but fast, messaging!</b> Hint to the underlying implementation that it does not matter
 that much if this message is lost.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#nonPersistent(long)" class="member-name-link">nonPersistent</a><wbr>(long&nbsp;timeToLiveMillis)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Same as <a href="#nonPersistent()"><code>nonPersistent()</code></a>, but you can set a time-to-live too.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#publish(java.lang.Object)" class="member-name-link">publish</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;messageDto)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sends a message to a
 <a href="MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a>, employing the publish/subscribe pattern instead of message queues (topic in JMS
 terms).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#publish(java.lang.Object,java.lang.Object)" class="member-name-link">publish</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;messageDto,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initialTargetSto)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block"><b>Variation of the <a href="#publish(java.lang.Object)"><code>publish(Object)</code></a> method</b>, where the incoming state is sent along.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#replyTo(java.lang.String,java.lang.Object)" class="member-name-link">replyTo</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;replySto)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Specified which MATS Endpoint the reply of the invoked Endpoint should go to.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#replyToSubscription(java.lang.String,java.lang.Object)" class="member-name-link">replyToSubscription</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;replySto)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">A "pub-sub" variant of <a href="#replyTo(java.lang.String,java.lang.Object)"><code>replyTo</code></a>, where the reply will go to the specified
 endpointId which must be a
 <a href="MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#request(java.lang.Object)" class="member-name-link">request</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;requestDto)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block"><i>The standard request initiation method</i>: All of from, to and replyTo must be set.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#request(java.lang.Object,java.lang.Object)" class="member-name-link">request</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;requestDto,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initialTargetSto)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block"><b>Variation of the request initiation method</b>, where the incoming state is sent along.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#send(java.lang.Object)" class="member-name-link">send</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;messageDto)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sends a message to an endpoint, without expecting any reply ("fire-and-forget").</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#send(java.lang.Object,java.lang.Object)" class="member-name-link">send</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;messageDto,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initialTargetSto)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block"><b>Variation of the <a href="#send(java.lang.Object)"><code>send(Object)</code></a> method</b>, where the incoming state is sent along.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setTraceProperty(java.lang.String,java.lang.Object)" class="member-name-link">setTraceProperty</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;propertyName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;propertyValue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a property that will "stick" with the call flow from this call on out.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#to(java.lang.String)" class="member-name-link">to</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets which MATS Endpoint this message should go.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#traceId(java.lang.CharSequence)" class="member-name-link">traceId</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/CharSequence.html" title="class or interface in java.lang" class="external-link">CharSequence</a>&nbsp;traceId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets (or appends with a joining "|" in case of <a href="MatsEndpoint.ProcessContext.html#initiate(io.mats3.MatsInitiator.InitiateLambda)"><code>initiation
 within a stage</code></a>) the supplied <i>Trace Id</i>, which is solely used for logging and debugging purposes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;R,<wbr>
S,<wbr>
I&gt;&nbsp;void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#unstash(byte%5B%5D,java.lang.Class,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessLambda)" class="member-name-link">unstash</a><wbr>(byte[]&nbsp;stash,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;R&gt;&nbsp;replyClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;S&gt;&nbsp;stateClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessLambda</a>&lt;R,<wbr>S,<wbr>I&gt;&nbsp;lambda)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Unstashes a Mats Flow that have been previously <a href="MatsEndpoint.ProcessContext.html#stash()"><code>stashed</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#unwrapFully()" class="member-name-link">unwrapFully</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">&nbsp;</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="traceId(java.lang.CharSequence)">
<h3>traceId</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">traceId</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/CharSequence.html" title="class or interface in java.lang" class="external-link">CharSequence</a>&nbsp;traceId)</span></div>
<div class="block">Sets (or appends with a joining "|" in case of <a href="MatsEndpoint.ProcessContext.html#initiate(io.mats3.MatsInitiator.InitiateLambda)"><code>initiation
 within a stage</code></a>) the supplied <i>Trace Id</i>, which is solely used for logging and debugging purposes. It
 should be unique, at least to a degree where it is <u>very</u> unlikely that you will have two identical
 traceIds within a couple of years ("guaranteed globally unique through all time" is not relevant).
 <p/>
 Since this is very important when doing distributed and asynchronous architectures, it is mandatory.
 <p/>
 The traceId follows a Mats processing from the initiation until it is finished, usually in a Terminator.
 <p/>
 It should be a world-unique Id, preferably set all the way back when some actual person performed some event.
 E.g. in a "new order" situation, the Id would best be set when the user clicked the "place order" button on
 the web page - or maybe even derived from the event when he first initiated the shopping cart - or maybe even
 when he started the session. The point is that when using e.g. Kibana or Splunk to track events that led to
 some outcome, a robust, versatile and information-rich track/trace Id makes wonders.
 <p/>
 <b>It is strongly recommended to use small, dense, <u>information rich</u> Trace Ids.</b> Sticking in an UUID
 as Trace Id certainly fulfils the uniqueness-requirement, but it is a crappy solution, as it by itself does
 not give any hint of source, cause, relevant entities, or goal. <i>(It isn't even dense for the uniqueness an
 UUID gives, which also is way above the required uniqueness unless you handle billions of such messages per
 minute. A random alphanum (A-Z,a-z,0-9) string of much smaller length would give plenty enough
 uniqueness).</i> The following would be a much better Trace Id than a random UUID, which follows some scheme
 that could be system wide: "Web.placeOrder[cid:43512][cart:xa4ru5285fej]qz7apy9". From this example TraceId
 we could infer that it originated at the <i>Web system</i>, it regards <i>Placing an order</i> for
 <i>Customer Id 43512</i>, it regards the <i>Shopping Cart Id xa4ru5285fej</i>, and it contains some
 uniqueness ('qz7apy9') generated at the initiating, so that even if the customer managed to click three times
 on the "place order" button for the same cart, you would still be able to separate the resulting three
 different Mats call flows.
 <p/>
 You should consider storing the traceId as a column in any inserted rows in any databases that was affected
 by this call flow, e.g. in the row for a placed order, you'd have the traceId as a column. This both to be
 able to tie this db row back to the logging system, but also if new Mats flows are initiated based on this
 row, you can include the order TraceId in the new TraceId (with either "|" or "+" as separator).
 <p/>
 For situations where one Mats Flow "forks" new Mats flows, make new TraceIds for the "sub flows" by tying
 together the existing TraceId and a new Sub TraceId with a "|". In the order/shipping example, the user would
 first have placed an order, resulting in an entry in an order database table - where the traceId was stored
 along. Then, when some batch process Mats Flow initiated the filling process, you would pick up the order's
 traceId and append that to the sub Mats Flow. Sub Flow Mats TraceId = "{Filling Batch Id}|{Existing Order
 TraceId}". If you took this all the way, you could in your logging system follow the "total flow" from the
 initial click on the web page, through the order book, order processing, shipment, and all the way to the
 delivered and signed package on the person's door - even if the entirety of the order fulfillment consists of
 multiple "stop and go" sub-flows (the stops being where the process stays for a while as an entry in a
 database, here "order", then possibly "filling", "shipping" and finally "delivery", or whatever your multiple
 processes' flows consists of).
 <p/>
 The "+" character should be used to indicate that an "initiated from the outside" TraceId is concatenated by
 multiple parts, which so far has been used to pick up an X-Request-ID header from a HTTP-request, and
 prepending this to the TraceId for a resulting Mats-flow, i.e. Mats TraceId="{X-Request-ID}+{Flow TraceID}".
 (Check out <a href="MatsFactory.FactoryConfig.html#setInitiateTraceIdModifier(java.util.function.Function)"><code>MatsFactory.FactoryConfig.setInitiateTraceIdModifier(Function)</code></a> for a way to automate this.)
 <p/>
 The difference between "|" and "+" is meant to be that "|" indicates that there is a Mats Flow TraceId on
 both sides of the "|", while the "+" is used when a "from the outside"-initiated TraceId is built up by
 multiple pieces, e.g. X-Request-Id, or Batch Run Number, on the left side. Remember, this is all meant for
 human consumption, in particular when debugging. Do what you feel is meaningful - the Mats system doesn't
 care!
 <p/>
 (For the default implementation "JMS Mats", the Trace Id is set on the <code>MDC</code> of the SLF4J logging
 system, using the key "traceId". Since this implementation logs a few lines per handled message, in addition
 to any log lines you emit yourself, you will, by collecting the log lines in a common log system (e.g. the
 ELK stack), be able to very easily follow the processing trace through all the services the call flow
 passes.)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>traceId</code> - the traceId that will follow the mats trace from initiation (first call) to termination (last
            call, where the flow ends). Although the type is <code>CharSequence</code>, the implementation
            will immediately do <code>toString()</code> on the instance to fix the value.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="keepTrace(io.mats3.MatsInitiator.KeepTrace)">
<h3>keepTrace</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">keepTrace</span><wbr><span class="parameters">(<a href="MatsInitiator.KeepTrace.html" title="enum class in io.mats3">MatsInitiator.KeepTrace</a>&nbsp;keepTrace)</span></div>
<div class="block">Hint to the underlying implementation to which level of call and state history the underlying protocol should
 retain. The default (unless configured otherwise), <a href="MatsInitiator.KeepTrace.html#COMPACT"><code>MatsInitiator.KeepTrace.COMPACT</code></a>, keeps a trail of all the stages
 the flow has been through, but drops state and DTOs that aren't relevant for the current message. You might
 want to use <a href="MatsInitiator.KeepTrace.html#FULL"><code>MatsInitiator.KeepTrace.FULL</code></a> while developing new functionality, while once a certain call flow
 stabilizes, without much errors or DLQs, you should consider initializing it with <a href="MatsInitiator.KeepTrace.html#COMPACT"><code>MatsInitiator.KeepTrace.COMPACT</code></a>
 or even <a href="MatsInitiator.KeepTrace.html#MINIMAL"><code>MatsInitiator.KeepTrace.MINIMAL</code></a> (the latter also dropping the "trail", thus only keeping information
 strictly relevant for the current message).
 <p/>
 <b>This functionality is solely for debugging, the Mats endpoints works identically with any setting</b>,
 thus it is a tradeoff between performance (size of messages) and debuggability. The resulting kept trace
 would typically be visible in a "toString()" of the <a href="MatsEndpoint.ProcessContext.html" title="interface in io.mats3"><code>MatsEndpoint.ProcessContext</code></a> - or in an external (e.g.
 Brokerside) debugging/tracing system.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nonPersistent()">
<h3>nonPersistent</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">nonPersistent</span>()</div>
<div class="block"><b>Enable unreliable, but fast, messaging!</b> Hint to the underlying implementation that it does not matter
 that much if this message is lost. The implication is that the messages that this flow consist of are
 unreliable - typically, if the MQ broker is restarted, any outstanding "non persistent" messages are lost.
 (Also, some backends will (in default config) lose the Dead Letter Queue (DLQ) functionality when this is
 used, where a ordinary persistent message would be DLQed if it failed to be delivered to an endpoint. This
 can severely impact monitoring (as you don't get a build-up of DLQs when things goes wrong - only log lines)
 and to a degree debugging (since you don't have the DLQ'ed messages to look at).)
 <p/>
 <b>This is only usable for "pure GET"-style requests <i>without <u>any</u> state changes along the flow</i>,
 i.e. "AccountService.getBalances", for display to an end user.</b> If such a message is lost, the world won't
 go under.
 <p/>
 The upshot here is that non-persistent messaging typically is blazingly fast and is way less resource
 demanding, as the messages will not have to (transactionally) be stored in non-volatile storage. It is
 therefore wise to actually employ this feature where it makes sense (which, again, is <i>only</i> relevant
 for side-effect free GET-style requests).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nonPersistent(long)">
<h3>nonPersistent</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">nonPersistent</span><wbr><span class="parameters">(long&nbsp;timeToLiveMillis)</span></div>
<div class="block">Same as <a href="#nonPersistent()"><code>nonPersistent()</code></a>, but you can set a time-to-live too. If the message gets this old and have
 not yet been delivered to the receiving Mats endpoint, it will be deleted and never delivered.
 <p/>
 This functionality often makes sense for messages that are <b>both</b> <a href="#interactive()"><code>interactive</code></a> and
 <a href="#nonPersistent()"><code>non-persistent</code></a>: Such messages shall only be "getters" free of any side effects (i.e.
 no state is changed by the entire message flow), and where a human is actively waiting for the reply. If
 there is a situation where such messages aren't consumed due to the receiving service having problems, it
 does not make sense to use processing resources to handle a massive stack of these messages when the
 consumption is restored an hour later, as e.g. the synchronously waiting HTTP call that was waiting for the
 reply has timed out, and the waiting human is probably long gone anyway.
 <p/>
 <b>Notice on use:</b> This should <b>NOT</b> be employed for message flows where any stage might change any
 state, i.e. message flows with side effects (Think "PUT", "POST" and "DELETE"-style messages) - which also
 should <b>NOT</b> employ <a href="#nonPersistent()"><code>non-persistent</code></a> messaging. The rationale is that such
 messages should never just cease to exists, for any reason - they should have both guaranteed delivery and
 execution. You should also never use this to handle any business logic, e.g. some kind of order time-out
 where an order is only valid until 21:00, or something like this. This both because of the <i>"Note on
 implementation"</i> below, and that the entire facility of "time to live" is optional both for Mats and for
 the underlying message queue system.
 <p/>
 <b>Notice on implementation:</b> If the message is a part of a multi-message flow, which most Mats
 initiations pretty much invariably is (a request consists of a request-message and a reply-message), this TTL
 will be set afresh on every new message in the flow, possibly with the amount of time taken in the processing
 of the stage deducted. <u>However, the time that the message waited in queue will not be deducted.</u> The
 effective TTL of the flow might therefore be a multiple of what is set here. An example: The TTL of an
 initiation is set to 5000 ms. The request message stays 4 seconds in queue, before being received and
 processed, where the processing took 100 ms. The reply-message will thus have its TTL set to 4900 ms: 5000 ms
 TTL - 100 ms for processing. The reply message stays 4 seconds in queue before being received. The total
 "time in flight" has now been 8.1 seconds, and there was still 900 ms left of the reply-message's TTL. The
 rationale for not deducting queue-time on the subsequent message is that there is no easy way to get the
 "queue time" which does not involve taking the difference between two timestamps, but in a multi-server
 architecture there is a clear possibility of clock skews between different services, even for instances of
 the same service. You could then deduce a too high queue time, deducting a too high value from the
 reply-message's TTL, and effectively time out the full message flow too early. However, for the intended use
 case - to hinder build-up of messages that will nevertheless be valueless when the answer is received since
 the interactively waiting human is long gone - this is no big problem.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeToLiveMillis</code> - the number of milliseconds before this message is timed out and thus will never be delivered - 0
            means "live forever", and this is the default.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="interactive()">
<h3>interactive</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">interactive</span>()</div>
<div class="block"><b>Prioritize this Mats flow!</b> Hint to the underlying implementation that a human is actually waiting for
 the result of a request, and that the flow therefore should be prioritized. This status will be kept through
 the entire flow, so that all messages in the flow are prioritized. This makes it possible to use the same
 "AccountService.getBalances" service both for the Web Application that the user facing GUI are employing, and
 the batch processing of a ton of orders. Without such a feature, the interactive usage could be backlogged by
 the batch process, while if the interactive flag is set, it will bypass the backlog of "ordinary" messages.
 <p/>
 This implies that MATS defines two levels of prioritization: "Ordinary" and "Interactive". Most processing
 should employ the default, i.e. "Ordinary", while places where <i><u>a human is actually waiting for the
 reply</u></i> should employ the fast-lane, i.e. "Interactive". It is <b>imperative</b> to not abuse this
 feature, or else it will loose its value: If batches are going too slow, nothing will be gained by setting
 the interactive flag except destroying the entire point of this feature. Instead use higher parallelism: By
 increasing <a href="MatsConfig.html#setConcurrency(int)"><code>concurrency</code></a> or the number of nodes that is running the
 problematic endpoint or stage; increase the speed and/or throughput of external systems like the database; or
 somehow just code the whole thing to be faster!
 <p/>
 It will often make sense to set both this flag, and the <a href="#nonPersistent()"><code>nonPersistent()</code></a>, at the same time. E.g. when
 you need to show the account balance for a customer: It both needs to skip past any bulk/batch queue of such
 requests (since a human is literally waiting for the result), but it is also a "pure GET"-style request, not
 altering state whatsoever, so it can also be set to non-persistent.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="noAudit()">
<h3>noAudit</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">noAudit</span>()</div>
<div class="block">Marks this Mats flow as not relevant for auditing.
 <p/>
 When considering auditing ("event sourcing"-style) of all messages, one quickly realizes that there are very
 many messages that aren't that interesting to log. These are pure getters employed to show information to
 users, and even worse in this respect, <i>"Are you up?"</i>-type health checks.
 <p/>
 This flag is here to mark messages as such: <i>"You will gain no historic insight in logging the following
 message flow!"</i>. This flag should NOT be set for ANY messages that (can potentially) change state in any
 part of the total system (i.e. "permanent state", e.g. a row in a database). More subtle, the flag should
 also not be set for "getters" that are performed to decide upon a state - e.g. for validation of new orders:
 The getter that checks credit should be audited. If such a getter is a part of a Mats flow, this should not
 be a problem, as the initiator of the "add order" Mats flow would obviously not set noAudit(). However, if it
 is coded as multiple "stop and go" flows, i.e. add the order to some incoming order table. Then a next,
 separate Mats flow is validation: <i>That</i> getter <i>should</i> be audited, hence do not set noAudit().
 <p/>
 Note: It might be interesting to log that such messages actually happened, but not the content of them. This
 is to be able to tally them, i.e. <i>"WebService.healthCheck is invoking AccountService.webStatus 52389052
 times per day"</i> - both to see that it is probably a bit excessive, and to see that there is traffic there
 at all (since AccountService.webStatus seems to be a pretty specific endpoint). However, there is probably
 not much use in storing the <i>contents</i> of such calls - and maybe not retain the calls for more than a
 few months.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="from(java.lang.String)">
<h3>from</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">from</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;initiatorId)</span></div>
<div class="block">Sets the originating/initiating "synthetic endpoint Id" - only used for statistics/tracing/debugging. If this
 message is initiated <i>from within a stage</i>, i.e. by use of
 <a href="MatsEndpoint.ProcessContext.html#initiate(io.mats3.MatsInitiator.InitiateLambda)"><code>MatsEndpoint.ProcessContext.initiate(InitiateLambda)</code></a>, the 'from' property is already set to the stageId of the
 currently processing Stage, but it can be <b>overridden</b> if desired. It is important that you do not make
 this into a dynamic string, i.e. do not add some Id to it (such Ids should go into the traceId).
 <p/>
 It it is smart to decide on a common prefix for all Mats Endpoints and InitiatorIds for a particular service.
 E.g. "OrderService" or "InventoryService" or something like this.
 <p/>
 A good value that would be of use when debugging a call trace is something following a structure like
 <code>"OrderService.REST.place_order_from_user"</code>, this example trying to convey that it is from the
 OrderSystem, coming in over its REST endpoint "place_order_from_user". Note that there are no e.g. userId
 there.
 <p/>
 <b>NOTE:</b> This is only used for tracing/debugging (in particular, it is not related to the
 <a href="#replyTo(java.lang.String,java.lang.Object)"><code>replyTo</code></a> functionality), but should be set to something that will give
 insights when you try to make sense of call flows. Think of a introspection system showing a histogram of
 where messages are initiated, so that you can see that 45% of the messages are coming from the OrderSystem's
 REST endpoints, and 15% of all initiations are its "place_order_from_user". <b>This also implies that it
 shall not be a dynamic value, i.e. do not put something that will vary between each call, that is, do NOT add
 the user's Id or something like that.</b> Such dynamic elements is what the <a href="#traceId(java.lang.CharSequence)"><code>traceId(CharSequence)</code></a> is
 for.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>initiatorId</code> - the originating/initiating "synthetic endpoint Id" - only used for tracing/debugging.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="to(java.lang.String)">
<h3>to</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">to</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointId)</span></div>
<div class="block">Sets which MATS Endpoint this message should go.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>endpointId</code> - to which MATS Endpoint this message should go.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="replyTo(java.lang.String,java.lang.Object)">
<h3>replyTo</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">replyTo</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;replySto)</span></div>
<div class="block">Specified which MATS Endpoint the reply of the invoked Endpoint should go to.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>endpointId</code> - which MATS Endpoint the reply of the invoked Endpoint should go to.</dd>
<dd><code>replySto</code> - the object that should be provided as STO to the service which get the reply.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="replyToSubscription(java.lang.String,java.lang.Object)">
<h3>replyToSubscription</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">replyToSubscription</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;endpointId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;replySto)</span></div>
<div class="block">A "pub-sub" variant of <a href="#replyTo(java.lang.String,java.lang.Object)"><code>replyTo</code></a>, where the reply will go to the specified
 endpointId which must be a
 <a href="MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>endpointId</code> - which MATS Endpoint the reply of the invoked Endpoint should go to.</dd>
<dd><code>replySto</code> - the object that should be provided as STO to the service which get the reply.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setTraceProperty(java.lang.String,java.lang.Object)">
<h3>setTraceProperty</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">setTraceProperty</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;propertyName,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;propertyValue)</span></div>
<div class="block">Adds a property that will "stick" with the call flow from this call on out. Read more on
 <a href="MatsEndpoint.ProcessContext.html#setTraceProperty(java.lang.String,java.lang.Object)"><code>MatsEndpoint.ProcessContext.setTraceProperty(String, Object)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>propertyName</code> - the name of the property</dd>
<dd><code>propertyValue</code> - the value of the property, which will be serialized using the active MATS serializer.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="MatsEndpoint.ProcessContext.html#setTraceProperty(java.lang.String,java.lang.Object)"><code>MatsEndpoint.ProcessContext.setTraceProperty(String, Object)</code></a></li>
<li><a href="MatsEndpoint.DetachedProcessContext.html#getTraceProperty(java.lang.String,java.lang.Class)"><code>MatsEndpoint.DetachedProcessContext.getTraceProperty(String, Class)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addBytes(java.lang.String,byte[])">
<h3>addBytes</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">addBytes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key,
 byte[]&nbsp;payload)</span></div>
<div class="block">Adds a binary payload to the outgoing request message, e.g. a PDF document.
 <p/>
 The rationale for having this is to not have to encode a largish byte array inside the JSON structure that
 carries the Request DTO - byte arrays represent very badly in JSON.
 <p/>
 Note: The byte array is not compressed (as might happen with the DTO), so if the payload is large, you might
 want to consider compressing it before attaching it (and will then have to decompress it on the receiving
 side).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key on which to store the byte array payload. The receiver will have to use this key to get
            the payload out again, so either it will be a specific key that the sender and receiver agree
            upon, or you could generate a random key, and reference this key as a field in the Request DTO.</dd>
<dd><code>payload</code> - the byte array.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#addString(java.lang.String,java.lang.String)"><code>addString(String, String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addString(java.lang.String,java.lang.String)">
<h3>addString</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">addString</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;payload)</span></div>
<div class="block">Adds a String payload to the outgoing request message, e.g. a XML, JSON or CSV document.
 <p/>
 The rationale for having this is to not have to encode a largish string document inside the JSON structure
 that carries the Request DTO.
 <p/>
 Note: The String payload is not compressed (as might happen with the DTO), so if the payload is large, you
 might want to consider compressing it before attaching it and instead use the
 <a href="#addBytes(java.lang.String,byte%5B%5D)"><code>addBytes(..)</code></a> method (and will then have to decompress it on the receiving
 side).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key on which to store the String payload. The receiver will have to use this key to get the
            payload out again, so either it will be a specific key that the sender and receiver agree upon, or
            you could generate a random key, and reference this key as a field in the Request DTO.</dd>
<dd><code>payload</code> - the string.</dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#addBytes(java.lang.String,byte%5B%5D)"><code>addBytes(String, byte[])</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="logMeasurement(java.lang.String,java.lang.String,java.lang.String,double,java.lang.String...)">
<h3>logMeasurement</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">logMeasurement</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;metricId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;metricDescription,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;baseUnit,
 double&nbsp;measure,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;labelKeyValue)</span></div>
<div class="block">Adds a measurement of a described variable, in a base unit, for this Initiation - <b>be sure to understand
 that the three String parameters are <i>constants</i> for each measurement.</b> To exemplify, you may measure
 five different things in an Initiation, i.e. "number of items in order", "total amount for order in dollar",
 etc - and each of these obviously have different metricId, metricDescription and possibly different baseUnit
 from each other. BUT, the specific arguments for "number of items in order" (outside the measure itself!)
 shall not change between one Initiation and the next (of the same "type", i.e. place in the code): e.g. the
 metricDescription shall <b>NOT</b> be dynamically constructed to e.g. say <i>"Number of items in order 1234
 for customer 5678"</i>.
 <p/>
 Note: It is illegal to use the same 'metricId' for more than one measurement for a given Initiation, and this
 also goes between measurements and <a href="#logTimingMeasurement(java.lang.String,java.lang.String,long,java.lang.String...)"><code>timing
 measurements</code></a>.
 <p/>
 <b>Inclusion as metric by plugin 'mats-intercept-micrometer'</b>: A new meter will be created (and cached),
 of type <code>DistributionSummary</code>, with the 'name' set to
 <code>"mats.exec.ops.measure.{metricId}.{baseUnit}"</code> ("measure"-&gt;"time" for timings), and
 'description' to description. (Tags/labels already added on the meter by the plugin include 'appName',
 'initiatorId', 'initiatingAppName', 'stageId' (for stages), and 'initiatorName' (for inits)). Read about
 parameter 'labelKeyValue' below.
 <p/>
 <b>Inclusion as log line by plugin 'mats-intercept-logging'</b>: A log line will be output by each added
 measurement, where the MDC for that log line will have an entry with key
 <code>"mats.ops.measure.{metricId}.{baseUnit}"</code>. Read about parameter 'labelKeyValue' below.
 <p/>
 It generally makes most sense if the same metrics are added for each processing of a particular Initiation,
 i.e. if the "number of items" are 0, then that should also be recorded along with the "total amount for order
 in dollar" as 0, not just elided. Otherwise, your metrics will be skewed.
 <p/>
 You should use a dot-notation for the metricId if you want to add multiple meters with a
 hierarchical/subdivision layout.
 <p/>
 The vararg 'labelKeyValue' is an optional element where the String-array consist of one or several alternate
 key, value pairs. <b>Do not employ this feature unless you know what the effects are, and you actually need
 it!</b> This will be added as labels/tags to the metric, and added to the SLF4J MDC for the measurement log
 line with the key being <code>"mats.ops.measure.{metricId}.{labelKey}"</code> ("measure"-&gt;"time" for
 timings). The keys should be constants as explained for the other parameters, while the value can change, but
 only between a given set of values (think <code>enum</code>) - using e.g. the 'customerId' as value doesn't
 make sense and will blow up your metric cardinality. Notice that if you do employ e.g. two labels, each
 having one of three values, <i>you'll effectively create 9 different meters</i>, where your measurement will
 go to one of them.
 <p/>
 <b>NOTICE: If you want to do a timing, then instead use
 <a href="#logTimingMeasurement(java.lang.String,java.lang.String,long,java.lang.String...)"><code>logTimingMeasurement(String, String, long, String...)</code></a></b></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>metricId</code> - constant, short, possibly dot-separated if hierarchical, id for this particular metric, e.g.
            "items" or "amount", or "db.query.orders".</dd>
<dd><code>metricDescription</code> - constant, textual description for this metric, e.g. "Number of items in customer order", "Total
            amount of customer order"</dd>
<dd><code>baseUnit</code> - the unit for this measurement, e.g. "quantity" (for a count measure), "dollar" (for an amount), or
            "bytes" (for a document size).</dd>
<dd><code>measure</code> - value of the measurement</dd>
<dd><code>labelKeyValue</code> - a String-vararg array consisting of alternate key,value pairs which will becomes labels or tags or
            entries for the metrics and log lines. <b>Read the JavaDoc above; the keys shall be "static" for a
            specific measure, while the values can change between a specific small set values.</b></dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="logTimingMeasurement(java.lang.String,java.lang.String,long,java.lang.String...)">
<h3>logTimingMeasurement</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">logTimingMeasurement</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;metricId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;metricDescription,
 long&nbsp;nanos,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;labelKeyValue)</span></div>
<div class="block">Same as <a href="#logMeasurement(java.lang.String,java.lang.String,java.lang.String,double,java.lang.String...)"><code>addMeasurement(..)</code></a>, but
 specifically for timings - <b>Read that JavaDoc!</b>
 <p/>
 Note: It is illegal to use the same 'metricId' for more than one measurement for a given Initiation, and this
 also goes between timing measurements and <a href="#logMeasurement(java.lang.String,java.lang.String,java.lang.String,double,java.lang.String...)"><code>measurements</code></a>.
 <p/>
 For the metrics-plugin 'mats-intercept-micrometer' plugin, the 'baseUnit' argument is deduced to whatever is
 appropriate for the receiving metrics system, e.g. for Prometheus it is "seconds", even though you always
 record the measurement in nanoseconds using this method.
 <p/>
 For the logging-plugin 'mats-intercept-logging' plugin, the timing in the log line will be in milliseconds
 (with fractions), even though you always record the measurement in nanoseconds using this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>metricId</code> - constant, short, possibly dot-separated if hierarchical, id for this particular metric, e.g.
            "db.query.orders" or "calcprofit".</dd>
<dd><code>metricDescription</code> - constant, textual description for this metric, e.g. "Time taken to execute order query", "Time
            taken to calculate profit or loss".</dd>
<dd><code>nanos</code> - time taken <b>in nanoseconds</b></dd>
<dd><code>labelKeyValue</code> - a String-vararg array consisting of alternate key,value pairs which will becomes labels or tags or
            entries for the metrics and log lines. Read the JavaDoc at
            <a href="#logMeasurement(java.lang.String,java.lang.String,java.lang.String,double,java.lang.String...)"><code>addMeasurement(..)</code></a></dd>
<dt>Returns:</dt>
<dd>the <a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3"><code>MatsInitiator.MatsInitiate</code></a> for chaining.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="request(java.lang.Object)">
<h3>request</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></span>&nbsp;<span class="element-name">request</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;requestDto)</span></div>
<div class="block"><i>The standard request initiation method</i>: All of from, to and replyTo must be set. A message is sent to
 a service, and the reply from that service will come to the specified reply endpointId, typically a
 terminator.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>requestDto</code> - the object which the endpoint will get as its incoming DTO (Data Transfer Object).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="request(java.lang.Object,java.lang.Object)">
<h3>request</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></span>&nbsp;<span class="element-name">request</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;requestDto,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initialTargetSto)</span></div>
<div class="block"><b>Variation of the request initiation method</b>, where the incoming state is sent along.
 <p/>
 <b>This only makes sense if the same code base "owns" both the initiation code and the endpoint to which this
 message is sent.</b> It is mostly here for completeness, since it is <i>possible</i> to send state along with
 the message, but if employed between different services, it violates the premise that MATS is built on: State
 is private to the stages of a multi-stage endpoint, and the Request and Reply DTOs are the public interface.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>requestDto</code> - the object which the target endpoint will get as its incoming DTO (Data Transfer Object).</dd>
<dd><code>initialTargetSto</code> - the object which the target endpoint will get as its STO (State Transfer Object).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="send(java.lang.Object)">
<h3>send</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></span>&nbsp;<span class="element-name">send</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;messageDto)</span></div>
<div class="block">Sends a message to an endpoint, without expecting any reply ("fire-and-forget"). The 'reply' parameter must
 not be set.
 <p/>
 Note that the difference between <code>request(..)</code> and <code>send(..)</code> is only that replyTo is
 not set for send, otherwise the mechanism is exactly the same.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>messageDto</code> - the object which the target endpoint will get as its incoming DTO (Data Transfer Object).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="send(java.lang.Object,java.lang.Object)">
<h3>send</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></span>&nbsp;<span class="element-name">send</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;messageDto,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initialTargetSto)</span></div>
<div class="block"><b>Variation of the <a href="#send(java.lang.Object)"><code>send(Object)</code></a> method</b>, where the incoming state is sent along.
 <p/>
 <b>This only makes sense if the same code base "owns" both the initiation code and the endpoint to which this
 message is sent.</b> It is mostly here for completeness, since it is <i>possible</i> to send state along with
 the message, but if employed between different services, it violates the premise that MATS is built on: State
 is private to the stages of a multi-stage endpoint, and the Request and Reply DTOs are the public interface.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>messageDto</code> - the object which the target endpoint will get as its incoming DTO (Data Transfer Object).</dd>
<dd><code>initialTargetSto</code> - the object which the target endpoint will get as its STO (State Transfer Object).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="publish(java.lang.Object)">
<h3>publish</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></span>&nbsp;<span class="element-name">publish</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;messageDto)</span></div>
<div class="block">Sends a message to a
 <a href="MatsFactory.html#subscriptionTerminator(java.lang.String,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessTerminatorLambda)"><code>SubscriptionTerminator</code></a>, employing the publish/subscribe pattern instead of message queues (topic in JMS
 terms). <b>This means that all of the live servers that are listening to this endpointId will receive the
 message, and if there are no live servers, then no one will receive it.</b>
 <p/>
 The concurrency of a SubscriptionTerminator is always 1, as it only makes sense for there being only one
 receiver per server - otherwise it would just mean that all of the active listeners on one server would get
 the message, per semantics of the pub/sub.
 <p/>
 It is only possible to publish to SubscriptionTerminators as employing publish/subscribe for multi-stage
 services makes no sense.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>messageDto</code> - the object which the target endpoint will get as its incoming DTO (Data Transfer Object).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="publish(java.lang.Object,java.lang.Object)">
<h3>publish</h3>
<div class="member-signature"><span class="return-type"><a href="MatsInitiator.MessageReference.html" title="interface in io.mats3">MatsInitiator.MessageReference</a></span>&nbsp;<span class="element-name">publish</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;messageDto,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initialTargetSto)</span></div>
<div class="block"><b>Variation of the <a href="#publish(java.lang.Object)"><code>publish(Object)</code></a> method</b>, where the incoming state is sent along.
 <p/>
 <b>This only makes sense if the same code base "owns" both the initiation code and the endpoint to which this
 message is sent.</b> The possibility to send state along with the request makes most sense with the publish
 method: A SubscriptionTerminator is often paired with a Terminator, where the Terminator receives the
 message, typically a reply from a requested service, along with the state that was sent in the initiation.
 The terminator does any "needs to be guaranteed to be performed" state changes to e.g. database, and then
 passes the incoming message - <b>along with the same state it received</b> - on to a SubscriptionTerminator.
 The SubscriptionTerminator performs any updates of any connected GUI clients, or for any other local states,
 e.g. invalidation of caches, <i>on all live servers listening to that endpoint</i>, the point being that if
 no servers are live at that moment, no one will process that message - but at the same time, there is
 obviously no GUI clients connected, nor are there are local state in form of caches that needs to be
 invalidated.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>messageDto</code> - the object which the target endpoint will get as its incoming DTO (Data Transfer Object).</dd>
<dd><code>initialTargetSto</code> - the object which the target endpoint will get as its STO (State Transfer Object).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unstash(byte[],java.lang.Class,java.lang.Class,java.lang.Class,io.mats3.MatsEndpoint.ProcessLambda)">
<h3>unstash</h3>
<div class="member-signature"><span class="type-parameters">&lt;R,<wbr>
S,<wbr>
I&gt;</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">unstash</span><wbr><span class="parameters">(byte[]&nbsp;stash,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;R&gt;&nbsp;replyClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;S&gt;&nbsp;stateClass,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;I&gt;&nbsp;incomingClass,
 <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3">MatsEndpoint.ProcessLambda</a>&lt;R,<wbr>S,<wbr>I&gt;&nbsp;lambda)</span></div>
<div class="block">Unstashes a Mats Flow that have been previously <a href="MatsEndpoint.ProcessContext.html#stash()"><code>stashed</code></a>. To be able to
 deserialize the stashed bytes to instances provided to the supplied <a href="MatsEndpoint.ProcessLambda.html" title="interface in io.mats3"><code>MatsEndpoint.ProcessLambda</code></a>, you need to
 provide the classes of the original stage's Reply, State and Incoming objects.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>R</code> - type of the ReplyClass</dd>
<dd><code>S</code> - type of the StateClass</dd>
<dd><code>I</code> - type of the IncomingClass</dd>
<dt>Parameters:</dt>
<dd><code>stash</code> - the stashed bytes which now should be unstashed</dd>
<dd><code>replyClass</code> - the class which the original stage originally would reply with.</dd>
<dd><code>stateClass</code> - the class which used for state in the original stage (endpoint) - or <code>Void.TYPE</code> (i.e.
            <code>void.class</code>) if none.</dd>
<dd><code>incomingClass</code> - the class which the original stage gets as incoming DTO.</dd>
<dd><code>lambda</code> - the stage lambda which should now be executed instead of the original stage lambda where stash was
            invoked.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAttribute(java.lang.Class,java.lang.String...)">
<h3>getAttribute</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;T&gt;</span>&nbsp;<span class="element-name">getAttribute</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;type,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;name)</span></div>
<div class="block">Provides a way to get hold of (optional) attributes/objects from the Mats implementation, either specific to
 the Mats implementation in use, or configured into this instance of the Mats implementation. Mirrors the same
 method at <a href="MatsEndpoint.ProcessContext.html#getAttribute(java.lang.Class,java.lang.String...)"><code>MatsEndpoint.ProcessContext.getAttribute(Class, String...)</code></a>. There is also a ThreadLocal-accessible
 version at <a href="MatsFactory.ContextLocal.html#getAttribute(java.lang.Class,java.lang.String...)"><code>MatsFactory.ContextLocal.getAttribute(Class, String...)</code></a>.
 <p/>
 Mandatory: If the Mats implementation has a transactional SQL Connection, it shall be available by
 <code>'context.getAttribute(Connection.class)'</code>.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The type of the attribute.</dd>
<dt>Parameters:</dt>
<dd><code>type</code> - The expected type of the attribute</dd>
<dd><code>name</code> - The (optional) (hierarchical) name(s) of the attribute.</dd>
<dt>Returns:</dt>
<dd>Optional of the attribute in question, the optionality pointing out that it depends on the Mats
         implementation or configuration whether it is available.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="MatsEndpoint.ProcessContext.html#getAttribute(java.lang.Class,java.lang.String...)"><code>MatsEndpoint.ProcessContext.getAttribute(Class, String...)</code></a></li>
<li><a href="MatsFactory.ContextLocal.html#getAttribute(java.lang.Class,java.lang.String...)"><code>MatsFactory.ContextLocal.getAttribute(Class, String...)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unwrapFully()">
<h3>unwrapFully</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MatsInitiator.MatsInitiate.html" title="interface in io.mats3">MatsInitiator.MatsInitiate</a></span>&nbsp;<span class="element-name">unwrapFully</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>default <code>this</code> for implementations, overridden by wrappers.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
